(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-verification-index-index"],{"19b7":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"container",class:e.themeStyle},[i("v-uni-view",{staticClass:"operation-wrap"},[i("v-uni-view",{staticClass:"record-wrap ns-text-color",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$util.redirectTo("/otherpages/verification/list/list")}}},[i("v-uni-text",{staticClass:"iconfont iconjilu"}),i("v-uni-text",[e._v("核销记录")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"sweepCode"==e.operationType,expression:"operationType == 'sweepCode'"}],staticClass:"sweep-code ns-gradient-otherpages-verification-index-index-code",class:e.themeStyle,on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.scanCode.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont iconsaoma"})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"manualInput"==e.operationType,expression:"operationType == 'manualInput'"}],staticClass:"manual-input"},[i("v-uni-view",{staticClass:"process-wrap"},[i("v-uni-view",{staticClass:"wrap"},[i("v-uni-view",{staticClass:"_icon"},[i("v-uni-text",{staticClass:"iconfont iconshurutianxiebi"})],1),i("v-uni-view",{staticClass:"_text"},[e._v("输入核销码")])],1),i("v-uni-view",[i("v-uni-view",[i("v-uni-text",{staticClass:"iconfont iconjiang-copy ns-text-color-gray"})],1)],1),i("v-uni-view",{staticClass:"wrap"},[i("v-uni-view",{staticClass:"_icon"},[i("v-uni-text",{staticClass:"iconfont iconhexiao"})],1),i("v-uni-view",{staticClass:"_text"},[e._v("核销")])],1)],1),i("v-uni-input",{staticClass:"_input",attrs:{type:"text",value:"",placeholder:"请输入核销码","placeholder-class":"_placeholder"},model:{value:e.verify_code,callback:function(t){e.verify_code=t},expression:"verify_code"}}),i("v-uni-view",{staticClass:"_btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[i("v-uni-button",{attrs:{type:"primary"}},[e._v("确认")])],1)],1)],1),i("v-uni-view",{staticClass:"arc-edge"}),i("v-uni-view",{staticClass:"operation-type-wrap"},[i("v-uni-view",{staticClass:"operation",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeOperationType("sweepCode")}}},[i("v-uni-view",{staticClass:"_icon"},[i("v-uni-text",{staticClass:"iconfont iconsaoma"})],1),i("v-uni-view",{staticClass:"_text"},[e._v("扫码核销")])],1),i("v-uni-view",{staticClass:"iconfont icontiaoxingmasaomiao ns-gradient-otherpages-verification-index-index-code",class:e.themeStyle}),i("v-uni-view",{staticClass:"operation",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeOperationType("manualInput")}}},[i("v-uni-view",{staticClass:"_icon"},[i("v-uni-text",{staticClass:"iconfont iconshuru"})],1),i("v-uni-view",{staticClass:"_text"},[e._v("手动输入")])],1)],1)],1)},o=[]},"476a":function(e,t,i){var a=i("a0b7");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("1ac304c0",a,!0,{sourceMap:!1,shadowMode:!1})},"5d75":function(e,t,i){"use strict";var a=i("476a"),n=i.n(a);n.a},"61c0":function(e,t,i){"use strict";i.r(t);var a=i("19b7"),n=i("862e");for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("5d75");var r,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"4fe4bea0",null,!1,a["a"],r);t["default"]=c.exports},"862e":function(e,t,i){"use strict";i.r(t);var a=i("c733"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},a0b7:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/**  -------------------------------------------------------------------默认主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------蓝色主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------绿色主题颜色配置-------------------------------------------------- */\n/* 文字基本颜色 */\n/* 文字尺寸 */.container[data-v-4fe4bea0]{width:100vw;height:100vh}.container .operation-wrap[data-v-4fe4bea0]{padding:%?100?% 0;background:#fff;position:relative;margin-top:%?20?%}.container .operation-wrap .record-wrap[data-v-4fe4bea0]{position:absolute;top:%?20?%;right:%?20?%}.container .operation-wrap .record-wrap .iconfont[data-v-4fe4bea0]{font-size:%?24?%;margin-right:%?10?%}.container .operation-wrap .sweep-code[data-v-4fe4bea0]{width:%?400?%;height:%?400?%;box-shadow:0 8px 8px 0 rgba(0,0,0,.03),0 6px 3px 0 rgba(0,0,0,.02);border-radius:50%;margin:0 auto;text-align:center;line-height:%?400?%}.container .operation-wrap .sweep-code .iconfont[data-v-4fe4bea0]{color:#fff;font-size:%?150?%}.container .operation-wrap .manual-input[data-v-4fe4bea0]{width:70%;margin:auto}.container .operation-wrap .manual-input .process-wrap[data-v-4fe4bea0]{height:%?150?%;display:-webkit-box;display:-webkit-flex;display:flex;padding-top:%?60?%}.container .operation-wrap .manual-input .process-wrap .wrap[data-v-4fe4bea0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}.container .operation-wrap .manual-input .process-wrap .wrap ._icon[data-v-4fe4bea0]{width:%?60?%;height:%?60?%;background:#eee;border-radius:50%;margin:0 auto;color:#999}.container .operation-wrap .manual-input .process-wrap .wrap ._icon .iconfont[data-v-4fe4bea0]{font-size:%?32?%}.container .operation-wrap .manual-input .process-wrap .wrap ._text[data-v-4fe4bea0]{font-size:%?24?%;margin-top:%?10?%;color:#999}.container .operation-wrap .manual-input ._input[data-v-4fe4bea0]{height:%?80?%;border:1px solid #eee;border-radius:%?8?%;box-sizing:border-box;padding:%?20?%;font-size:%?28?%;text-align:center}.container .operation-wrap .manual-input ._placeholder[data-v-4fe4bea0]{font-size:%?28?%;text-align:center}.container .operation-wrap .manual-input ._btn[data-v-4fe4bea0]{margin-top:%?40?%}.container .arc-edge[data-v-4fe4bea0]{width:100%;height:%?80?%;background:#fff;border-radius:%?400?%/%?40?%;\n  /*上下有弧度的边*/-webkit-transform:translateY(-50%);transform:translateY(-50%)}.container .operation-type-wrap[data-v-4fe4bea0]{width:70%;height:%?90?%;background:#fff;border-radius:%?90?%;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;box-shadow:0 6px 6px 0 rgba(0,0,0,.03),0 4px 2px 0 rgba(0,0,0,.04);margin:%?100?% auto}.container .operation-type-wrap .operation[data-v-4fe4bea0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center}.container .operation-type-wrap .operation ._icon[data-v-4fe4bea0]{line-height:25px;height:25px}.container .operation-type-wrap .operation ._text[data-v-4fe4bea0]{font-size:%?24?%;line-height:1}.container .operation-type-wrap .icontiaoxingmasaomiao[data-v-4fe4bea0]{width:%?110?%;height:%?110?%;border-radius:50%;-webkit-transform:translateY(%?-10?%);transform:translateY(%?-10?%);box-shadow:0 8px 8px 0 rgba(0,0,0,.03),0 6px 3px 0 rgba(0,0,0,.02);color:#fff;text-align:center;line-height:%?110?%;font-size:%?40?%}',""]),e.exports=t},c733:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{operationType:"manualInput",verify_code:""}},onLoad:function(){},onShow:function(){this.$langConfig.refresh(),uni.getStorageSync("token")?this.checkIsVerifier():this.$util.redirectTo("/pages/member/index/index",{},"reLaunch")},computed:{themeStyle:function(){return"theme-"+this.$store.state.themeStyle}},methods:{scanCode:function(){var e=this;uni.scanCode({onlyFromCamera:!0,success:function(t){if("WX_CODE"==t.scanType&&"scanCode:ok"==t.errMsg)try{e.$util.redirectTo("/"+t.path)}catch(i){e.$util.showToast({title:i.message})}else e.$util.showToast({title:t.errorMsg})}})},changeOperationType:function(e){"sweepCode"!=e?this.operationType=e:this.$util.showToast({title:"H5端不支持扫码核销"})},checkIsVerifier:function(){var e=this;this.$api.sendRequest({url:"/api/verify/checkisverifier",success:function(t){if(-1==t.code&&"TOKEN_ERROR"==t.error_code){e.$util.showToast({title:"登录失败"});var i=getCurrentPages(),a=i[i.length-1].options,n=i[i.length-1].route;return a.back=n,void setTimeout((function(){e.$util.redirectTo("/pages/login/login/login",a)}),1500)}t.data||(e.$util.showToast({title:"非核销员无此权限"}),setTimeout((function(){e.$util.redirectTo("/pages/member/index/index",{},"reLaunch")}),1e3))}})},confirm:function(){var e=this,t=/[\S]+/;if(!t.test(this.verify_code))return this.$util.showToast({title:"请输入核销码"}),!1;this.$api.sendRequest({url:"/api/verify/verifyInfo",data:{verify_code:this.verify_code},success:function(t){t.code>=0?e.$util.redirectTo("/otherpages/verification/detail/detail",{code:e.verify_code}):e.$util.showToast({title:t.message})}})}}};t.default=a}}]);