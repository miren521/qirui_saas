(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-point-list-list"],{"0746":function(t,i,e){"use strict";e("4160"),e("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o={name:"ns-advert",props:{keyword:{type:String}},data:function(){return{advList:[],nowIndex:0,advInfo:{}}},created:function(){this.getAdvList()},computed:{bgColor:function(){return this.advInfo?this.advInfo.ap_background_color:"#ffffff"}},methods:{getAdvList:function(){var t=this;this.keyword&&this.$api.sendRequest({url:"/api/adv/detail",data:{keyword:this.keyword},success:function(i){0==i.code&&i.data&&(i.data.adv_list.forEach((function(t){t.adv_url&&(t.adv_url=JSON.parse(t.adv_url))})),t.advList=i.data.adv_list,t.advInfo=i.data.adv_position)},fail:function(){}})},jumppage:function(t){this.$util.diyRedirectTo(t)},swiperChange:function(t){this.nowIndex=t.detail.current}}};i.default=o},"27be":function(t,i,e){"use strict";e.r(i);var o=e("8b4a"),n=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(i,t,(function(){return o[t]}))}(a);i["default"]=n.a},"314c":function(t,i,e){"use strict";e.r(i);var o=e("8ad2"),n=e("27be");for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);e("b6f4");var s,d=e("f0c5"),c=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"3c78d3d5",null,!1,o["a"],s);i["default"]=c.exports},4136:function(t,i,e){var o=e("93c1");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=e("4f06").default;n("1a65e1b6",o,!0,{sourceMap:!1,shadowMode:!1})},"44db":function(t,i,e){var o=e("4b9b");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=e("4f06").default;n("4addc9e4",o,!0,{sourceMap:!1,shadowMode:!1})},"4b9b":function(t,i,e){var o=e("24fb");i=o(!1),i.push([t.i,".ns-adv .image-box[data-v-d409a55e]{width:100%;height:100%;position:relative}.ns-adv uni-image[data-v-d409a55e]{width:100%;position:absolute;left:0;right:0;bottom:0;top:0;margin:auto}",""]),t.exports=i},"8ad2":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return o}));var o={nsEmpty:e("916e").default,uniPopup:e("4c55").default,loadingCover:e("1ba8").default,nsLogin:e("7769").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.addonIsExit.pintuan?e("v-uni-view",{staticClass:"point-wrap",class:t.themeStyle},[t.addonIsExit.pointexchange?[t.isLogin?e("v-uni-view",{staticClass:"point-top ns-bg-color",style:"background-image: url("+t.$util.img("/upload/uniapp/point/point-shop.png")+")"},[e("v-uni-view",{staticClass:"point-desc"},[e("v-uni-view",{staticClass:"point-num"},[t._v(t._s(t.point?t.point:0))]),e("v-uni-view",{staticClass:"point-rule",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openPointPopup()}}},[e("v-uni-text",{staticClass:"iconfont iconbangzhu1"}),t._v("积分兑换规则")],1)],1),e("v-uni-view",{staticClass:"point-opection"},[e("v-uni-navigator",{attrs:{"hover-class":"none",url:"/otherpages/member/point/point"}},[t._v("积分明细")]),e("v-uni-navigator",{attrs:{"hover-class":"none",url:"/promotionpages/point/order_list/order_list"}},[t._v("积分兑换记录")])],1)],1):e("v-uni-view",{staticClass:"point-top ns-bg-color active",style:"background-image: url("+t.$util.img("/upload/uniapp/point/point_01.png")+")"},[e("v-uni-view",{staticClass:"point-desc"},[e("v-uni-view",{staticClass:"login ns-margin-bottom",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.login.apply(void 0,arguments)}}},[t._v("立即登录")]),e("v-uni-view",{staticClass:"point-rule"},[t._v("登录查看我的积分")])],1)],1),e("v-uni-view",{staticClass:"point-category"},t._l(t.categoryList,(function(i,o){return e("v-uni-view",{key:o,staticClass:"item",class:i.id==t.selectCategoryId?"active ns-text-color ns-bg-before":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.categoryChange(i.id)}}},[e("v-uni-text",[t._v(t._s(i.name))])],1)})),1),e("mescroll-uni",{attrs:{top:"445",refs:"mescroll",size:10},on:{getData:function(i){arguments[0]=i=t.$handleEvent(i),t.getData.apply(void 0,arguments)}}},[e("template",{attrs:{slot:"list"},slot:"list"},[e("v-uni-view",{staticClass:"goods-container"},[e("v-uni-view",{staticClass:"good_list"},t._l(t.goodsList,(function(i,o){return e("v-uni-view",{key:o,staticClass:"goods-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(i.id)}}},[1==t.selectCategoryId?[i.image?e("v-uni-view",{staticClass:"imgs"},[e("v-uni-image",{attrs:{src:t.$util.img(i.image)},on:{error:function(i){arguments[0]=i=t.$handleEvent(i),t.imageError(o)}}})],1):e("v-uni-view",{staticClass:"imgs"},[e("v-uni-image",{attrs:{src:t.$util.img("upload/uniapp/point/gift.png")}})],1)]:t._e(),2==t.selectCategoryId?[i.image?e("v-uni-view",{staticClass:"imgs"},[e("v-uni-image",{attrs:{src:t.$util.img(i.image)},on:{error:function(i){arguments[0]=i=t.$handleEvent(i),t.imageError(o)}}})],1):e("v-uni-view",{staticClass:"imgs"},[e("v-uni-image",{attrs:{src:t.$util.img("upload/uniapp/point/coupon.png")}})],1)]:t._e(),3==t.selectCategoryId?[i.image?e("v-uni-view",{staticClass:"imgs"},[e("v-uni-image",{attrs:{src:t.$util.img(i.image)},on:{error:function(i){arguments[0]=i=t.$handleEvent(i),t.imageError(o)}}})],1):e("v-uni-view",{staticClass:"imgs"},[e("v-uni-image",{attrs:{src:t.$util.img("upload/uniapp/point/hongbao.png")}})],1)]:t._e(),e("v-uni-view",{staticClass:"info"},[e("v-uni-view",{staticClass:"goods-title"},[e("v-uni-view",{staticClass:"ns-text-color-black"},[t._v(t._s(i.name))])],1),e("v-uni-view",{staticClass:"goods-info"},[e("v-uni-view",{staticClass:"goods-info-desc"},[e("v-uni-text",{staticClass:"goods-desc-point ns-text-color"},[e("v-uni-text",{staticClass:"iconfont iconjifen"}),e("v-uni-text",[t._v(t._s(i.point))])],1),e("v-uni-text",{staticClass:"goods-desc-save"},[e("v-uni-text",[t._v("库存："+t._s(i.stock))])],1)],1)],1)],1)],2)})),1)],1),0!=t.goodsList.length||t.isloading?t._e():e("v-uni-view",{staticStyle:{"padding-top":"0"}},[e("ns-empty",{attrs:{siteId:t.siteId,fixed:!1,text:1==t.selectCategoryId?"暂时没有可兑换的礼品哦！":2==t.selectCategoryId?"暂时没有可兑换的优惠券哦！":"暂时没有可兑换的红包哦！"}})],1)],1)],2),e("v-uni-view",{on:{touchmove:function(i){i.preventDefault(),i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[e("uni-popup",{ref:"pointPopup",attrs:{type:"bottom"}},[e("v-uni-view",{staticClass:"tips-layer"},[e("v-uni-view",{staticClass:"head"},[e("v-uni-view",{staticClass:"title"},[t._v("积分说明")])],1),e("v-uni-view",{staticClass:"body"},[e("v-uni-view",{staticClass:"detail ns-margin-bottom"},[e("v-uni-view",{staticClass:"uni-bold"},[t._v("积分的获取")]),e("v-uni-view",{staticClass:"ns-font-size-sm"},[t._v("1、积分可在注册、签到、分享、消费、充值时获得。")]),e("v-uni-view",{staticClass:"ns-font-size-sm"},[t._v("2、在购买部分商品时可获得积分。")]),e("v-uni-view",{staticClass:"uni-bold"},[t._v("积分的使用")]),e("v-uni-view",{staticClass:"ns-font-size-sm"},[t._v("1、积分可用于兑换积分中心的商品。")]),e("v-uni-view",{staticClass:"ns-font-size-sm"},[t._v("2、积分可在参与某些活动时使用。")]),e("v-uni-view",{staticClass:"ns-font-size-sm"},[t._v("3、积分不得转让，出售，不设有效期。")]),e("v-uni-view",{staticClass:"uni-bold"},[t._v("积分的查询")]),e("v-uni-view",{staticClass:"ns-font-size-sm"},[t._v("1、积分可在会员中心中查询具体数额以及明细。")])],1)],1)],1)],1)],1)]:t._e(),e("loading-cover",{ref:"loadingCover"}),e("ns-login",{ref:"login"})],2):t._e()},a=[]},"8b4a":function(t,i,e){"use strict";var o=e("4ea4");e("99af"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=o(e("4c55")),a=o(e("b847")),s={components:{uniPopup:n.default,nsAdv:a.default},data:function(){return{mescroll:null,categoryList:[{id:1,name:"礼品"},{id:2,name:"优惠券"},{id:3,name:"红包"}],selectCategoryId:1,goodsList:[],isLogin:!1,point:0,siteId:0,isloading:!1}},onLoad:function(t){this.getAccountInfo(),t.site_id&&(this.siteId=t.site_id)},onShow:function(){var t=this;if(this.$langConfig.refresh(),!this.addonIsExit.pointexchange)return this.$util.showToast({title:"积分商城插件未安装",mask:!0,duration:2e3}),void setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),2e3);this.getAccountInfo()},computed:{themeStyle:function(){return"theme-"+this.$store.state.themeStyle},addonIsExit:function(){return this.$store.state.addonIsExit}},methods:{openPointPopup:function(){this.$refs.pointPopup.open()},getData:function(t){var i=this;this.mescroll=t,this.isloading=!0,this.$api.sendRequest({url:"/pointexchange/api/goods/page",data:{page_size:t.size,page:t.num,type:this.selectCategoryId,site_id:this.siteId},success:function(e){i.isloading=!1;var o=[],n=e.message;0==e.code&&e.data?o=e.data.list:i.$util.showToast({title:n}),t.endSuccess(o.length),1==t.num&&(i.goodsList=[]),i.goodsList=i.goodsList.concat(o),i.$refs.loadingCover&&i.$refs.loadingCover.hide()},fail:function(){this.isloading=!1,t.endErr(),this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})},categoryChange:function(t){this.selectCategoryId=t,this.goodsList=[],this.mescroll.resetUpScroll()},toDetail:function(t){this.$util.redirectTo("/promotionpages/point/detail/detail",{id:t})},getAccountInfo:function(){var t=this;uni.getStorageSync("token")?(this.isLogin=!0,this.$api.sendRequest({url:"/api/memberaccount/info",data:{account_type:"point"},success:function(i){if(-1==i.code&&"TOKEN_ERROR"==i.error_code){t.$util.showToast({title:"登录失败"});var e=getCurrentPages(),o=e[e.length-1].options,n=e[e.length-1].route;return o.back=n,void setTimeout((function(){t.$util.redirectTo("/pages/login/login/login",o)}),1500)}0==i.code&&i.data?t.point=i.data.point:t.$util.showToast({title:i.message})}})):this.isLogin=!1},login:function(){this.$refs.login.open("/promotionpages/point/list/list")},imageError:function(t){var i="";1==this.selectCategoryId?i=this.$util.img("upload/uniapp/point/gift.png"):2==this.selectCategoryId?i=this.$util.img("upload/uniapp/point/coupon.png"):3==this.selectCategoryId&&(i=this.$util.img("upload/uniapp/point/hongbao.png")),this.goodsList[t].image=i,this.$forceUpdate()}},onShareAppMessage:function(t){var i="积分兑换，好礼带回家哦",e="/promotionpages/point/list/list";return{title:i,path:e,success:function(t){},fail:function(t){}}}};i.default=s},"93c1":function(t,i,e){var o=e("24fb");i=o(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/**  -------------------------------------------------------------------默认主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------蓝色主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------绿色主题颜色配置-------------------------------------------------- */\n/* 文字基本颜色 */\n/* 文字尺寸 */.point-top[data-v-3c78d3d5]{width:100%;height:%?350?%;padding:%?40?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:%?100?%;background-size:cover;background-repeat:no-repeat}.point-top .point-desc[data-v-3c78d3d5]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.point-top .point-desc .point-num[data-v-3c78d3d5]{font-size:%?60?%;text-align:center;color:#fff}.point-top .point-desc .login[data-v-3c78d3d5]{display:inline-block;padding:%?4?% %?20?%;border:%?1?% solid #e7e7e7;border-radius:4px;color:#fff}.point-top .point-desc .point-rule[data-v-3c78d3d5]{font-size:%?28?%;text-align:center;color:#fff}.point-top .point-desc .point-rule .iconfont[data-v-3c78d3d5]{margin-right:%?10?%}.point-top .point-opection[data-v-3c78d3d5]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-top:%?50?%}.point-top .point-opection uni-navigator[data-v-3c78d3d5]{width:%?240?%;height:%?70?%;border:%?1?% solid #fff;text-align:center;line-height:%?70?%;border-radius:%?70?%;box-sizing:border-box;color:#fff}.point-top .point-opection uni-navigator[data-v-3c78d3d5]:nth-child(2){margin-left:%?40?%}.point-top.active[data-v-3c78d3d5]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.point-category[data-v-3c78d3d5]{width:100%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;padding:0 %?20?%;box-sizing:border-box}.point-category .item[data-v-3c78d3d5]{display:inline-block;padding:%?15?% %?20?%;margin-right:%?20?%;position:relative;width:30%;text-align:center}.point-category .item uni-text[data-v-3c78d3d5]{display:inline-block}.point-category .item.active uni-text[data-v-3c78d3d5]:after{display:-webkit-box;display:-webkit-flex;display:flex;content:"";width:calc(100% - %?40?%);height:%?6?%;border-radius:%?6?%;position:absolute;left:%?20?%;bottom:0}.point-category .item[data-v-3c78d3d5]:last-child{margin-right:0}.goods-container .good_list[data-v-3c78d3d5]{margin:%?20?% %?20?% 0 %?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-flow:wrap;flex-flow:wrap}.goods-container .good_list uni-view.goods-item[data-v-3c78d3d5]{width:calc(50% - %?12?%);background:#fff;margin:0 %?20?% %?20?% 0;border-radius:%?20?%;overflow:hidden}.goods-container .good_list uni-view.goods-item .imgs[data-v-3c78d3d5]{width:100%;position:relative;overflow:hidden;text-align:center;height:%?325?%}.goods-container .good_list uni-view.goods-item .imgs uni-image[data-v-3c78d3d5]{width:100%;height:100%}.goods-container .good_list uni-view.goods-item[data-v-3c78d3d5]:nth-child(2n + 2){margin-right:0}.goods-container .good_list > uni-view.goods-item .info[data-v-3c78d3d5]{padding:%?20?%;box-sizing:border-box}.goods-container .good_list > uni-view.goods-item .info .goods-info[data-v-3c78d3d5]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin-top:%?10?%}.goods-container .good_list > uni-view.goods-item .info .goods-info .goods-info-desc[data-v-3c78d3d5]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.goods-container .good_list > uni-view.goods-item .info .goods-info .goods-info-desc uni-text[data-v-3c78d3d5]{line-height:1.2}.goods-container .good_list > uni-view.goods-item .info .goods-info .goods-info-desc .goods-desc-point[data-v-3c78d3d5]{font-size:%?28?%}.goods-container .good_list > uni-view.goods-item .info .goods-info .goods-info-desc .goods-desc-point .iconfont[data-v-3c78d3d5]{margin-right:%?6?%}.goods-container .good_list > uni-view.goods-item .info .goods-info .goods-info-desc .goods-desc-save[data-v-3c78d3d5]{font-size:%?20?%;color:#898989;display:-webkit-box;display:-webkit-flex;display:flex}.goods-container .good_list > uni-view.goods-item .info uni-view.goods-title uni-navigator[data-v-3c78d3d5]{overflow:hidden;text-overflow:ellipsis;display:block;width:100%;line-height:%?40?%;max-height:%?80?%;height:%?80?%}.imgs uni-image[data-v-3c78d3d5]{width:100%}.goods-container .good_list > uni-view.goods-item .goods_price uni-view.unit[data-v-3c78d3d5]{font-size:%?24?%}.ns-border-color-gray-shade-20[data-v-3c78d3d5]{border-color:#b7b7b7!important}.goods-title[data-v-3c78d3d5]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.goods-title uni-view[data-v-3c78d3d5]{line-height:1.3}\n/* 说明弹框 */.tips-layer[data-v-3c78d3d5]{background:#fff;z-index:999;height:40%;width:100%}.tips-layer .title[data-v-3c78d3d5]{height:%?80?%;line-height:%?80?%;text-align:center;font-size:%?32?%;font-weight:700}.tips-layer .body[data-v-3c78d3d5]{width:100%;height:calc(100% - %?80?%);overflow-y:scroll}.tips-layer .body[data-v-3c78d3d5]::-webkit-scrollbar{display:none}.tips-layer .body .detail[data-v-3c78d3d5]{padding:%?20?%}.tips-layer .body .detail .ns-font-size-lg[data-v-3c78d3d5]{margin-bottom:%?10?%}',""]),t.exports=i},b6f4:function(t,i,e){"use strict";var o=e("4136"),n=e.n(o);n.a},b847:function(t,i,e){"use strict";e.r(i);var o=e("ba18"),n=e("c636");for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);e("f439");var s,d=e("f0c5"),c=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"d409a55e",null,!1,o["a"],s);i["default"]=c.exports},ba18:function(t,i,e){"use strict";var o;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return o}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{style:{background:t.bgColor}},[t.advList.length?e("v-uni-swiper",{staticClass:"ns-adv",attrs:{"indicator-dots":t.advList.length>1,"indicator-active-color":"#ffffff",autoplay:!0,interval:3e3,duration:1e3},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.swiperChange.apply(void 0,arguments)}}},t._l(t.advList,(function(i,o){return e("v-uni-swiper-item",{key:o,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumppage(i.adv_url)}}},[e("v-uni-view",{staticClass:"image-box",style:{background:i.background}},[e("v-uni-image",{attrs:{src:t.$util.img(i.adv_image),mode:"widthFix"}})],1)],1)})),1):t._e()],1)},a=[]},c636:function(t,i,e){"use strict";e.r(i);var o=e("0746"),n=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(i,t,(function(){return o[t]}))}(a);i["default"]=n.a},f439:function(t,i,e){"use strict";var o=e("44db"),n=e.n(o);n.a}}]);