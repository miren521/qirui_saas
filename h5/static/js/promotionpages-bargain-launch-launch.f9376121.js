(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-bargain-launch-launch"],{"0818":function(t,e,i){"use strict";i.r(e);var n=i("2f68"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"09ba":function(t,e,i){"use strict";var n=i("52f1"),a=i.n(n);a.a},"0a11":function(t,e,i){"use strict";var n=i("4d89"),a=i.n(n);a.a},"1b75":function(t,e,i){"use strict";i.r(e);var n=i("d115"),a=i("0818");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);var r,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"64b03e1a",null,!1,n["a"],r);e["default"]=l.exports},"24db":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/**  -------------------------------------------------------------------默认主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------蓝色主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------绿色主题颜色配置-------------------------------------------------- */\n/* 文字基本颜色 */\n/* 文字尺寸 */.progress[data-v-4df884b1]{height:10px;overflow:hidden;background-color:#ccc;border-radius:4px}.progress-bar[data-v-4df884b1]{float:left;height:100%;font-size:12px;line-height:20px;color:#fff;text-align:center;-webkit-transition:width .6s ease;transition:width .6s ease}',""]),t.exports=e},"2f68":function(t,e,i){"use strict";var n=i("4ea4");i("a9e3"),i("8a79"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("e8bf")),o={name:"l-time",props:{text:{type:[String,Number,Date],default:""},maxDate:{type:Boolean,default:!1}},data:function(){return{textVal:this.text}},watch:{text:function(){this.textVal=this.text}},computed:{temp:function(){return this.getText()}},methods:{getText:function(){var t=this,e=a.default.getFormatTime(t.textVal,t.maxDate);return e&&(e.endsWith("刚刚")||e.endsWith("分钟前"))&&setTimeout((function(){var e=t.textVal;t.textVal="",t.textVal=e}),6e4),this.textVal?e:""},onClick:function(){this.$emit("on-tap",this.textVal)}}};e.default=o},"30c4":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".goods-detail-time[data-v-ea79428e] .uni-countdown__number{min-width:%?28?%;height:%?28?%;text-align:center;line-height:%?28?%;background:#000;\r\n\t/* // #690b08 */border-radius:4px;display:inline-block;padding:%?4?%;margin:0;border:none}.goods-detail-time[data-v-ea79428e] .uni-countdown__splitor{margin:0 %?4?%;line-height:%?28?%}[data-v-ea79428e] .uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box{overflow-y:unset;background:none!important}",""]),t.exports=e},"33e6":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-countdown"},[t.showDay&&t.d>0?i("v-uni-view",{staticClass:"uni-countdown__number",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.d))]):t._e(),t.showDay&&t.d>0?i("v-uni-view",{staticClass:"uni-countdown__splitor day",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s((t.showColon,"天")))]):t._e(),i("v-uni-view",{staticClass:"uni-countdown__number",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.h))]),i("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"时"))]),i("v-uni-view",{staticClass:"uni-countdown__number",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.i))]),i("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"分"))]),i("v-uni-view",{staticClass:"uni-countdown__number",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.s))]),t.showColon?t._e():i("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v("秒")])],1)},o=[]},4439:function(t,e,i){"use strict";var n=i("5cfe"),a=i.n(n);a.a},"4d89":function(t,e,i){var n=i("62a6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2d4af97b",n,!0,{sourceMap:!1,shadowMode:!1})},"51ce":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{val:0}},props:{progress:{type:Number,default:0}}};e.default=n},"52f1":function(t,e,i){var n=i("24db");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("3330b770",n,!0,{sourceMap:!1,shadowMode:!1})},"581d":function(t,e,i){"use strict";var n=i("f82f"),a=i.n(n);a.a},"58d0":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniCountDown:i("5f39").default,nsProgress:i("810e").default,lTime:i("1b75").default,uniPopup:i("4c55").default,loadingCover:i("1ba8").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-scroll-view",{staticClass:"container ns-bg-color",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrolltolower.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"launch-bargain",style:"background:url("+t.$util.img("upload/uniapp/bargain/bargain_detail_bg.png")+") no-repeat 0 0/100%"},[i("v-uni-view",{staticClass:"goods-detail"},[t.timeMachine?i("v-uni-view",{staticClass:"goods-detail-time"},[i("uni-count-down",{attrs:{day:t.timeMachine.d,hour:t.timeMachine.h,minute:t.timeMachine.i,second:t.timeMachine.s,colorClass:"ns-text-color",splitorColor:"#000 !important",backgroundColor:"transparent","border-color":"transparent"}}),t._v("后结束")],1):1==t.info.status?i("v-uni-view",{staticClass:"goods-detail-time"},[t._v("砍价已成功")]):2==t.info.status?i("v-uni-view",{staticClass:"goods-detail-time"},[t._v("砍价已失败")]):t._e(),i("v-uni-view",{staticClass:"user-info"},[i("v-uni-image",{attrs:{src:""==t.info.headimg?t.$util.img(t.$util.getDefaultImage().default_headimg):t.$util.img(t.info.headimg),mode:"aspectFit"}}),i("v-uni-view",{staticClass:"info-content"},[i("v-uni-text",{staticClass:"name"},[t._v(t._s(t.info.nickname))]),i("v-uni-text",{staticClass:"desc"},[t._v('"发现一个好货，邀请好友砍价吧"')])],1)],1),i("v-uni-view",{staticClass:"goods-item"},[i("v-uni-image",{attrs:{src:t.$util.img(t.info.sku_image,{size:"mid"}),mode:"aspectFit"}}),i("v-uni-view",{staticClass:"goods-item-content"},[i("v-uni-view",{staticClass:"item-title"},[t._v(t._s(t.info.sku_name))]),i("v-uni-view",{staticClass:"price-box"},[i("v-uni-text",{staticClass:"low-price"},[t._v(t._s(t.$lang("common.currencySymbol"))+" "+t._s(t.info.price))]),i("v-uni-view",{staticClass:"ns-font-size-sm"},[t._v("底价："),i("v-uni-text",{staticClass:"original-price ns-text-color ns-font-size-base"},[t._v(t._s(t.$lang("common.currencySymbol"))+t._s(t.info.floor_price))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"bargain-course"},[0==t.info.status?i("v-uni-view",{staticClass:"course-title"},[t._v("已有"+t._s(t.info.curr_num)+"人帮助砍掉"),i("v-uni-text",{staticClass:"ns-text-color"},[t._v(t._s(t._f("moneyFormat")(t.cutMoney)))]),t._v("元,还剩"),i("v-uni-text",{staticClass:"ns-text-color"},[t._v(t._s(t._f("moneyFormat")(t.surplusMoney)))]),t._v("元")],1):t._e(),1==t.info.status?i("v-uni-view",{staticClass:"course-title"},[t.info.curr_price==t.info.floor_price?i("v-uni-text",[t._v("恭喜您砍价成功了，您可以以底价购买该商品")]):i("v-uni-text",[t._v("恭喜您砍价成功了，您可以以砍到的价格购买该商品")])],1):t._e(),2==t.info.status?i("v-uni-view",{staticClass:"course-title"},[t._v("您本次砍价未能成功，下次继续努力哦")]):t._e(),0==t.info.status?i("v-uni-view",{staticClass:"progress-box"},[i("ns-progress",{attrs:{progress:t.progress}})],1):t._e()],1),t.info.self?i("v-uni-view",{staticClass:"bargain-operation"},[0==t.info.status?[0==t.info.buy_type?i("v-uni-button",{staticClass:"orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyNow.apply(void 0,arguments)}}},[t._v("不砍了，直接购买")]):t._e(),i("v-uni-button",{staticClass:"ns-bg-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.webShare()}}},[t._v("邀请好友砍价")])]:t._e(),1==t.info.status?[i("v-uni-button",{staticClass:"orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$util.redirectTo("/promotionpages/bargain/list/list")}}},[t._v("低价拿更多商品")]),0==t.info.order_id?i("v-uni-button",{staticClass:"ns-bg-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyNow.apply(void 0,arguments)}}},[t._v("立即购买")]):t._e()]:t._e(),2==t.info.status?[i("v-uni-button",{staticClass:"ns-bg-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$util.redirectTo("/promotionpages/bargain/list/list")}}},[t._v("低价拿更多商品")])]:t._e()],2):i("v-uni-view",{staticClass:"bargain-operation"},[0==t.info.status?[t.info.cut?i("v-uni-button",{staticClass:"ns-bg-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$util.redirectTo("/promotionpages/bargain/list/list")}}},[t._v("我也要低价拿")]):i("v-uni-button",{staticClass:"ns-bg-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bargain.apply(void 0,arguments)}}},[t._v("帮好友砍一刀")])]:[i("v-uni-button",{staticClass:"ns-bg-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$util.redirectTo("/promotionpages/bargain/list/list")}}},[t._v("我也要低价拿")])]],2)],1),i("v-uni-view",{staticClass:"bargain-detail"},[i("v-uni-view",{staticClass:"detail-title"},[i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/bargain/title_left.png"),mode:"widthFix"}}),i("v-uni-text",[t._v("砍价记录")]),i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/bargain/title_right.png"),mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"detail-list"},[t.bargainRecord.length>0?t._l(t.bargainRecord,(function(e,n){return i("v-uni-view",{key:n,staticClass:"detail-item"},[i("v-uni-image",{attrs:{src:""==e.headimg?t.$util.img(t.$util.getDefaultImage().default_headimg):t.$util.img(e.headimg),mode:"aspectFit"}}),i("v-uni-view",{staticClass:"detail-item-content"},[i("v-uni-view",{staticClass:"content-left"},[i("v-uni-text",[t._v(t._s(e.nickname))]),i("l-time",{attrs:{text:1e3*e.bargain_time}})],1),i("v-uni-view",{staticClass:"content-right"},[i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/bargain/bargain_help.png"),mode:"aspectFit"}}),i("v-uni-text",{staticClass:"ns-text-color"},[t._v("砍掉"+t._s(e.money)+"元")])],1)],1)],1)})):i("v-uni-view",{staticClass:"no-bargain-list"},[t._v("还没人砍价哦！")])],2)],1)],1),i("v-uni-view",{staticClass:"PopWindow",on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"sharePopup",staticClass:"wap-floating",attrs:{type:"center",maskClick:!1}},[i("v-uni-view",{staticClass:"image-wrap"},[i("v-uni-image",{attrs:{src:"https://cs.b2b2c.niuteam.cn/upload/1/common/images/20200615/20200615114005159219240529894.png",mode:"widthFix"}})],1),i("v-uni-text",{staticClass:"iconfont iconroundclose",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeNum.apply(void 0,arguments)}}})],1)],1),i("uni-popup",{ref:"uniPopup",attrs:{type:"center",maskClick:!1}},[i("v-uni-view",{staticClass:"bargain-popup"},[i("v-uni-image",{staticClass:"head",attrs:{src:t.$util.img("upload/uniapp/bargain/coin.png"),mode:"widthFix"}}),i("v-uni-view",{staticClass:"title"},[t._v("您已成功帮砍")]),i("v-uni-view",{staticClass:"money"},[i("v-uni-text",{staticClass:"num ns-text-color"},[t._v(t._s(t.bargainMoney))]),i("v-uni-text",{staticClass:"unit"},[t._v("元")])],1)],1),i("v-uni-text",{staticClass:"iconfont iconroundclose",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)}}})],1),i("loading-cover",{ref:"loadingCover"})],1)},o=[]},"5cfe":function(t,e,i){var n=i("ce66");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("98e9966a",n,!0,{sourceMap:!1,shadowMode:!1})},"5e7a":function(t,e,i){"use strict";i.r(e);var n=i("51ce"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"5f39":function(t,e,i){"use strict";i.r(e);var n=i("33e6"),a=i("fd7f");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("4439");var r,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"67026d58",null,!1,n["a"],r);e["default"]=l.exports},"62a6":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/**  -------------------------------------------------------------------默认主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------蓝色主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------绿色主题颜色配置-------------------------------------------------- */\n/* 文字基本颜色 */\n/* 文字尺寸 */uni-page-body[data-v-ea79428e]{height:100%}.PopWindow .wap-floating .image-wrap[data-v-ea79428e],\n.PopWindow .uni-popup__wrapper-box .image-wrap[data-v-ea79428e]{width:%?480?%}.PopWindow .wap-floating .image-wrap uni-image[data-v-ea79428e],\n.PopWindow .uni-popup__wrapper-box .image-wrap uni-image[data-v-ea79428e]{width:100%;border-radius:%?40?%}.PopWindow .wap-floating uni-text[data-v-ea79428e],\n.PopWindow .uni-popup__wrapper-box uni-text[data-v-ea79428e]{display:block;font-size:%?60?%;color:#fff;text-align:center}.PopWindow .uni-popup__wrapper-box[data-v-ea79428e]{text-align:center;overflow:initial!important;background:none!important;vertical-align:middle;background:none}.container[data-v-ea79428e]{width:100vw;height:100vh}.launch-bargain[data-v-ea79428e]{min-height:100%;padding:%?50?% %?24?%;box-sizing:border-box}.launch-bargain .goods-detail[data-v-ea79428e]{position:relative;overflow:hidden;margin-bottom:%?24?%;padding:0 %?24?% %?56?%;background-color:#fff;border-radius:%?10?%;box-sizing:border-box}.launch-bargain .goods-detail .goods-detail-time[data-v-ea79428e]{position:absolute;left:50%;top:0;padding:%?4?% %?16?%;background-color:#f7f7f7;border-bottom-left-radius:%?10?%;border-bottom-right-radius:%?10?%;-webkit-transform:translateX(-50%);transform:translateX(-50%);font-size:%?24?%}.launch-bargain .user-info[data-v-ea79428e]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?72?%}.launch-bargain .user-info uni-image[data-v-ea79428e]{margin-right:%?22?%;width:%?80?%;height:%?80?%;border:%?2?% solid #f1f1f1;border-radius:50%}.launch-bargain .user-info .info-content[data-v-ea79428e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;line-height:1}.launch-bargain .user-info .info-content .name[data-v-ea79428e]{font-size:%?28?%;font-weight:500}.launch-bargain .user-info .info-content .desc[data-v-ea79428e]{margin-top:%?20?%;font-size:%?24?%;color:#838383}.launch-bargain .user-info .activity-rules[data-v-ea79428e]{position:absolute;right:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?120?%;height:%?40?%;border:%?2?% solid #ff335c;font-size:%?20?%;border-radius:%?20?%}.launch-bargain .goods-item[data-v-ea79428e]{display:-webkit-box;display:-webkit-flex;display:flex;margin-top:%?24?%;padding:%?20?%;background-color:#f7f7f7;border-radius:%?10?%;box-sizing:border-box}.launch-bargain .goods-item uni-image[data-v-ea79428e]{margin-right:%?20?%;width:%?180?%;height:%?180?%;border-radius:%?6?%}.launch-bargain .goods-item .goods-item-content[data-v-ea79428e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.launch-bargain .goods-item .item-title[data-v-ea79428e]{font-size:%?24?%;line-height:%?36?%}.launch-bargain .goods-item .price-box[data-v-ea79428e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.launch-bargain .goods-item .price-box uni-view[data-v-ea79428e]{line-height:1}.launch-bargain .goods-item .price-box .low-price[data-v-ea79428e]{text-decoration:line-through;color:#777}.launch-bargain .goods-item .price-box .original-price[data-v-ea79428e]{font-weight:500}.launch-bargain .bargain-course[data-v-ea79428e]{margin-top:%?50?%;text-align:center}.launch-bargain .bargain-operation[data-v-ea79428e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:%?50?%}.launch-bargain .bargain-operation uni-button[data-v-ea79428e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin:0;padding:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?72?%;color:#fff;font-size:%?24?%}.launch-bargain .bargain-operation uni-button.orange[data-v-ea79428e]{background:#ff7200!important}.launch-bargain .bargain-operation uni-button[data-v-ea79428e]:nth-child(2){margin-left:%?30?%}.launch-bargain .progress-box[data-v-ea79428e]{margin:%?20?% auto 0;width:%?550?%;border-radius:5px;overflow:hidden}.bargain-detail[data-v-ea79428e]{background-color:#fff;padding:%?24?%;text-align:center;border-radius:%?10?%}.bargain-detail .detail-title[data-v-ea79428e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:%?30?%;color:#ff335c}.bargain-detail .detail-title uni-image[data-v-ea79428e]{width:%?200?%}.bargain-detail .detail-title uni-text[data-v-ea79428e]{margin:0 %?30?%}.bargain-detail .detail-item[data-v-ea79428e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.bargain-detail .detail-item ~ .detail-item[data-v-ea79428e]{margin-top:%?30?%}.bargain-detail .detail-item uni-image[data-v-ea79428e]{margin-right:%?20?%;width:%?90?%;height:%?90?%;border-radius:50%}.bargain-detail .detail-item-content[data-v-ea79428e]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.bargain-detail .detail-item-content .content-left[data-v-ea79428e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:baseline;-webkit-align-items:baseline;align-items:baseline}.bargain-detail .detail-item-content .content-left uni-text[data-v-ea79428e]{font-size:%?28?%}.bargain-detail .detail-item-content .content-left uni-text[data-v-ea79428e]:nth-child(2){font-size:%?24?%;color:#a0a0a0}.bargain-detail .detail-item-content .content-right[data-v-ea79428e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.bargain-detail .detail-item-content .content-right uni-image[data-v-ea79428e]{width:%?46?%;height:%?46?%}.bargain-detail .no-bargain-list[data-v-ea79428e]{width:100%;height:%?200?%;text-align:center;line-height:%?200?%;color:#a0a0a0}.bargain-popup[data-v-ea79428e]{width:80vw;padding:%?60?%;background-color:#fff;position:relative;box-sizing:border-box;border-radius:%?20?%}.bargain-popup .head[data-v-ea79428e]{width:55%;position:absolute;left:50%;top:0;-webkit-transform:translate(-50%,-70%);transform:translate(-50%,-70%)}.bargain-popup .title[data-v-ea79428e]{text-align:center;font-size:%?32?%;margin-top:%?40?%}.bargain-popup .money[data-v-ea79428e]{text-align:center}.bargain-popup .money .num[data-v-ea79428e]{font-size:%?36?%;font-weight:600}.bargain-popup .money .unit[data-v-ea79428e]{font-size:%?24?%;margin-left:%?8?%}.iconroundclose[data-v-ea79428e]{display:block;font-size:%?60?%;color:#fff;text-align:center}',""]),t.exports=e},"810e":function(t,e,i){"use strict";i.r(e);var n=i("b27a"),a=i("5e7a");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("09ba");var r,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"4df884b1",null,!1,n["a"],r);e["default"]=l.exports},"8a79":function(t,e,i){"use strict";var n=i("23e7"),a=i("06cf").f,o=i("50c4"),r=i("5a34"),s=i("1d80"),l=i("ab13"),c=i("c430"),u="".endsWith,d=Math.min,f=l("endsWith"),g=!c&&!f&&!!function(){var t=a(String.prototype,"endsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!g&&!f},{endsWith:function(t){var e=String(s(this));r(t);var i=arguments.length>1?arguments[1]:void 0,n=o(e.length),a=void 0===i?n:d(o(i),n),l=String(t);return u?u.call(e,l,a):e.slice(a-l.length,a)===l}})},9583:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("b680"),i("acd8"),i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("1b75")),o=n(i("4c55")),r=n(i("810e")),s={components:{LTime:a.default,uniPopup:o.default,nsProgress:r.default},data:function(){return{windowHeight:0,id:0,info:{headimg:""},bargainRecord:[],page:1,totalPage:1,load:!1,timeMachine:null,memberId:0,bargainMoney:"0.00"}},onLoad:function(t){this.getHeight(),t.id&&(this.id=t.id)},computed:{cutMoney:function(){return this.info.price-this.info.curr_price},surplusMoney:function(){return this.info.curr_price-this.info.floor_price},progress:function(){var t=this.info.price-this.info.floor_price,e=parseInt(this.cutMoney/t*100);return isNaN(e)?0:e}},onShow:function(){this.$langConfig.refresh(),uni.getStorageSync("token")?(this.getBargainInfo(),this.getMemberId()):this.$util.redirectTo("/pages/login/login/login",{back:"/promotionpages/bargain/launch/launch",id:this.id},"redirectTo")},methods:{webShare:function(){var t=window.location.href,e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.className="oInput",e.style.display="none",this.$util.showToast({title:"链接复制成功，快去发给你的好友吧"})},getHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.windowHeight=e.windowHeight-44,t.iphoneX&&(t.windowHeight=t.windowHeight-33)}})},getBargainInfo:function(){var t=this;this.$api.sendRequest({url:"/bargain/api/bargain/info",data:{id:this.id},success:function(e){if(-1==e.code&&"TOKEN_ERROR"==e.error_code){t.$util.showToast({title:"登录失败"});var i=getCurrentPages(),n=i[i.length-1].options,a=i[i.length-1].route;return n.back=a,void setTimeout((function(){t.$util.redirectTo("/pages/login/login/login",n)}),1500)}0==e.code?(t.info=e.data,0==t.info.status?uni.setNavigationBarTitle({title:"砍价进行中"}):1==t.info.status?uni.setNavigationBarTitle({title:"砍价成功"}):2==t.info.status&&uni.setNavigationBarTitle({title:"砍价失败"}),t.getBargainRecord(1),0==t.info.status&&(t.timeMachine=t.$util.countDown(t.info.end_time-e.timestamp)),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):t.$util.redirectTo("/promotionpages/bargain/my_bargain/my_bargain")},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},getBargainRecord:function(t){var e=this;this.load||(this.load=!0,this.$api.sendRequest({url:"/bargain/api/bargain/record",data:{page:t,id:this.info.launch_id},success:function(i){if(-1==i.code&&"TOKEN_ERROR"==i.error_code){e.$util.showToast({title:"登录失败"});var n=getCurrentPages(),a=n[n.length-1].options,o=n[n.length-1].route;return a.back=o,void setTimeout((function(){e.$util.redirectTo("/pages/login/login/login",a)}),1500)}e.load=!1,e.totalPage=i.data.page_count,e.page=t,0==i.code&&i.data.list.length&&(e.bargainRecord=1==t?i.data.list:e.bargainRecord.concat(i.data.list))}}))},scrolltolower:function(){var t=this.page+1;!this.load&&t<=this.totalPage&&this.getBargainRecord(t)},buyNow:function(){var t=this;uni.setStorage({key:"bargainOrderCreateData",data:{launch_id:this.info.launch_id},success:function(e){if(-1==e.code&&"TOKEN_ERROR"==e.error_code){t.$util.showToast({title:"登录失败"});var i=getCurrentPages(),n=i[i.length-1].options,a=i[i.length-1].route;return n.back=a,void setTimeout((function(){t.$util.redirectTo("/pages/login/login/login",n)}),1500)}t.$util.redirectTo("/promotionpages/bargain/payment/payment")}})},bargain:function(){var t=this;this.$api.sendRequest({url:"/bargain/api/bargain/bargain",data:{id:this.info.launch_id},success:function(e){if(-1==e.code&&"TOKEN_ERROR"==e.error_code){t.$util.showToast({title:"登录失败"});var i=getCurrentPages(),n=i[i.length-1].options,a=i[i.length-1].route;return n.back=a,void setTimeout((function(){t.$util.redirectTo("/pages/login/login/login",n)}),1500)}0==e.code&&(t.bargainMoney=parseFloat(e.data.bargain_money).toFixed(2),t.$refs.uniPopup.open(),t.getBargainInfo())}})},getMemberId:function(){var t=this;this.$api.sendRequest({url:"/api/member/id",success:function(e){e.code>=0&&(t.memberId=e.data)}})},closePopup:function(){this.$refs.uniPopup.close()},closeNum:function(){this.$refs.sharePopup.close()}},filters:{moneyFormat:function(t){return parseFloat(t).toFixed(2)}},onShareAppMessage:function(){var t="/promotionpages/bargain/launch/launch?id="+this.id;return this.memberId&&(t+="&source_member="+this.memberId),{title:"嘿！朋友就差你这一刀了，帮一下忙呗~",imageUrl:this.$util.img(this.info.sku_image,{size:"big"}),path:t,success:function(t){},fail:function(t){}}}};e.default=s},a3fe:function(t,e,i){"use strict";i.r(e);var n=i("9583"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},a60e:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniCountDown",props:{showDay:{type:Boolean,default:!0},showColon:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},backgroundColorClass:{type:String,default:""},borderColor:{type:String,default:"#000000"},borderColorClass:{type:String,default:""},color:{type:String,default:"#000000"},colorClass:{type:String,default:""},splitorColor:{type:String,default:"#000000"},splitorColorClass:{type:String,default:""},day:{type:Number,default:0},hour:{type:Number,default:0},minute:{type:Number,default:0},second:{type:Number,default:0}},data:function(){return{timer:null,d:"00",h:"00",i:"00",s:"00",leftTime:0,seconds:0}},created:function(t){var e=this;this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)},watch:{day:function(t){var e=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)},hour:function(t){var e=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)},minute:function(t){var e=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)},second:function(t){var e=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){e.seconds--,e.seconds<0?e.timeUp():e.countDown()}),1e3)}},beforeDestroy:function(){clearInterval(this.timer)},methods:{toSeconds:function(t,e,i,n){return 60*t*60*24+60*e*60+60*i+n},timeUp:function(){clearInterval(this.timer),this.$emit("timeup")},countDown:function(){var t=this.seconds,e=0,i=0,n=0,a=0;t>0?(e=Math.floor(t/86400),i=Math.floor(t/3600)-24*e,n=Math.floor(t/60)-24*e*60-60*i,a=Math.floor(t)-24*e*60*60-60*i*60-60*n):this.timeUp(),e<10&&(e="0"+e),i<10&&(i="0"+i),n<10&&(n="0"+n),a<10&&(a="0"+a),this.d=e,this.h=i,this.i=n,this.s=a}}};e.default=n},b27a:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"progress"},[i("v-uni-view",{ref:"progress",staticClass:"progress-bar ns-bg-color",style:{width:t.progress+"%"}})],1)},o=[]},ce66:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/**  -------------------------------------------------------------------默认主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------蓝色主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------绿色主题颜色配置-------------------------------------------------- */\n/* 文字基本颜色 */\n/* 文字尺寸 */.uni-countdown[data-v-67026d58]{padding:%?2?% 0;display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.uni-countdown__splitor[data-v-67026d58]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;line-height:%?44?%;padding:0 %?5?%;font-size:%?28?%}.uni-countdown__splitor.day[data-v-67026d58]{line-height:%?50?%}.uni-countdown__number[data-v-67026d58]{line-height:%?44?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?44?%;border-radius:%?6?%;margin:0 %?5?%;font-size:%?28?%;border:1px solid #000;font-size:%?24?%;padding:0 %?10?%}',""]),t.exports=e},d115:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-text",[t._v(t._s(t.temp))])},o=[]},e8bf:function(t,e,i){"use strict";i("99af"),i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,Function.prototype.asyAfter=function(t){var e=this;return function(){var i=e.apply(this,arguments);return"next"===i?t.apply(this,arguments):i}},Date.prototype.pattern=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},i={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+i[this.getDay()+""])),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t};var n=function(t){return/^\[object\s(.*)\]$/.exec(Object.prototype.toString.call(t))[1]},a=function(){},o=a.prototype;o.getUnix=function(){return(new Date).getTime()},o.getTodayUnix=function(){var t=new Date,e="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate()," 00:00:00");return new Date(e).getTime()},o.getYearUnix=function(){var t=new Date;return t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()},o.getLastDate=function(t){if(t){var e=new Date(t);if(e.pattern)return e.pattern("yyyy-MM-dd");var i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate();return e.getFullYear()+"-"+i+"-"+n}};var r=function(t,e){var i=function(t){return t<=0||Math.floor(t/60)<=0?"刚刚":"next"},n=function(t){return t<3600?Math.floor(t/60)+"分钟前":"next"},a=function(t,e){var i=l.getTodayUnix();return t>=3600&&e-i>=0?Math.floor(t/60/60)+"小时前":"next"},o=function(t,e){var i=l.getTodayUnix();return t=(i-e)/1e3,t/86400<=31?Math.ceil(t/86400)+"天前":"next"},r=function(t,e){return l.getLastDate(e)},s=i.asyAfter(n).asyAfter(a).asyAfter(o).asyAfter(r);return s(t,e)},s=new RegExp("-","g");o.getFormatTime=function(t,e){if(!t)return"";switch(n(t)){case"Date":t=t.getTime();break;case"String":t=t.replace(s,"/");default:t=new Date(t).getTime();break}var i=this.getUnix(),a=(this.getYearUnix(),(i-t)/1e3);if(t>i&&e)return this.getLastDate(t);return r(a,t)};var l=new a,c=l;e.default=c},edf0:function(t,e,i){"use strict";i.r(e);var n=i("58d0"),a=i("a3fe");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("0a11"),i("581d");var r,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"ea79428e",null,!1,n["a"],r);e["default"]=l.exports},f82f:function(t,e,i){var n=i("30c4");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("3ed19e5c",n,!0,{sourceMap:!1,shadowMode:!1})},fd7f:function(t,e,i){"use strict";i.r(e);var n=i("a60e"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a}}]);