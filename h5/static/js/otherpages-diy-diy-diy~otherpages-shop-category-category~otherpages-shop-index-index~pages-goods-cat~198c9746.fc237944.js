(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-diy-diy-diy~otherpages-shop-category-category~otherpages-shop-index-index~pages-goods-cat~198c9746"],{"03a4":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";.uni-popup[data-v-e8a6070c]{position:fixed;top:0;top:0;bottom:0;left:0;right:0;z-index:999;overflow:hidden}.uni-popup__mask[data-v-e8a6070c]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:998;background:rgba(0,0,0,.4);opacity:0}.uni-popup__mask.ani[data-v-e8a6070c]{-webkit-transition:all .3s;transition:all .3s}.uni-popup__mask.uni-bottom[data-v-e8a6070c],\r\n.uni-popup__mask.uni-center[data-v-e8a6070c],\r\n.uni-popup__mask.uni-right[data-v-e8a6070c],\r\n.uni-popup__mask.uni-left[data-v-e8a6070c],\r\n.uni-popup__mask.uni-top[data-v-e8a6070c]{opacity:1}.uni-popup__wrapper[data-v-e8a6070c]{position:absolute;z-index:999;box-sizing:border-box\r\n/* \tbackground: #ffffff; */}.uni-popup__wrapper.ani[data-v-e8a6070c]{-webkit-transition:all .3s;transition:all .3s}.uni-popup__wrapper.top[data-v-e8a6070c]{top:0;left:0;width:100%;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.uni-popup__wrapper.bottom[data-v-e8a6070c]{background:#fff;bottom:-30px;left:0;width:100%;-webkit-transform:translateY(100%);transform:translateY(100%)}.uni-popup__wrapper.right[data-v-e8a6070c]{bottom:0;left:0;width:100%;-webkit-transform:translateX(100%);transform:translateX(100%)}.uni-popup__wrapper.left[data-v-e8a6070c]{bottom:0;left:0;width:100%;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.uni-popup__wrapper.center[data-v-e8a6070c]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;overflow:hidden;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-e8a6070c]{position:relative;box-sizing:border-box}.uni-popup__wrapper.uni-custom .uni-popup__wrapper-box[data-v-e8a6070c]{background:#fff}.uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box[data-v-e8a6070c]{background:transparent;position:relative;max-width:80%;max-height:80%;overflow-y:scroll;border-radius:%?20?%}.uni-popup__wrapper.uni-custom.bottom .uni-popup__wrapper-box[data-v-e8a6070c],\r\n.uni-popup__wrapper.uni-custom.top .uni-popup__wrapper-box[data-v-e8a6070c]{width:100%;max-height:500px;overflow-y:scroll}.uni-popup__wrapper.uni-bottom[data-v-e8a6070c],\r\n.uni-popup__wrapper.uni-top[data-v-e8a6070c]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-popup__wrapper.uni-left[data-v-e8a6070c],\r\n.uni-popup__wrapper.uni-right[data-v-e8a6070c]{-webkit-transform:translateX(0);transform:translateX(0)}.uni-popup__wrapper.uni-center[data-v-e8a6070c]{-webkit-transform:scale(1);transform:scale(1);opacity:1}\r\n\r\n/* isIphoneX系列手机底部安全距离 */.bottom[data-v-e8a6070c]{padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom)}',""]),t.exports=e},"1d5f":function(t,e,i){"use strict";var a=i("4ea4");i("b680"),i("e25e"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("28bb")),n=(a(i("5ca6")),{name:"ns-goods-sku",components:{uniPopup:o.default},props:{goodsDetail:{type:Object,default:null},disabled:{type:Boolean,default:!1}},data:function(){return{systemInfo:{},number:1,btnSwitch:!1,type:"",callback:null,skuId:0,pintuanId:0,limitNumber:0,preview:0,minNumber:0}},created:function(){this.systemInfo=uni.getSystemInfoSync()},watch:{goodsDetail:function(t,e){this.skuId=t.sku_id}},methods:{popupChange:function(){this.number=1},show:function(t,e){this.$refs.skuPopup.open(),this.type=t,this.callback=e,this.skuId=this.goodsDetail.sku_id,this.preview=this.goodsDetail.preview||0,"pintuan"==this.type&&this.goodsDetail.pintuan_id?this.limitNumber=this.goodsDetail.buy_num:"groupbuy"==this.type&&this.goodsDetail.groupbuy_id&&(this.number=this.goodsDetail.buy_num,this.minNumber=this.goodsDetail.buy_num)},hide:function(){this.$refs.skuPopup.close()},change:function(t,e){if(!this.disabled){this.btnSwitch=!1,this.skuId=t;for(var i=0;i<this.goodsDetail.goods_spec_format.length;i++)for(var a=this.goodsDetail.goods_spec_format[i],o=0;o<a.value.length;o++)e==this.goodsDetail.goods_spec_format[i].value[o].spec_id&&(this.goodsDetail.goods_spec_format[i].value[o].selected=!1);this.goodsDetail.pintuan_id?this.getPintuanGoodsSkuInfo():this.goodsDetail.groupbuy_id?this.getGroupbuyGoodsSkuInfo():this.getGoodsSkuInfo()}},getGoodsSkuInfo:function(){var t=this;this.$api.sendRequest({url:"/api/goodssku/info",data:{sku_id:this.skuId},success:function(e){var i=e.data;null!=i?(t.goodsSkuDetail=i,t.dealData(),1==t.goodsSkuDetail.promotion_type&&(t.goodsSkuDetail.discountTimeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-e.timestamp)),t.btnSwitch=!1,t.$emit("refresh",t.goodsSkuDetail)):t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},fail:function(e){t.btnSwitch=!1,t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}})},getPintuanGoodsSkuInfo:function(){var t=this;this.$api.sendRequest({url:"/pintuan/api/goods/info",data:{sku_id:this.skuId,pintuan_id:this.goodsDetail.pintuan_id},success:function(e){var i=e.data;null!=i?(t.goodsSkuDetail=i,t.dealData(),t.goodsSkuDetail.show_price=t.goodsDetail.group_id>0?t.goodsSkuDetail.promotion_price:t.goodsSkuDetail.pintuan_price,t.goodsSkuDetail.save_price=t.goodsSkuDetail.price-t.goodsSkuDetail.show_price>0?(t.goodsSkuDetail.price-t.goodsSkuDetail.show_price).toFixed(2):0,t.goodsSkuDetail.end_time-e.timestamp>0?t.goodsSkuDetail.timeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-e.timestamp):(t.$util.showToast({title:"活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),t.btnSwitch=!1,t.$emit("refresh",t.goodsSkuDetail)):t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},fail:function(e){t.btnSwitch=!1,t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}})},getGroupbuyGoodsSkuInfo:function(){var t=this;this.$api.sendRequest({url:"/groupbuy/api/goods/info",data:{sku_id:this.skuId,id:this.goodsDetail.groupbuy_id},success:function(e){var i=e.data;null!=i?(t.goodsSkuDetail=i,t.dealData(),t.goodsSkuDetail.show_price=t.goodsDetail.groupbuy_price,t.goodsSkuDetail.save_price=t.goodsSkuDetail.price-t.goodsSkuDetail.show_price>0?(t.goodsSkuDetail.price-t.goodsSkuDetail.show_price).toFixed(2):0,t.goodsSkuDetail.end_time-e.timestamp>0?t.goodsSkuDetail.timeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-e.timestamp):(t.$util.showToast({title:"活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),t.btnSwitch=!1,t.$emit("refresh",t.goodsSkuDetail)):t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")},fail:function(e){t.btnSwitch=!1,t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}})},dealData:function(){this.goodsSkuDetail.sku_images=this.goodsSkuDetail.sku_images.split(","),this.goodsSkuDetail.show_price=this.goodsSkuDetail.discount_price,this.goodsSkuDetail.sku_spec_format&&(this.goodsSkuDetail.sku_spec_format=JSON.parse(this.goodsSkuDetail.sku_spec_format)),this.goodsSkuDetail.goods_spec_format&&(this.goodsSkuDetail.goods_spec_format=JSON.parse(this.goodsSkuDetail.goods_spec_format)),this.$forceUpdate(),this.keyInput(!0)},changeNum:function(t){if(0!=this.goodsDetail.stock){var e=this.goodsDetail.stock,i=1;if("pintuan"==this.type&&this.goodsDetail.pintuan_id?e=this.goodsDetail.buy_num>this.goodsDetail.stock?this.goodsDetail.stock:this.goodsDetail.buy_num:"groupbuy"==this.type&&this.goodsDetail.groupbuy_id&&(e=(this.goodsDetail.buy_num,this.goodsDetail.stock,this.goodsDetail.stock),i=this.goodsDetail.buy_num),"+"==t){if(!(this.number<e))return;this.number++}else if("-"==t){if(!(this.number>i))return;this.number-=1}}},blur:function(){var t=this,e=parseInt(this.number);this.number=0,setTimeout((function(){t.number=e}),0)},keyInput:function(t,e){var i=this;setTimeout((function(){var a=i.goodsDetail.stock;0!=i.goodsDetail.stock?(t&&0==i.number.length&&(i.number=1),t&&(i.number<=0||isNaN(i.number))&&(i.number=1),"pintuan"==i.type&&i.goodsDetail.pintuan_id&&i.number>i.goodsDetail.buy_num||"groupbuy"==i.type&&i.goodsDetail.groupbuy_id&&i.number<i.goodsDetail.buy_num?i.number=i.goodsDetail.buy_num:i.number>a&&(i.number=a),t&&(i.number=parseInt(i.number)),e&&e()):i.number=0}),0)},confirm:function(){var t=this;if(this.preview)this.$util.showToast({title:"预览商品无法购买"});else{if(!uni.getStorageSync("token")){var e=getCurrentPages(),i=e[e.length-1].options,a=e[e.length-1].route;i.back=a,this.$util.redirectTo("/pages/login/login/login",i)}this.keyInput(!0,(function(){if(0!=t.goodsDetail.stock)if(0!=t.number.length&&0!=t.number){if(!t.btnSwitch)if(t.btnSwitch=!0,"join_cart"==t.type)t.$api.sendRequest({url:"/api/cart/add",data:{site_id:t.goodsDetail.site_id,sku_id:t.goodsDetail.sku_id,num:t.number},success:function(e){if(-1==e.code&&"TOKEN_ERROR"==e.error_code){t.$util.showToast({title:"登录失败"});var i=getCurrentPages(),a=i[i.length-1].options,o=i[i.length-1].route;return a.back=o,void setTimeout((function(){t.$util.redirectTo("/pages/login/login/login",a)}),1500)}var n=e.data;n>0&&(t.$util.showToast({title:"加入购物车成功"}),t.callback&&t.callback()),t.$refs.skuPopup.close(),t.btnSwitch=!1},fail:function(e){t.$refs.skuPopup.close(),t.btnSwitch=!1}});else if("buy_now"==t.type){var e={sku_id:t.skuId,num:t.number};uni.setStorage({key:"orderCreateData",data:e,success:function(){t.$util.redirectTo("/pages/order/payment/payment"),t.btnSwitch=!1}})}else if("seckill"==t.type){e={seckill_goods_id:t.goodsDetail.id,num:t.number};uni.setStorage({key:"seckillOrderCreateData",data:e,success:function(){t.$util.redirectTo("/promotionpages/seckill/payment/payment"),t.btnSwitch=!1}})}else if("pintuan"==t.type){e={pintuan_goods_id:t.goodsDetail.id,group_id:t.goodsDetail.group_id,num:t.number};uni.setStorage({key:"pintuanOrderCreateData",data:e,success:function(){t.$util.redirectTo("/promotionpages/pintuan/payment/payment"),t.btnSwitch=!1}})}else if("topic"==t.type){e={topic_goods_id:t.goodsDetail.id,num:t.number};uni.setStorage({key:"topicOrderCreateData",data:e,success:function(){t.$util.redirectTo("/promotionpages/topics/payment/payment"),t.btnSwitch=!1}})}else if("groupbuy"==t.type){e={groupbuy_id:t.goodsDetail.groupbuy_id,sku_id:t.skuId,num:t.number};uni.setStorage({key:"groupbuyOrderCreateData",data:e,success:function(){t.$util.redirectTo("/promotionpages/groupbuy/payment/payment"),t.btnSwitch=!1}})}}else t.$util.showToast({title:"购买数量不能为0"});else t.$util.showToast({title:"商品已售罄"})}))}},closeSkuPopup:function(){this.$refs.skuPopup.close()},imageError:function(){this.goodsDetail.sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},valueImageError:function(t,e){this.goodsDetail.goods_spec_format[t].value[e].image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()}}});e.default=n},"28bb":function(t,e,i){"use strict";i.r(e);var a=i("3905"),o=i("3ffd");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("54bb");var s,r=i("f0c5"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"e8a6070c",null,!1,a["a"],s);e["default"]=u.exports},3675:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},custom:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!0},show:{type:Boolean,default:!0}},data:function(){return{ani:"",showPopup:!1,callback:null,isIphoneX:!1}},watch:{show:function(t){t?this.open():this.close()}},created:function(){this.isIphoneX=this.$util.uniappIsIPhoneX()},methods:{clear:function(){},open:function(t){var e=this;t&&(this.callback=t),this.$emit("change",{show:!0}),this.showPopup=!0,this.$nextTick((function(){setTimeout((function(){e.ani="uni-"+e.type}),30)}))},close:function(t,e){var i=this;!this.maskClick&&t||(this.$emit("change",{show:!1}),this.ani="",this.$nextTick((function(){setTimeout((function(){i.showPopup=!1}),300)})),e&&e(),this.callback&&this.callback.call(this))}}};e.default=a},3905:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showPopup?i("v-uni-view",{staticClass:"uni-popup"},[i("v-uni-view",{staticClass:"uni-popup__mask",class:[t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}}),i("v-uni-view",{staticClass:"uni-popup__wrapper",class:[t.type,t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1)],1):t._e()},n=[]},"3ffd":function(t,e,i){"use strict";i.r(e);var a=i("3675"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"46d7":function(t,e,i){var a=i("03a4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("750d83f3",a,!0,{sourceMap:!1,shadowMode:!1})},"54bb":function(t,e,i){"use strict";var a=i("46d7"),o=i.n(a);o.a},"5ca6":function(t,e,i){"use strict";var a=i("4ea4");i("c975"),i("13d5"),i("4d63"),i("ac1f"),i("25f0"),i("466d"),i("5319"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("f2cb")),n=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,s=/^<\/([-A-Za-z0-9_]+)[^>]*>/,r=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,u=g("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),l=g("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),d=g("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),c=g("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),p=g("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),f=g("script,style");function h(t,e){var i,a,o,h=[],g=t;h.last=function(){return this[this.length-1]};while(t){if(a=!0,h.last()&&f[h.last()])t=t.replace(new RegExp("([\\s\\S]*?)</"+h.last()+"[^>]*>"),(function(t,i){return i=i.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),e.chars&&e.chars(i),""})),k("",h.last());else if(0==t.indexOf("\x3c!--")?(i=t.indexOf("--\x3e"),i>=0&&(e.comment&&e.comment(t.substring(4,i)),t=t.substring(i+3),a=!1)):0==t.indexOf("</")?(o=t.match(s),o&&(t=t.substring(o[0].length),o[0].replace(s,k),a=!1)):0==t.indexOf("<")&&(o=t.match(n),o&&(t=t.substring(o[0].length),o[0].replace(n,b),a=!1)),a){i=t.indexOf("<");var m=i<0?t:t.substring(0,i);t=i<0?"":t.substring(i),e.chars&&e.chars(m)}if(t==g)throw"Parse Error: "+t;g=t}function b(t,i,a,o){if(i=i.toLowerCase(),l[i])while(h.last()&&d[h.last()])k("",h.last());if(c[i]&&h.last()==i&&k("",i),o=u[i]||!!o,o||h.push(i),e.start){var n=[];a.replace(r,(function(t,e){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:p[e]?e:"";n.push({name:e,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})})),e.start&&e.start(i,n,o)}}function k(t,i){if(i){for(a=h.length-1;a>=0;a--)if(h[a]==i)break}else var a=0;if(a>=0){for(var o=h.length-1;o>=a;o--)e.end&&e.end(h[o]);h.length=a}}k()}function g(t){for(var e={},i=t.split(","),a=0;a<i.length;a++)e[i[a]]=!0;return e}function m(t){return t.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*>\n/,"").replace(/<!DOCTYPE.*>\n/,"")}function b(t){t=t.replace(/<!--[\s\S]*-->/gi,"");return t}function k(t){t=t.replace(/\\/g,"").replace(/<img/g,'<img style="width:100% !important;display:block;"');return t=t.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(t,e){return'<img style="width:100% !important;display:block;" src="'+o.default.img(e)+'"/>'})),t}function v(t){t=t.replace(/style\s*=\s*["][^>]*;[^"]?/gi,(function(t,e){return t=t.replace(/[:](\s?)[\s\S]*/gi,(function(t,e){return t.replace(/"/g,"'")})),t}));return t}function _(t){return t.reduce((function(t,e){var i=e.value,a=e.name;return t[a]?t[a]=t[a]+" "+i:t[a]=i,t}),{})}function w(t){t=m(t),t=b(t),t=k(t),t=v(t);var e=[],i={node:"root",children:[]};return h(t,{start:function(t,a,o){var n={name:t};if(0!==a.length&&(n.attrs=_(a)),o){var s=e[0]||i;s.children||(s.children=[]),s.children.push(n)}else e.unshift(n)},end:function(t){var a=e.shift();if(a.name!==t&&console.error("invalid state: mismatch end tag"),0===e.length)i.children.push(a);else{var o=e[0];o.children||(o.children=[]),o.children.push(a)}},chars:function(t){var a={type:"text",text:t};if(0===e.length)i.children.push(a);else{var o=e[0];o.children||(o.children=[]),o.children.push(a)}},comment:function(t){var i={node:"comment",text:t},a=e[0];a.children||(a.children=[]),a.children.push(i)}}),i.children}var y=w;e.default=y},"63e5":function(t,e,i){"use strict";var a=i("fff3"),o=i.n(a);o.a},a922:function(t,e,i){"use strict";i.r(e);var a=i("1d5f"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},aaad:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={uniPopup:i("4c55").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"goods-sku",on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("uni-popup",{ref:"skuPopup",staticClass:"sku-layer",attrs:{type:"bottom"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.popupChange()}}},[i("v-uni-view",{staticClass:"sku-info",style:{height:1*t.systemInfo.windowHeight+"px"}},[i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"img-wrap"},[i("v-uni-image",{attrs:{src:t.$util.img(t.goodsDetail.sku_image,{size:"mid"})},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.imageError()}}})],1),i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"price-wrap"},[i("v-uni-text",{staticClass:"price ns-text-color ns-font-size-lg"},[t._v("￥"+t._s(t.goodsDetail.show_price))])],1),i("v-uni-view",{staticClass:"stock"},[t._v("库存"+t._s(t.goodsDetail.stock)+t._s(t.goodsDetail.unit))]),i("v-uni-view",{staticClass:"sku-name ns-font-size-sm"},[t.goodsDetail.sku_spec_format?[t._v("已选择："),t._l(t.goodsDetail.sku_spec_format,(function(e,a){return i("v-uni-text",{key:a},[t._v(t._s(e.spec_value_name))])}))]:t._e()],2)],1),i("v-uni-view",{staticClass:"sku-close iconfont iconclose",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeSkuPopup()}}})],1),i("v-uni-view",{staticClass:"body-item"},[i("v-uni-scroll-view",{staticClass:"wrap",attrs:{"scroll-y":!0}},[t._l(t.goodsDetail.goods_spec_format,(function(e,a){return i("v-uni-view",{key:a,staticClass:"sku-list-wrap"},[i("v-uni-text",{staticClass:"title ns-font-size-base"},[t._v(t._s(e.spec_name))]),t._l(e.value,(function(e,o){return i("v-uni-view",{key:o,staticClass:"items ns-border-color-gray ns-bg-color-gray ns-font-size-base",class:{selected:e["selected"]||t.skuId==e.sku_id,disabled:e["disabled"]||!e["selected"]&&t.disabled},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.change(e.sku_id,e.spec_id)}}},[e.image?i("v-uni-image",{attrs:{src:t.$util.img(e.image,{size:"small"})},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.valueImageError(a,o)}}}):t._e(),i("v-uni-text",[t._v(t._s(e.spec_value_name))])],1)}))],2)})),i("v-uni-view",{staticClass:"number-wrap"},[i("v-uni-view",{staticClass:"number-line"},[i("v-uni-text",{staticClass:"title ns-font-size-base"},[t._v("购买数量")]),t.limitNumber>0?i("v-uni-text",{staticClass:"limit-txt ns-font-size-sm"},[t._v("(每人限购"+t._s(t.limitNumber)+"件)")]):t._e(),t.minNumber>0?i("v-uni-text",{staticClass:"limit-txt ns-font-size-sm"},[t._v("("+t._s(t.minNumber)+"件起购)")]):t._e(),i("v-uni-view",{staticClass:"number"},[i("v-uni-button",{staticClass:"decrease ns-border-color-gray",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeNum("-")}}},[t._v("-")]),i("v-uni-input",{staticClass:"uni-input ns-border-color-gray ns-font-size-sm",attrs:{type:"number",placeholder:"0"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.blur.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.keyInput(!1)}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}}),i("v-uni-button",{staticClass:"increase ns-border-color-gray",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeNum("+")}}},[t._v("+")])],1)],1)],1)],2)],1),i("v-uni-view",{staticClass:"footer",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm()}}},[t.goodsDetail.stock&&0!=t.goodsDetail.stock?i("v-uni-button",{attrs:{type:"primary"}},[t._v("确定")]):i("v-uni-button",{staticClass:"btn-disabled",attrs:{type:"primary"}},[t._v("确定")])],1)],1)],1)],1)},n=[]},bb51:function(t,e,i){"use strict";i.r(e);var a=i("aaad"),o=i("a922");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("63e5");var s,r=i("f0c5"),u=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"7a991500",null,!1,a["a"],s);e["default"]=u.exports},bd72:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/**  -------------------------------------------------------------------默认主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------蓝色主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------绿色主题颜色配置-------------------------------------------------- */\n/* 文字基本颜色 */\n/* 文字尺寸 */.sku-layer .sku-info[data-v-7a991500]{height:75vh!important;position:relative;z-index:999}.sku-layer .sku-info .header[data-v-7a991500]{padding:%?30?% 0 %?30?% %?300?%;position:relative;border-bottom:1px solid rgba(0,0,0,.1)}.sku-layer .sku-info .header .img-wrap[data-v-7a991500]{width:%?250?%;height:%?250?%;position:absolute;top:%?-56?%;left:%?20?%;border-radius:%?8?%;overflow:hidden;border:1px solid rgba(0,0,0,.1);padding:%?2?%;background-color:#fff;line-height:%?208?%}.sku-layer .sku-info .header .img-wrap uni-image[data-v-7a991500]{width:100%;height:100%}.sku-layer .sku-info .main[data-v-7a991500]{font-size:12px;line-height:%?40?%;padding-right:%?40?%}.sku-layer .sku-info .main .price[data-v-7a991500]{word-wrap:break-word}.sku-layer .sku-info .main .sku-name[data-v-7a991500]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:%?90?%;overflow:hidden}.sku-layer .sku-info .main .sku-name uni-text[data-v-7a991500]{margin-right:%?10?%}.sku-layer .sku-info .sku-close[data-v-7a991500]{position:absolute;top:%?20?%;right:%?20?%;width:%?40?%;height:%?80?%;font-size:%?50?%}.sku-layer .body-item[data-v-7a991500]{padding:0 %?30?%;height:calc(100% - %?330?%);box-sizing:border-box;overflow:scroll}.sku-layer .body-item .wrap[data-v-7a991500]{height:calc(100% - %?116?%)}.sku-layer .body-item .sku-list-wrap[data-v-7a991500]{border-bottom:1px solid rgba(0,0,0,.1);padding-bottom:%?20?%}.sku-layer .body-item .sku-list-wrap .title[data-v-7a991500]{font-weight:400;padding:%?26?% 0;margin:0;display:block}.sku-layer .body-item .sku-list-wrap .items[data-v-7a991500]{position:relative;display:inline-block;border:1px solid;padding:%?4?% %?20?%;border-radius:%?16?%;margin:0 %?10?% %?10?% 0}.sku-layer .body-item .sku-list-wrap .items.disabled[data-v-7a991500]{border:1px dashed}.sku-layer .body-item .sku-list-wrap .items uni-image[data-v-7a991500]{height:%?48?%;width:%?48?%;border-radius:%?4?%;margin-right:%?10?%;display:inline-block;vertical-align:middle}.sku-layer .body-item .number-wrap .number-line[data-v-7a991500]{padding:%?20?% 0;line-height:%?72?%;border-bottom:1px solid rgba(0,0,0,.1)}.sku-layer .body-item .number-wrap .title[data-v-7a991500]{font-weight:400}.sku-layer .body-item .number-wrap .number[data-v-7a991500]{height:%?72?%;border-radius:%?6?%;float:right}.sku-layer .body-item .number-wrap .number uni-button[data-v-7a991500]{display:inline-block;line-height:%?64?%;height:%?68?%;width:%?60?%;font-size:%?48?%;box-sizing:initial;border:1px solid;padding:0;margin:0;border-radius:0}.sku-layer .body-item .number-wrap .number uni-button.decrease[data-v-7a991500]{border-right:1px solid #fff!important}.sku-layer .body-item .number-wrap .number uni-button.increase[data-v-7a991500]{border-left:1px solid #fff!important}.sku-layer .body-item .number-wrap .number uni-button[data-v-7a991500]:after{border-radius:0;border:none}.sku-layer .body-item .number-wrap .number uni-input[data-v-7a991500]{display:inline-block;line-height:%?64?%;height:%?68?%;width:%?72?%;text-align:center;font-weight:700;border:1px solid;margin:0;padding:0;vertical-align:top}.sku-layer .footer[data-v-7a991500]{height:%?96?%;width:100%;position:absolute;bottom:%?60?%;color:#fff;z-index:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.sku-layer .footer uni-button[data-v-7a991500]{width:100%}.position-bottom[data-v-7a991500]{bottom:%?98?%!important}',""]),t.exports=e},fff3:function(t,e,i){var a=i("bd72");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("1f034ac4",a,!0,{sourceMap:!1,shadowMode:!1})}}]);