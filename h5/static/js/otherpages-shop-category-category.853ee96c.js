(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-shop-category-category"],{"1f38":function(t,e,i){"use strict";i.r(e);var o=i("c92c"),s=i("7645");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("5b52");var n,r=i("f0c5"),d=Object(r["a"])(s["default"],o["b"],o["c"],!1,null,"74dc3b34",null,!1,o["a"],n);e["default"]=d.exports},2967:function(t,e,i){"use strict";i.r(e);var o=i("fc62"),s=i("85d9");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("2c45");var n,r=i("f0c5"),d=Object(r["a"])(s["default"],o["b"],o["c"],!1,null,"1cee917e",null,!1,o["a"],n);e["default"]=d.exports},"2c45":function(t,e,i){"use strict";var o=i("8f8e"),s=i.n(o);s.a},"3f44":function(t,e,i){"use strict";var o=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=o(i("ade3")),a=o(i("2967")),n=(o(i("0853")),o(i("b864"))),r={components:{diyBottomNav:n.default,diyShopInfo:a.default},data:function(){return{siteId:0,diyData:[],isIphoneX:!1,windowHeight:0}},onLoad:function(t){this.iphoneX=this.$util.uniappIsIPhoneX(),t.site_id?(this.siteId=t.site_id,this.getDiyInfo(),this.getHeight()):this.$util.redirectTo("/otherpages/shop/index/index",{},"redirectTo")},onShow:function(){this.$langConfig.refresh()},methods:{getHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.windowHeight=e.windowHeight-57-68,t.iphoneX&&(t.windowHeight=t.windowHeight-33-68)}})},netFinish:function(t){var e=this;t&&this.$refs.loadingCover&&this.$refs.loadingCover.hide(),setTimeout((function(){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}),1e3)},getDiyInfo:function(){var t=this;this.$api.sendRequest({url:"/api/diyview/info",data:(0,s.default)({site_id:this.siteId,name:"DIYVIEW_SHOP_GOODS_CATEGORY"},"site_id",this.siteId),success:function(e){if(0==e.code&&e.data){if(t.diyData=e.data,t.diyData.value){t.diyData=JSON.parse(t.diyData.value);for(var i=0;i<t.diyData.value.length;i++)if("PopWindow"==t.diyData.value[i].controller){setTimeout((function(){if(null!=uni.getStorageSync("index_wap_floating_layer")&&""!=uni.getStorageSync("index_wap_floating_layer")){var e=JSON.parse(uni.getStorageSync("index_wap_floating_layer"));e.closeNum<3&&t.$refs.uniPopup[0].open()}else t.$refs.uniPopup[0].open()}),500);break}}uni.stopPullDownRefresh(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}else t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}}};e.default=r},"411d":function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{shopInfo:{logo:"",site_name:"",sub_num:0,shop_desccredit:0,shop_servicecredit:0,shop_deliverycredit:0},hasFollow:!1}},props:{value:{type:Object,default:null},siteId:{type:[Number,String],default:0},type:{type:Number,default:0}},watch:{siteId:function(){this.getShopInfo(),this.isFollow()}},created:function(){this.getShopInfo(),this.isFollow()},mounted:function(){},methods:{follow:function(){var t=this;if(!uni.getStorageSync("token")){var e=getCurrentPages(),i=e[e.length-1].options,o=e[e.length-1].route;return i.back=o,void t.$util.redirectTo("/pages/login/login/login",i)}t.hasFollow?uni.showModal({title:"提示",content:"真的要取消关注嘛",success:function(e){e.confirm&&t.$api.sendRequest({url:"/api/shopmember/delete",data:{site_id:t.siteId},success:function(e){if(-1==e.code&&"TOKEN_ERROR"==e.error_code){t.$util.showToast({title:"登录失败"});var i=getCurrentPages(),o=i[i.length-1].options,s=i[i.length-1].route;return o.back=s,void setTimeout((function(){t.$util.redirectTo("/pages/login/login/login",o)}),1500)}0==e.code&&e.data&&(t.hasFollow=!t.hasFollow,t.$util.showToast({title:"取消成功"}))}})}}):t.$api.sendRequest({url:"/api/shopmember/add",data:{site_id:t.siteId},success:function(e){if(-1==e.code&&"TOKEN_ERROR"==e.error_code){t.$util.showToast({title:"登录失败"});var i=getCurrentPages(),o=i[i.length-1].options,s=i[i.length-1].route;return o.back=s,void setTimeout((function(){t.$util.redirectTo("/pages/login/login/login",o)}),1500)}0==e.code&&e.data&&(t.hasFollow=!t.hasFollow,t.$util.showToast({title:"关注成功"}))}})},toIntroduction:function(){"otherpages/shop/introduce/introduce"!=getCurrentPages()[getCurrentPages().length-1].route&&this.$util.redirectTo("/otherpages/shop/introduce/introduce",{site_id:this.siteId})},getShopInfo:function(){var t=this;this.$api.sendRequest({url:"/api/shop/info",data:{site_id:this.siteId},success:function(e){0==e.code&&(t.shopInfo=e.data)}})},isFollow:function(){var t=this;this.$api.sendRequest({url:"/api/shopmember/issubscribe",data:{site_id:this.siteId},success:function(e){0==e.code&&(t.hasFollow=e.data)}})}}};e.default=o},5493:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={computed:{Development:function(){return this.$store.state.Development},themeStyleScore:function(){return this.$store.state.themeStyle},themeStyle:function(){return"theme-"+this.$store.state.themeStyle},addonIsExit:function(){return this.$store.state.addonIsExit},wholeSaleNumber:function(){return this.$store.state.wholeSaleNumber}}};e.default=o},"5b52":function(t,e,i){"use strict";var o=i("6973"),s=i.n(o);s.a},6973:function(t,e,i){var o=i("c996");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var s=i("4f06").default;s("e6741e1c",o,!0,{sourceMap:!1,shadowMode:!1})},7645:function(t,e,i){"use strict";i.r(e);var o=i("3f44"),s=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=s.a},"85d9":function(t,e,i){"use strict";i.r(e);var o=i("411d"),s=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=s.a},"8f8e":function(t,e,i){var o=i("b374");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var s=i("4f06").default;s("93c2a32c",o,!0,{sourceMap:!1,shadowMode:!1})},b374:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/**  -------------------------------------------------------------------默认主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------蓝色主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------绿色主题颜色配置-------------------------------------------------- */\n/* 文字基本颜色 */\n/* 文字尺寸 */.shop-info[data-v-1cee917e]{width:100%;padding:%?20?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;box-sizing:border-box;background:#fff}.shop-image[data-v-1cee917e]{width:%?90?%;height:%?90?%;border-radius:%?10?%;overflow:hidden;margin-right:%?20?%;border:%?1?% solid #e7e7e7}.shop-image uni-image[data-v-1cee917e]{width:100%;height:100%}.shop-con[data-v-1cee917e]{width:calc(80% - %?90?% - %?20?%);color:#fff}.info-top[data-v-1cee917e]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?4?%}.info-top .info-name[data-v-1cee917e]{width:60%;font-size:%?28?%;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.info-top .info-name .icongengduo[data-v-1cee917e]{font-size:%?26?%;margin-top:%?2?%;font-weight:400;font-weight:700;margin-left:%?10?%}uni-button[size="mini"].info-follow[data-v-1cee917e]{line-height:1.8!important;padding:0 %?20?%!important;position:absolute;right:%?20?%;top:%?20?%}uni-button[size="mini"].info-follow .iconfont[data-v-1cee917e]{margin-right:%?10?%;font-size:%?24?%}uni-button[size="mini"].info-follow .iconfont.active[data-v-1cee917e]{margin-right:%?10?%;font-size:%?24?%;color:#fff}.info-desc[data-v-1cee917e]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.info-desc .desc-star[data-v-1cee917e]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?20?%}.info-desc .fans[data-v-1cee917e]{margin-left:%?20?%;font-size:%?20?%}',""]),t.exports=e},c92c:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}));var o={diyShopInfo:i("2967").default,diyGoodsLevelCategory:i("0853").default,loadingCover:i("1ba8").default,diyBottomNav:i("b864").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("diy-shop-info",{attrs:{"site-id":t.siteId}}),t._l(t.diyData.value,(function(e,o){return i("v-uni-view",{key:o},["GoodsCategory"==e.controller?[i("v-uni-view",{class:t.iphoneX?"active":"no"},[i("diy-goods-level-category",{attrs:{value:e,siteId:t.siteId,autoHeight:!1,bottom:t.windowHeight},on:{netFinish:function(e){arguments[0]=e=t.$handleEvent(e),t.netFinish.apply(void 0,arguments)}}})],1)]:t._e()],2)})),i("loading-cover",{ref:"loadingCover"}),i("diy-bottom-nav",{attrs:{type:"shop","site-id":t.siteId}})],2)},a=[]},c996:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/**  -------------------------------------------------------------------默认主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------蓝色主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------绿色主题颜色配置-------------------------------------------------- */\n/* 文字基本颜色 */\n/* 文字尺寸 */.active[data-v-74dc3b34] .newpage1{height:calc(100vh - 134px)!important}.no[data-v-74dc3b34] .newpage1{height:calc(100vh - 100px)!important}',""]),t.exports=e},f8df:function(t,e,i){"use strict";var o=i("4ea4");i("99af"),i("a9e3"),i("b680"),i("e25e"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var s=o(i("1da1")),a={data:function(){return{categoryAdvImage:"",cartList:[],cateList:[],twoCateList:[],threeCateList:[],join_cart:"join_cart",oneCategoryId:0,oneCategoryIndex:0,TwoCategoryId:0,TwoCategoryIndex:0,threeCategoryId:0,threeCategoryIndex:0,goodsList:[],isAll:!1,isToken:!1,size:10,num:1,isNetwork:1,isLoading:!1,newheight:0,goodsSkuDetail:{},currentRoute:"",token:"",isSafari:!1,cartFlag:!1}},props:{value:{type:Object},autoHeight:{type:Boolean},bottom:{type:[String,Number]},siteId:{type:[Number,String],default:0}},computed:{type:function(){return this.value.template},height:function(){return this.newheight+"px"},addonIsExit:function(){return this.$store.state.addonIsExit},themeStyle:function(){return"theme-"+this.$store.state.themeStyle}},created:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=getCurrentPages()[getCurrentPages().length-1],t.currentRoute="/"+i.route,e.next=4,t.getCategoryList();case 4:t.token=uni.getStorageSync("token");case 5:case"end":return e.stop()}}),e)})))()},methods:{getToken:function(){this.token=uni.getStorageSync("token"),this.token||this.isToken||this.getCategoryList()},getCartData:function(){var t=this,e=this;uni.getStorageSync("token")?this.$api.sendRequest({url:"/api/cart/lists",success:function(i){i.code>=0&&(e.cartList=i.data,3!=t.value.level?e.modifyGoodsCartNum():e.modifyGoodsCartThree(),t.cartFlag=!1),t.$emit("netFinish",!0)},fail:function(t){}}):this.$emit("netFinish",!0)},modifyGoodsCartNum:function(t,e){var i=this,o=i.goodsList,s=i.cartList;for(var a in t=t||1,o){var n=o[a],r=n.sku_id,d=0,u="";if(1==t){for(var l in s){var c=s[l];r==c.sku_id&&(d+=c.num,u=c.cart_id)}n.num=d,n.cart_id=u}else if(2==t&&(d=parseInt(n.num||0),"undefined"!==typeof e&&!app.isEmptyObject(e)&&e.sku_id==r)){"add"==e.type?n.num+=parseInt(e.num||0):"minus"==e.type&&(n.num-=parseInt(e.num||0),n.num<0&&(n.num=0));break}"undefined"!==typeof n.num&&null!==n.num||(n.num=0)}this.goodsList=o,this.$forceUpdate()},modifyGoodsCartThree:function(){var t=this.cateList,e=this.cartList;for(var i in t){var o=t[i];o.sku_id;if(t[i].child_list&&t[i].child_list.length)for(var s in t[i].child_list){var a=t[i].child_list[s],n=a.sku_id,r=0,d="";for(var u in e){var l=e[u];n==a.sku_id&&(r=a.num,d=l.cart_id)}if(a.num=r,a.cart_id=d,a.child_list.length)for(var c in a.child_list){var h=a.child_list[c],g=h.sku_id,f=0,p="";for(var v in e){var m=e[v];g==m.sku_id&&(f=h.num,p=m.cart_id)}if(h.num=f,h.cart_id=p,h.goods_list.length>0)for(var _ in h.goods_list){var y=h.goods_list[_],w=y.sku_id,k=0,b="";for(var C in e){var I=e[C];w==I.sku_id&&(k=I.num,b=I.cart_id)}y.num=k,y.cart_id=b}}}}this.cateList=t,this.$forceUpdate()},cartNumChange:function(t,e,i,o,s){var a=this;if(!this.token){var n="/pages/goods/category/category";return this.siteId&&(n="/otherpages/shop/category/category"),void this.$refs.login.open(n)}if(this.cartFlag)return!1;this.cartFlag=!0;var r,d={num:"",cart_id:i,sku_id:o,site_id:s},u={num:"",cart_id:i,sku_id:o},l="";""==i?(r="add",d.num=1,u.num=1,l="/api/cart/add"):"add"==t?(r="edit",d.num=e+1,u.num=e+1,l="/api/cart/edit"):"minus"==t&&(d.num=e-1?e-1:0,u.num=e-1?e-1:0,l=d.num>0?"/api/cart/edit":"/api/cart/delete",r=d.num>0?"edit":"delete"),this.shopDataChange(u),this.$api.sendRequest({url:l,data:d,success:function(t){if(t.code>=0&&t.data>0){if(a.getCartData(),"edit"==r)return!1;u.cart_id="add"==r?t.data:"",a.shopDataChange(u),a.$store.dispatch("getCartNumber")}else u.num=e,a.shopDataChange(u),a.cartFlag=!1}})},shopDataChange:function(t){if(3!=this.value.level)for(var e=0;e<this.goodsList.length;e++){var i=this.goodsList[e];t.sku_id==i.sku_id&&(i.num=t.num,i.cart_id=t.cart_id,this.$forceUpdate())}else for(e=0;e<this.threeCateList.length;e++){i=this.threeCateList[e];for(var o=0;o<i.goods_list.length;o++)i.goods_list[o].sku_id==t.sku_id&&(i.goods_list[o].num=t.num,i.goods_list[o].cart_id=t.cart_id,this.$forceUpdate())}},getCategoryList:function(){var t=this,e="/api/goodscategory/tree",i={level:this.value.level,template:this.value.template};this.siteId&&(i.site_id=this.siteId,e="/api/shopgoodscategory/tree"),this.$api.sendRequest({url:e,data:i,success:function(e){if(0==e.code){if(t.cateList=e.data,!t.cateList.length)return;t.categoryAdvImage=t.cateList[0].image_adv,e.data?t.oneCategoryId=e.data[0].category_id_1:t.$emit("netFinish",!0),1!=t.value.level&&e.data&&e.data[0].child_list&&e.data[0].child_list.length>0&&(t.twoCateList=e.data[0].child_list,t.TwoCategoryId=e.data[0].child_list[0].category_id_2,3==t.value.level&&e.data[0].child_list[0].child_list.length>0&&(t.threeCateList=e.data[0].child_list[0].child_list,t.threeCategoryId=e.data[0].child_list[0].child_list.category_id_3)),2==t.value.level&&3==t.type||1==t.value.level&&3==t.type?t.getGoodsList():3==t.value.level&&3==t.type?t.getCartData():t.$emit("netFinish",!0),setTimeout((function(){var e=uni.createSelectorQuery().in(t);e.select(".category-cate-top").boundingClientRect((function(e){t.newheight=e.height})).exec()}),100)}else t.$util.showToast({title:e.message})}})},getGoodsList:function(){var t=this,e=0,i=0;if(1==this.value.level?(e=this.oneCategoryId,i=1):2==this.value.level&&this.TwoCategoryId?(e=this.TwoCategoryId,i=2):2!=this.value.level||this.TwoCategoryId||(e=this.oneCategoryId,i=1),this.isNetwork&&!this.isAll){this.isNetwork=0,this.isLoading=!0;var o={page:this.num,page_size:this.size};this.siteId?o.shop_category_id=e:(o.category_id=e,o.category_level=i),this.$api.sendRequest({url:"/api/goodssku/page",data:o,success:function(e){if(0==e.code&&e.data){var i=[];0==e.code&&e.data&&(i=e.data.list),1==t.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(i),t.goodsList.length==e.data.count&&(t.isAll=!0),t.getCartData()}t.$emit("netFinish",!0),t.num=t.num+1,t.isNetwork=1,t.isLoading=!1}})}},getGoodsSkuDetail:function(t){var e=this;return(0,s.default)(regeneratorRuntime.mark((function i(){var o,s,a,n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(uni.getStorageSync("token")){i.next=3;break}return e.$refs.login.open(e.currentRoute),i.abrupt("return");case 3:return i.next=5,e.$api.sendRequest({url:"/api/goodssku/detail",async:!1,data:{sku_id:t}});case 5:if(o=i.sent,s=o.data,null!=s.goods_sku_detail){if(e.goodsSkuDetail=s.goods_sku_detail,e.goodsSkuDetail.preview=e.preview,e.shopInfo=s.shop_info,0==e.skuId&&(e.skuId=e.goodsSkuDetail.sku_id),e.goodsSkuDetail.video_url&&(e.switchMedia="video"),e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.split(","),e.goodsSkuDetail.unit=e.goodsSkuDetail.unit||"件",e.goodsSkuDetail.show_price=e.goodsSkuDetail.discount_price,e.goodsSkuDetail.sku_spec_format&&(e.goodsSkuDetail.sku_spec_format=JSON.parse(e.goodsSkuDetail.sku_spec_format)),e.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(e.goodsSkuDetail.goods_attr_format),e.goodsSkuDetail.goods_attr_format=JSON.parse(e.goodsSkuDetail.goods_attr_format),e.goodsSkuDetail.goods_attr_format=e.$util.unique(e.goodsSkuDetail.goods_attr_format,"attr_id"),n=0;n<e.goodsSkuDetail.goods_attr_format.length;n++)for(r=0;r<a.length;r++)e.goodsSkuDetail.goods_attr_format[n].attr_id==a[r].attr_id&&e.goodsSkuDetail.goods_attr_format[n].attr_value_id!=a[r].attr_value_id&&(e.goodsSkuDetail.goods_attr_format[n].attr_value_name+="、"+a[r].attr_value_name);e.goodsSkuDetail.goods_spec_format&&(e.goodsSkuDetail.goods_spec_format=JSON.parse(e.goodsSkuDetail.goods_spec_format)),e.contactData={title:e.goodsSkuDetail.sku_name,path:"/pages/goods/detail/detail?sku_id="+e.skuId,img:e.$util.img(e.goodsSkuDetail.sku_image,{size:"big"})},e.$refs.goodSkuNew.show("join_cart",e.goodsSkuDetail,(function(){e.getCartCount()}))}else e.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 8:case"end":return i.stop()}}),i)})))()},refreshGoodsSkuDetail:function(t){Object.assign(this.goodsSkuDetail,t)},getCartCount:function(){var t=this;this.preview||this.$store.dispatch("getCartNumber").then((function(e){t.cartCount=e}))},toDetail:function(t){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t})},toListDetail:function(t,e){var i={category_id:t,category_level:e},o="/pages/goods/list/list";this.siteId&&(o="/otherpages/shop/list/list",i.site_id=this.siteId),this.$util.redirectTo(o,i)},selectOneCategory:function(t,e,i){var o=this;this.oneCategoryId=t,this.oneCategoryIndex=e,this.categoryAdvImage=this.cateList[this.oneCategoryIndex].image_adv,this.value.level>1&&(this.twoCateList=this.cateList[this.oneCategoryIndex].child_list?this.cateList[this.oneCategoryIndex].child_list:[],this.twoCateList.length?(this.TwoCategoryId=this.twoCateList[0].category_id_2,this.TwoCategoryIndex=0):(this.TwoCategoryId=null,this.TwoCategoryIndex=null),3==this.value.level&&(this.twoCateList.length?this.threeCateList=this.twoCateList[this.TwoCategoryIndex].child_list:this.threeCateList=[])),2==this.value.level&&3==this.type&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList()),1==this.value.level&&3==this.type&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList()),setTimeout((function(){var t=uni.createSelectorQuery().in(o);t.select(".category-cate-top").boundingClientRect((function(t){o.newheight=t.height})).exec()}),100)},selectTwoCategory:function(t,e,i){this.TwoCategoryId=t,this.TwoCategoryIndex=e,2==this.value.level&&0==i&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList()),3==this.value.level&&this.twoCateList.length&&(this.threeCateList=this.twoCateList[e].child_list),2==this.value.level&&3==this.type&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList()),1==this.value.level&&3==this.type&&(this.num=1,this.isAll=!1,this.isNetwork=!0,this.goodsList=[],this.getGoodsList())},selectThreeCategory:function(){this.toListDetail()},goodsImageError:function(t,e){this.goodsList[t].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},cateImageError:function(t,e){1==e?(this.cateList[t].image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()):2==e&&(this.twoCateList[t].image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate())},threeGoodsImageError:function(t,e){this.threeCateList[t].goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},threeCateImageError:function(t,e){this.twoCateList[t].child_list[e].image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},price:function(t){var e=Number(t.price),i=Number(t.member_price?t.member_price:1e20),o=1e20;return o=1==t.promotion_type?Number(t.discount_price?t.discount_price:1e20):1e20,e<=i&&e<=o?e.toFixed(2):i<=o&&i<=e?i.toFixed(2):o.toFixed(2)},priceLogo:function(t){var e=Number(t.price),i=Number(t.member_price?t.member_price:1e20),o=1e20;return o=1==t.promotion_type?Number(t.discount_price?t.discount_price:1e20):1e20,e<=i&&e<=o?"price":i<=o&&i<=e?"member_price":"discount_price"}}};e.default=a},fc62:function(t,e,i){"use strict";var o;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shopInfo?i("v-uni-view",{staticClass:"shop-info"},[i("v-uni-view",{staticClass:"shop-image"},[t.shopInfo.avatar?i("v-uni-image",{attrs:{src:t.$util.img(t.shopInfo.avatar),mode:"aspectFit"},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.shopInfo.avatar=t.$util.getDefaultImage().default_shop_img}}}):i("v-uni-image",{attrs:{src:t.$util.getDefaultImage().default_shop_img,mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"shop-con"},[i("v-uni-view",{staticClass:"info-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toIntroduction()}}},[i("v-uni-view",{staticClass:"info-name",style:t.value?"color:"+t.value.color:"#333"},[t._v(t._s(t.shopInfo.site_name)),i("v-uni-text",{staticClass:"iconfont icongengduo"})],1)],1),i("v-uni-view",{staticClass:"info-desc",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toIntroduction()}}},[i("v-uni-view",{staticClass:"desc-star",style:t.value?"color:"+t.value.color:"#333"},[t._v("综合评分："),i("v-uni-text",[t._v(t._s(((parseFloat(t.shopInfo.shop_desccredit)+parseFloat(t.shopInfo.shop_servicecredit)+parseFloat(t.shopInfo.shop_deliverycredit))/3).toFixed(1)))])],1),i("v-uni-text",{staticClass:"fans",style:t.value?"color:"+t.value.color:"#333"},[t._v("粉丝数："+t._s(t.shopInfo.sub_num))])],1)],1),t.hasFollow?i("v-uni-button",{staticClass:"info-follow",attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.follow()}}},[i("v-uni-text",{staticClass:"iconfont iconguanzhu active"}),i("v-uni-text",[t._v("已关注")])],1):t._e(),t.hasFollow?t._e():i("v-uni-button",{staticClass:"info-follow",attrs:{type:"warn",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.follow()}}},[i("v-uni-text",{staticClass:"iconfont iconguanzhu ns-text-color"}),i("v-uni-text",[t._v("关注")])],1)],1):t._e()},a=[]}}]);