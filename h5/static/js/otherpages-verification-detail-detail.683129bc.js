(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-verification-detail-detail"],{1069:function(i,e,t){"use strict";t.d(e,"b",(function(){return s})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return a}));var a={loadingCover:t("1ba8").default},s=function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("v-uni-view",{staticClass:"container",class:i.themeStyle},[t("v-uni-view",{staticClass:"site-wrap"},[t("v-uni-view",{staticClass:"site-header"},[t("v-uni-view",{staticClass:"iconfont icondianpu"}),t("v-uni-text",{staticClass:"site-name"},[i._v(i._s(i.verifyInfo.site_name))]),t("v-uni-view",{staticClass:"iconfont iconright"})],1),t("v-uni-view",{staticClass:"site-body"},i._l(i.verifyInfo.item_array,(function(e,a){return t("v-uni-view",{key:a,staticClass:"goods-wrap"},[t("v-uni-view",{staticClass:"goods-img"},[t("v-uni-image",{attrs:{src:i.$util.img(e.img),mode:"aspectFill"},on:{error:function(e){arguments[0]=e=i.$handleEvent(e),i.imageError(a)}}})],1),t("v-uni-view",{staticClass:"goods-info"},[t("v-uni-view",{staticClass:"goods-name"},[i._v(i._s(e.name))]),t("v-uni-view",{staticClass:"goods-sub-section"},[t("v-uni-view",[t("v-uni-text",{staticClass:"goods-price ns-text-color"},[t("v-uni-text",{staticClass:"unit"},[i._v(i._s(i.$lang("common.currencySymbol")))]),t("v-uni-text",[i._v(i._s(i._f("abs")(e.price)))])],1)],1),t("v-uni-view",[t("v-uni-text",[t("v-uni-text",{staticClass:"iconfont iconclose"}),i._v(i._s(e.num))],1)],1)],1)],1)],1)})),1)],1),t("v-uni-view",{staticClass:"order-summary"},[i._l(i.verifyInfo.remark_array,(function(e,a){return t("v-uni-view",{key:a,staticClass:"order-cell"},[t("v-uni-text",{staticClass:"tit"},[i._v(i._s(e.title)+"：")]),t("v-uni-view",{staticClass:"box"},[t("v-uni-text",{staticClass:"ns-text-color-gary"},[i._v(i._s(e.value))])],1)],1)})),t("v-uni-view",{staticClass:"order-cell"},[t("v-uni-text",{staticClass:"tit"},[i._v("核销类型：")]),t("v-uni-view",{staticClass:"box"},[t("v-uni-text",{staticClass:"ns-text-color-gary"},[i._v(i._s(i.verifyInfo.verify_type_name))])],1)],1),i.verifyInfo.is_verify?[t("v-uni-view",{staticClass:"order-cell"},[t("v-uni-text",{staticClass:"tit"},[i._v("核销状态：")]),t("v-uni-view",{staticClass:"box"},[t("v-uni-text",{staticClass:"ns-text-color-gary"},[i._v("已核销")])],1)],1),i.verifyInfo.verify_time?t("v-uni-view",{staticClass:"order-cell"},[t("v-uni-text",{staticClass:"tit"},[i._v("核销人员：")]),t("v-uni-view",{staticClass:"box"},[t("v-uni-text",{staticClass:"ns-text-color-gary"},[i._v(i._s(i.verifyInfo.verifier_name))])],1)],1):i._e(),i.verifyInfo.verify_time?t("v-uni-view",{staticClass:"order-cell"},[t("v-uni-text",{staticClass:"tit"},[i._v("核销时间：")]),t("v-uni-view",{staticClass:"box"},[t("v-uni-text",{staticClass:"ns-text-color-gary"},[i._v(i._s(i.$util.timeStampTurnTime(i.verifyInfo.verify_time)))])],1)],1):i._e()]:i._e()],2),0==i.verifyInfo.is_verify?t("v-uni-view",{staticClass:"verify-btn",on:{click:function(e){arguments[0]=e=i.$handleEvent(e),i.verify.apply(void 0,arguments)}}},[t("v-uni-button",{attrs:{type:"primary"}},[i._v("确认使用")])],1):i._e(),t("loading-cover",{ref:"loadingCover"})],1)},o=[]},"4bc5":function(i,e,t){var a=t("24fb");e=a(!1),e.push([i.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/**  -------------------------------------------------------------------默认主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------蓝色主题颜色配置-------------------------------------------------- */\n/**  -------------------------------------------------------------------绿色主题颜色配置-------------------------------------------------- */\n/* 文字基本颜色 */\n/* 文字尺寸 */.align-right[data-v-4597f82a]{text-align:right}.container[data-v-4597f82a]{width:100vw;height:100vh}.site-wrap[data-v-4597f82a]{margin:%?20?%;padding:%?20?%;border-radius:4px;background:#fff;position:relative}.site-wrap .site-header[data-v-4597f82a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.site-wrap .site-header .icondianpu[data-v-4597f82a]{display:inline-block;line-height:1;margin-right:%?12?%;font-size:%?30?%}.site-wrap .site-body[data-v-4597f82a]{background:#f5f5f5;padding:0 %?20?% %?20?% %?20?%;margin-top:%?20?%}.site-wrap .site-body .goods-wrap[data-v-4597f82a]{margin-bottom:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;position:relative}.site-wrap .site-body .goods-wrap[data-v-4597f82a]:last-of-type{margin-bottom:0}.site-wrap .site-body .goods-wrap .goods-img[data-v-4597f82a]{width:%?180?%;height:%?180?%;padding:%?20?% 0 0 0;margin-right:%?20?%}.site-wrap .site-body .goods-wrap .goods-img uni-image[data-v-4597f82a]{width:100%;height:100%;border-radius:4px}.site-wrap .site-body .goods-wrap .goods-info[data-v-4597f82a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;position:relative;padding:%?20?% 0 0 0;max-width:calc(100% - %?200?%)}.site-wrap .site-body .goods-wrap .goods-info .goods-name[data-v-4597f82a]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;line-height:1.5;font-size:%?28?%}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section[data-v-4597f82a]{width:100%;line-height:1.3;display:-webkit-box;display:-webkit-flex;display:flex}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section .goods-price[data-v-4597f82a]{font-weight:700;font-size:15px}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section .unit[data-v-4597f82a]{font-weight:400;font-size:%?24?%;margin-right:%?2?%}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-4597f82a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;line-height:1.3}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section uni-view[data-v-4597f82a]:last-of-type{text-align:right}.site-wrap .site-body .goods-wrap .goods-info .goods-sub-section uni-view:last-of-type .iconfont[data-v-4597f82a]{line-height:1;font-size:%?26?%}.order-cell[data-v-4597f82a]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?20?% 0;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;line-height:%?40?%}.order-cell .tit[data-v-4597f82a]{text-align:left}.order-cell .box[data-v-4597f82a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:0 %?20?%;line-height:inherit}.order-cell .box .textarea[data-v-4597f82a]{height:%?40?%}.order-cell .iconfont[data-v-4597f82a]{color:#bbb;font-size:%?28?%}.order-cell .order-pay[data-v-4597f82a]{padding:0}.order-cell .order-pay uni-text[data-v-4597f82a]{display:inline-block;margin-left:%?6?%}.order-summary[data-v-4597f82a]{margin:%?20?%;padding:%?20?%;border-radius:4px;background:#fff;position:relative}.order-summary .order-cell .tit[data-v-4597f82a]{color:#999}.order-summary .order-cell .box[data-v-4597f82a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#999}.verify-btn[data-v-4597f82a]{margin-top:%?20?%}',""]),i.exports=e},"4ddd":function(i,e,t){var a=t("4bc5");"string"===typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);var s=t("4f06").default;s("a2e6c514",a,!0,{sourceMap:!1,shadowMode:!1})},"671d":function(i,e,t){"use strict";t.r(e);var a=t("c6d0"),s=t.n(a);for(var o in a)"default"!==o&&function(i){t.d(e,i,(function(){return a[i]}))}(o);e["default"]=s.a},ac7d:function(i,e,t){"use strict";t.r(e);var a=t("1069"),s=t("671d");for(var o in s)"default"!==o&&function(i){t.d(e,i,(function(){return s[i]}))}(o);t("f06a");var n,r=t("f0c5"),d=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"4597f82a",null,!1,a["a"],n);e["default"]=d.exports},c6d0:function(i,e,t){"use strict";t("4160"),t("c975"),t("b680"),t("acd8"),t("ac1f"),t("1276"),t("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{code:"",verifyInfo:{verify_content:{item_array:[],remark_array:[]}},isSub:!1}},onLoad:function(i){var e=this;if(i.code&&(this.code=i.code),i.scene){var t=decodeURIComponent(i.scene);t=t.split("&"),t.length&&t.forEach((function(i){-1!=i.indexOf("code")&&(e.code=i.split("-")[1])}))}},onShow:function(){this.$langConfig.refresh(),uni.getStorageSync("token")?(this.checkIsVerifier(),this.getVerifyInfo()):this.$util.redirectTo("/pages/login/login/login",{back:"/otherpages/verification/detail/detail?code="+this.code},"redirectTo")},methods:{checkIsVerifier:function(){var i=this;this.$api.sendRequest({url:"/api/verify/checkisverifier",success:function(e){if(-1==e.code&&"TOKEN_ERROR"==e.error_code){i.$util.showToast({title:"登录失败"});var t=getCurrentPages(),a=t[t.length-1].options,s=t[t.length-1].route;return a.back=s,void setTimeout((function(){i.$util.redirectTo("/pages/login/login/login",a)}),1500)}e.data||(i.$util.showToast({title:"非核销员无此权限"}),setTimeout((function(){i.$util.redirectTo("/pages/member/index/index",{},"reLaunch")}),1e3))}})},getVerifyInfo:function(){var i=this;this.$api.sendRequest({url:"/api/verify/verifyInfo",data:{verify_code:this.code},success:function(e){e.code>=0?(i.verifyInfo=e.data,i.$refs.loadingCover&&i.$refs.loadingCover.hide()):(i.$util.showToast({title:e.message}),setTimeout((function(){i.$util.redirectTo("/pages/member/index/index",{},"reLaunch")}),1e3))},fail:function(e){i.$refs.loadingCover&&i.$refs.loadingCover.hide()}})},verify:function(){var i=this;this.isSub||(this.isSub=!0,this.$api.sendRequest({url:"/api/verify/verify",data:{verify_code:this.code},success:function(e){i.$util.showToast({title:e.message}),e.code>=0?setTimeout((function(){i.$util.redirectTo("/pages/member/index/index",{},"reLaunch")}),1e3):i.isSub=!1}}))},imageError:function(i){this.verifyInfo.item_array[i].img=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()}},filters:{abs:function(i){return Math.abs(parseFloat(i)).toFixed(2)}}};e.default=a},f06a:function(i,e,t){"use strict";var a=t("4ddd"),s=t.n(a);s.a}}]);