(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b373f3da"],{9903:function(t,e,a){"use strict";var n=a("cfed"),i=a.n(n);i.a},"9b01":function(t,e,a){"use strict";var n=a("bdd0"),i=a.n(n);i.a},b978:function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return r})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return d}));var n=a("751a");function i(t){return Object(n["a"])({url:"/groupbuy/api/ordercreate/payment",data:t,forceLogin:!0})}function o(t){return Object(n["a"])({url:"/groupbuy/api/ordercreate/calculate",data:t,forceLogin:!0})}function r(t){return Object(n["a"])({url:"/groupbuy/api/ordercreate/create",data:t,forceLogin:!0})}function s(t){return Object(n["a"])({url:"/groupbuy/api/goods/page",data:t,forceLogin:!0})}function u(t){return Object(n["a"])({url:"/groupbuy/api/goods/detail",data:t,forceLogin:!0})}function d(t){return Object(n["a"])({url:"/groupbuy/api/goods/info",data:t,forceLogin:!0})}},bdd0:function(t,e,a){},cfed:function(t,e,a){},d3d0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ns-groupbuy"},[a("el-carousel",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingAd,expression:"loadingAd"}],attrs:{height:"400px"}},t._l(t.adList,(function(e){return a("el-carousel-item",{key:e.adv_id},[a("el-image",{attrs:{src:t.$img(e.adv_image),fit:"cover"},on:{click:function(a){return t.$router.pushToTab(e.adv_url.url)}}})],1)})),1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"ns-groupbuy-box"},[t.goodsList.length?a("div",{staticClass:"ns-groupbuy-title"},[a("i",{staticClass:"iconfont icontuangou"}),a("span",[t._v("团购进行中")])]):t._e(),t.goodsList.length?a("div",{staticClass:"goods-list"},t._l(t.goodsList,(function(e){return a("div",{key:e.id,staticClass:"item"},[a("div",{staticClass:"goods",on:{click:function(a){return t.$router.pushToTab("/promotion/groupbuy-"+e.groupbuy_id)}}},[a("div",{staticClass:"img"},[a("el-image",{attrs:{fit:"scale-down",src:t.$img(e.sku_image,{size:"mid"}),lazy:""},on:{error:function(e){return t.imageError(t.index)}}})],1),a("div",{staticClass:"name"},[a("p",{attrs:{title:e.goods_name}},[t._v(t._s(e.goods_name))])]),a("div",{staticClass:"price"},[a("div",[a("p",[a("span",[t._v("团购价")]),a("span",[t._v("￥")]),a("span",{staticClass:"main_price"},[t._v(t._s(e.groupbuy_price))])]),a("span",{staticClass:"primary_price"},[t._v("￥"+t._s(e.price))])])])])])})),0):a("div",[a("div",{staticClass:"ns-text-align"},[t._v("暂无正在进行团购的商品，去首页看看吧")])]),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{background:"","pager-count":5,total:t.total,"prev-text":"上一页","next-text":"下一页","current-page":t.currentPage,"page-size":t.pageSize,"hide-on-single-page":""},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handlePageSizeChange,"current-change":t.handleCurrentPageChange}})],1)])],1)},i=[],o=a("5530"),r=a("b978"),s=a("2f62"),u=a("37cb"),d={name:"groupbuy",components:{},data:function(){return{loading:!0,goodsList:[],total:0,currentPage:1,pageSize:10,loadingAd:!0,adList:[]}},created:function(){var t=this;this.addonIsExit&&1!=this.addonIsExit.groupbuy?this.$message({message:"团购插件未安装",type:"warning",duration:2e3,onClose:function(){t.$route.push("/")}}):(this.getAdList(),this.getGoodsList())},computed:Object(o["a"])({},Object(s["b"])(["defaultGoodsImage","addonIsExit"])),watch:{addonIsExit:function(){var t=this;1!=this.addonIsExit.groupbuy&&this.$message({message:"团购插件未安装",type:"warning",duration:2e3,onClose:function(){t.$route.push("/")}})}},methods:{getAdList:function(){var t=this;Object(u["a"])({keyword:"NS_PC_GROUPBUY"}).then((function(e){t.adList=e.data.adv_list;for(var a=0;a<t.adList.length;a++)t.adList[a].adv_url&&(t.adList[a].adv_url=JSON.parse(t.adList[a].adv_url));t.loadingAd=!1})).catch((function(e){t.loadingAd=!1}))},getGoodsList:function(){var t=this;Object(r["b"])({page_size:this.pageSize,page:this.currentPage}).then((function(e){t.goodsList=e.data.list,t.total=e.data.count,t.loading=!1})).catch((function(e){t.loading=!1,t.$message.error(e.message)}))},handlePageSizeChange:function(t){this.pageSize=t,this.refresh()},handleCurrentPageChange:function(t){this.currentPage=t,this.refresh()},refresh:function(){this.loading=!0,this.getGoodsList()},imageError:function(t){this.goodsList[t].sku_image=this.defaultGoodsImage}}},c=d,g=(a("9b01"),a("9903"),a("2877")),l=Object(g["a"])(c,n,i,!1,null,"91bf4344",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-b373f3da.11a7d61f.js.map