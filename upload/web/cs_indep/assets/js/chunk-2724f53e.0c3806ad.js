(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2724f53e"],{"673b":function(e,t,s){},"6a38":function(e,t,s){"use strict";var o=s("673b"),i=s.n(o);i.a},"86b5":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.yes,expression:"yes"}],staticClass:"null-page"}),s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"collection"},[s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"宝贝",name:"goods"}},[e.goodsList.length?s("div",[s("div",{staticClass:"goods"},e._l(e.goodsList,(function(t,o){return s("div",{key:t.goods_id,staticClass:"goods-wrap"},[s("div",{staticClass:"goods-item"},[s("div",{staticClass:"img",on:{click:function(s){return e.$router.pushToTab({path:"/sku-"+t.sku_id})}}},[s("img",{attrs:{src:e.$img(t.sku_image,{size:"mid"})},on:{error:function(t){return e.imageError(o)}}}),s("i",{staticClass:"del el-icon-delete",on:{click:function(s){return s.stopPropagation(),e.deleteGoods(t.goods_id)}}})]),s("div",{staticClass:"goods-name"},[e._v(e._s(t.sku_name))]),s("div",{staticClass:"price"},[e._v("￥"+e._s(t.sku_price))])])])})),0),s("div",{staticClass:"pager"},[s("el-pagination",{attrs:{"current-page":e.goodsInfo.page,"page-size":e.goodsInfo.page_size,background:"","pager-count":5,"prev-text":"上一页","next-text":"下一页","hide-on-single-page":"",total:e.goodsTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]):e.loading||e.goodsList.length?e._e():s("div",{staticClass:"empty"},[e._v("您还没有关注商品哦")])]),s("el-tab-pane",{attrs:{label:"店铺",name:"shop"}},[e.shopList.length?s("div",[s("div",{staticClass:"shop"},e._l(e.shopList,(function(t,o){return s("div",{key:t.site_id,staticClass:"shop-wrap"},[s("div",{staticClass:"shop-item",on:{click:function(s){return e.$router.pushToTab({path:"/shop-"+t.site_id})}}},[s("div",{staticClass:"head-wrap"},[s("i",{staticClass:"del el-icon-delete",on:{click:function(s){return s.stopPropagation(),e.deleteShop(t.site_id)}}}),s("div",{staticClass:"img-wrap"},[s("img",{staticClass:"img-responsive center-block",attrs:{src:e.$img(t.logo)},on:{error:function(t){return e.imageErrorShop(o)}}})]),s("h5",[s("span",{staticClass:"ns-text-color name"},[e._v(e._s(t.site_name))]),1==t.is_own?s("el-tag",{staticClass:"tag",attrs:{size:"small"}},[e._v("自营")]):e._e()],1)]),s("div",{staticClass:"info-wrap"},[s("div",{staticClass:"info-item"},[e._v("商品描述："+e._s(t.shop_desccredit)+"分")]),s("div",{staticClass:"info-item"},[e._v("卖家服务："+e._s(t.shop_servicecredit)+"分")]),s("div",{staticClass:"info-item"},[e._v("发货速度："+e._s(t.shop_deliverycredit)+"分")]),t.telephone?s("div",{staticClass:"info-item"},[e._v("联系电话："+e._s(t.telephone))]):e._e()])])])})),0),s("div",{staticClass:"pager"},[s("el-pagination",{attrs:{"current-page":e.shopInfo.page,"page-size":e.shopInfo.page_size,total:e.shopTotal,background:"","pager-count":5,"prev-text":"上一页","next-text":"下一页","hide-on-single-page":""},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)]):e.loading||e.shopList.length?e._e():s("div",{staticClass:"empty"},[e._v("您还没有关注店铺哦！")])])],1)],1)])},i=[],a=s("5530"),n=s("df7cd"),c=s("2f62"),l={name:"collection",components:{},data:function(){return{goodsInfo:{page:1,page_size:10},shopInfo:{page:1,page_size:10},activeName:"goods",goodsTotal:0,shopTotal:0,goodsList:[],shopList:[],loading:!0,yes:!0}},created:function(){this.getGoodsCollect()},computed:Object(a["a"])({},Object(c["b"])(["defaultGoodsImage","defaultShopImage"])),mounted:function(){var e=this;setTimeout((function(){e.yes=!1}),300)},methods:{getGoodsCollect:function(){var e=this;Object(n["c"])(this.goodsInfo).then((function(t){e.goodsTotal=t.data.count,e.goodsList=t.data.list,e.loading=!1})).catch((function(t){e.loading=!1,e.$message.error(t.message)}))},getShopCollect:function(){var e=this;Object(n["d"])(this.shopInfo).then((function(t){e.shopTotal=t.data.count,e.shopList=t.data.list,e.loading=!1})).catch((function(t){e.loading=!1,e.$message.error(t.message)}))},deleteGoods:function(e){var t=this;Object(n["a"])({goods_id:e}).then((function(e){0==e.code&&(t.$message({message:"取消关注成功",type:"success"}),t.getGoodsCollect())})).catch((function(e){t.$message.error(e.message)}))},deleteShop:function(e){var t=this;Object(n["b"])({site_id:e}).then((function(e){0==e.code&&(t.$message({message:"取消关注成功",type:"success"}),t.getShopCollect())})).catch((function(e){t.$message.error(e.message)}))},handleClick:function(e,t){"0"==e.index?(this.loading=!0,this.getGoodsCollect()):(this.loading=!0,this.getShopCollect())},handleSizeChange:function(e){this.goodsInfo.page_size=e,this.loading=!0,this.getGoodsCollect()},handleCurrentChange:function(e){this.goodsInfo.page=e,this.loading=!0,this.getGoodsCollect()},sizeChange:function(e){this.shopInfo.page_size=e,this.loading=!0,this.getShopCollect()},currentChange:function(e){this.shopInfo.page=e,this.loading=!0,this.getShopCollect()},imageError:function(e){this.goodsList[e].sku_image=this.defaultGoodsImage},imageErrorShop:function(e){this.shopList[e].logo=this.defaultShopImage}}},r=l,d=(s("6a38"),s("2877")),g=Object(d["a"])(r,o,i,!1,null,"5c8cc8b6",null);t["default"]=g.exports},df7cd:function(e,t,s){"use strict";s.d(t,"d",(function(){return i})),s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return c}));var o=s("751a");function i(e){return Object(o["a"])({url:"/api/shopmember/membershoppages",data:e,forceLogin:!0})}function a(e){return Object(o["a"])({url:"/api/goodscollect/page",data:e,forceLogin:!0})}function n(e){return Object(o["a"])({url:"/api/goodscollect/delete",data:e,forceLogin:!0})}function c(e){return Object(o["a"])({url:"/api/shopmember/delete",data:e,forceLogin:!0})}}}]);
//# sourceMappingURL=chunk-2724f53e.0c3806ad.js.map