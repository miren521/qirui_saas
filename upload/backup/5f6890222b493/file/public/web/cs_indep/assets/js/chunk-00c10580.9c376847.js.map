{"version":3,"sources":["webpack:///./src/views/member/footprint.vue?0bf6","webpack:///./src/views/member/footprint.vue?9641","webpack:///./src/views/member/footprint.vue?a80e","webpack:///src/views/member/footprint.vue","webpack:///./src/views/member/footprint.vue?c8a9","webpack:///./src/views/member/footprint.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","slot","_v","_l","item","index","key","browse_time","on","$event","$router","pushToTab","sku_id","stopPropagation","deleteFootprint","id","$img","goods_image","imageError","goods_name","_s","goods_price","_e","staticRenderFns","component"],"mappings":"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","file":"assets/js/chunk-00c10580.9c376847.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=style&index=0&id=48a6b0a1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=style&index=0&id=48a6b0a1&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=style&index=1&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.yes),expression:\"yes\"}],staticClass:\"null-page\"}),_c('el-card',{staticClass:\"box-card foot-print\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"我的足迹\")])]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-timeline',_vm._l((_vm.timesArr),function(item,index){return _c('el-timeline-item',{key:index,staticClass:\"ns-time-line\",attrs:{\"timestamp\":item,\"placement\":\"top\"}},[_c('el-card',[_c('div',{staticClass:\"ns-goods-list\"},_vm._l((_vm.footPrintData),function(value,name){return (item == value.browse_time)?_c('div',{key:name,staticClass:\"ns-goods-li\",on:{\"click\":function($event){return _vm.$router.pushToTab('/sku-' + value.sku_id)}}},[_c('span',{staticClass:\"ns-btn-del\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFootprint(value.id)}}},[_c('i',{staticClass:\"iconfont iconshanchu\"})]),_c('el-image',{attrs:{\"src\":_vm.$img(value.goods_image),\"fit\":\"contain\"},on:{\"error\":function($event){return _vm.imageError(name)}}}),_c('p',{staticClass:\"goods-name\",attrs:{\"title\":value.goods_name}},[_vm._v(_vm._s(value.goods_name))]),_c('span',{staticClass:\"goods-price\"},[_vm._v(\"￥\"+_vm._s(value.goods_price))])],1):_vm._e()}),0)])],1)}),1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"box\">\r\n\t\t<div class=\"null-page\" v-show=\"yes\"></div>\r\n\t\t\r\n\t\t<el-card class=\"box-card foot-print\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t<span>我的足迹</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div v-loading=\"loading\">\r\n\t\t\t\t<el-timeline>\r\n\t\t\t\t\t<el-timeline-item class=\"ns-time-line\" v-for=\"(item, index) in timesArr\" :timestamp=\"item\" placement=\"top\" :key=\"index\">\r\n\t\t\t\t\t\t<el-card>\r\n\t\t\t\t\t\t\t<div class=\"ns-goods-list\">\r\n\t\t\t\t\t\t\t\t<div class=\"ns-goods-li\" v-for=\"(value, name) in footPrintData\" :key=\"name\" v-if=\"item == value.browse_time\" @click=\"$router.pushToTab('/sku-' + value.sku_id)\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"ns-btn-del\" @click.stop=\"deleteFootprint(value.id)\"><i class=\"iconfont iconshanchu\"></i></span>\r\n\t\t\t\t\t\t\t\t\t<el-image :src=\"$img(value.goods_image)\" fit=\"contain\" @error=\"imageError(name)\"></el-image>\r\n\t\t\t\t\t\t\t\t\t<p class=\"goods-name\" :title=\"value.goods_name\">{{ value.goods_name }}</p>\r\n\t\t\t\t\t\t\t\t\t<span class=\"goods-price\">￥{{ value.goods_price }}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t</el-timeline-item>\r\n\t\t\t\t</el-timeline>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n    import { footPrint, delFootprint } from \"@/api/member/member\"\r\n    import { mapGetters } from \"vuex\"\r\n\r\n    export default {\r\n        name: \"footprint\",\r\n        components: {},\r\n        data: () => {\r\n            return {\r\n                timesArr: [],\r\n                footPrintData: [],\r\n                loading: true,\r\n\t\t\t\tyes: true\r\n            }\r\n        },\r\n        created() {\r\n            this.getFootPrintData()\r\n        },\r\n        computed: {\r\n            ...mapGetters([\"defaultGoodsImage\"])\r\n        },\r\n\t\tmounted() {\r\n\t\t\tlet self = this;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tself.yes = false\r\n\t\t\t}, 300)\r\n\t\t},\r\n        methods: {\r\n            /**\r\n             * 商品列表\r\n             */\r\n            getFootPrintData() {\r\n                footPrint({\r\n                    page: 1,\r\n                    page_size: 0\r\n                })\r\n                    .then(res => {\r\n                        var data = res.data.list\r\n                        this.footPrintData = []\r\n                        this.timesArr = []\r\n\r\n                        for (let i = 0; i < data.length; i++) {\r\n                            var date = timeStampTurnTime(data[i].browse_time).split(\" \")[0]\r\n                            var flag = util.inArray(date, this.timesArr)\r\n\r\n                            if (flag == -1) {\r\n                                this.timesArr.push(date)\r\n                            }\r\n\r\n                            var goods = {}\r\n                            goods.id = data[i].id\r\n                            goods.sku_id = data[i].sku_id\r\n                            goods.browse_time = date\r\n                            goods.goods_image = data[i].sku_image.split(\",\")[0]\r\n                            goods.goods_name = data[i].sku_name\r\n                            goods.goods_price = data[i].discount_price\r\n\r\n                            this.footPrintData.push(goods)\r\n                        }\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        this.loading = false\r\n                    })\r\n            },\r\n            /**\r\n             * 图片加载失败\r\n             */\r\n            imageError(index) {\r\n                this.footPrintData[index].goods_image = this.defaultGoodsImage\r\n            },\r\n            /**\r\n             * 删除某个足迹\r\n             */\r\n            deleteFootprint(id) {\r\n                delFootprint({\r\n                    id: id\r\n                })\r\n                    .then(res => {\r\n                        this.loading = false\r\n                        this.getFootPrintData()\r\n                        this.$message({ message: res.message, type: \"success\" })\r\n                    })\r\n                    .catch(err => {\r\n                        this.loading = false\r\n                        this.$message.error(err.message)\r\n                    })\r\n            },\r\n            mouseenter(scope) {\r\n                this.$set(scope, \"del\", true)\r\n            },\r\n            mouseleave(scope) {\r\n                this.$set(scope, \"del\", false)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.box {\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.null-page {\r\n\t\twidth: 100%;\r\n\t\theight: 730px;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 9;\r\n\t}\r\n\t\r\n    .el-card.is-always-shadow,\r\n    .el-card.is-hover-shadow:focus,\r\n    .el-card.is-hover-shadow:hover {\r\n        box-shadow: unset;\r\n    }\r\n\r\n    .el-card {\r\n        border: 0;\r\n    }\r\n\r\n    .ns-goods-list {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n\r\n        .ns-goods-li {\r\n            width: 32%;\r\n            margin-right: 2%;\r\n            margin-bottom: 20px;\r\n            padding: 15px;\r\n            box-sizing: border-box;\r\n            background-color: #f1f1f1;\r\n            border-radius: 5px;\r\n            cursor: pointer;\r\n            position: relative;\r\n\r\n            .el-image {\r\n                width: 100%;\r\n                height: 250px;\r\n            }\r\n\r\n            .goods-name {\r\n                margin-top: 10px;\r\n                display: -webkit-box;\r\n                -webkit-box-orient: vertical;\r\n                -webkit-line-clamp: 2;\r\n                overflow: hidden;\r\n            }\r\n\r\n            .goods-price {\r\n                color: $base-color;\r\n                font-size: 20px;\r\n            }\r\n\r\n            .ns-btn-del {\r\n                position: absolute;\r\n                top: -6px;\r\n                right: -6px;\r\n                color: #999999;\r\n                cursor: pointer;\r\n                display: none;\r\n                width: 20px;\r\n                height: 20px;\r\n                text-align: center;\r\n                line-height: 20px;\r\n\r\n                i {\r\n                    font-size: 20px;\r\n                }\r\n            }\r\n\r\n            &:hover {\r\n                .ns-btn-del {\r\n                    display: inline-block;\r\n                }\r\n            }\r\n        }\r\n\r\n        .ns-goods-li:nth-child(3n) {\r\n            margin-right: 0;\r\n        }\r\n    }\r\n</style>\r\n<style lang=\"scss\">\r\n    .foot-print .ns-time-line .el-timeline-item__timestamp.is-top {\r\n        font-size: 18px;\r\n        color: #333333;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./footprint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./footprint.vue?vue&type=template&id=48a6b0a1&scoped=true&\"\nimport script from \"./footprint.vue?vue&type=script&lang=js&\"\nexport * from \"./footprint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./footprint.vue?vue&type=style&index=0&id=48a6b0a1&lang=scss&scoped=true&\"\nimport style1 from \"./footprint.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48a6b0a1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}