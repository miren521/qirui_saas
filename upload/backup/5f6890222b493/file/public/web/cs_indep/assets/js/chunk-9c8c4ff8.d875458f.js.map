{"version":3,"sources":["webpack:///./src/views/shop/index.vue?d00a","webpack:///src/views/shop/index.vue","webpack:///./src/views/shop/index.vue?a3df","webpack:///./src/views/shop/index.vue","webpack:///./src/views/shop/index.vue?c04b","webpack:///./src/api/goods/goods.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","shopInfo","avatar","$img","defaultShopImage","site_name","on","$event","_v","_s","is_own","_e","shop_desccredit","shop_servicecredit","shop_deliverycredit","telephone","full_address","address","getIsFollow","model","callback","$$v","keyword","goGoodsList","slot","class","border","categoryList","length","_l","item","key","category_id","$router","push","path","query","site_id","id","shop_category_id","category_name","cate","adv_id","adv_image","pushToTab","adv_url","url","goodsList","index","goods_id","sku_id","sku_image","size","imageError","goods_name","discount_price","market_price","promotion_type","total","currentPage","pageSize","handlePageSizeChange","handleCurrentPageChange","staticRenderFns","components","data","hasFollow","searchContent","loading","adList","computed","created","$route","replace","getAdList","getShopInfo","getCategoryList","getGoodsList","getfollow","watch","curr","params","pathMatch","methods","page","page_size","sort","res","code","message","type","num","defaultGoodsImage","component","goodsSkuPage","http","goodsSkuDetail","goodsSkuInfo","goodsQrcode","manjian","aftersale","modifyClicks","addGoodsbrowse","goodsRecommend","brandList"],"mappings":"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","file":"assets/js/chunk-9c8c4ff8.d875458f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"shop-index\"},[_c('div',{staticClass:\"shop-left\"},[_c('div',{staticClass:\"shop-wrap\"},[_c('div',{staticClass:\"head-wrap\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"img-responsive center-block\",attrs:{\"src\":_vm.shopInfo.avatar ? _vm.$img(_vm.shopInfo.avatar) : _vm.$img(_vm.defaultShopImage),\"alt\":_vm.shopInfo.site_name},on:{\"error\":function($event){_vm.shopInfo.avatar = _vm.defaultShopImage}}})]),_c('h5',[_c('span',{staticClass:\"ns-text-color\"},[_vm._v(_vm._s(_vm.shopInfo.site_name))]),(_vm.shopInfo.is_own == 1)?_c('el-tag',{staticClass:\"tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"自营\")]):_vm._e()],1)]),_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"item\"},[_vm._v(\" 描述相符 \"),_c('b',[_vm._v(_vm._s(_vm.shopInfo.shop_desccredit))]),_vm._v(\"分 \")]),_c('div',{staticClass:\"item\"},[_vm._v(\" 服务态度 \"),_c('b',[_vm._v(_vm._s(_vm.shopInfo.shop_servicecredit))]),_vm._v(\"分 \")]),_c('div',{staticClass:\"item\"},[_vm._v(\" 发货速度 \"),_c('b',[_vm._v(_vm._s(_vm.shopInfo.shop_deliverycredit))]),_vm._v(\"分 \")])]),_c('div',{staticClass:\"other-info\"},[(_vm.shopInfo.telephone)?_c('div',{staticClass:\"tell\"},[_c('div',{staticClass:\"tell-name\"},[_vm._v(\"电话:\")]),_c('div',{staticClass:\"tell-detail\"},[_vm._v(_vm._s(_vm.shopInfo.telephone))])]):_vm._e(),(_vm.shopInfo.full_address)?_c('div',{staticClass:\"item-info\"},[_c('div',{staticClass:\"item-name\"},[_vm._v(\"地址:\")]),_c('div',{staticClass:\"item-detail\"},[_vm._v(_vm._s(_vm.shopInfo.full_address)+_vm._s(_vm.shopInfo.address))])]):_vm._e()]),_c('div',{staticClass:\"operation\"},[(_vm.hasFollow)?_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":_vm.getIsFollow}},[_vm._v(\"取消关注\")]):_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":_vm.getIsFollow}},[_vm._v(\"关注店铺\")])],1)]),_c('div',{staticClass:\"shop-goods-search\"},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"搜索 商品\",\"size\":\"medium\",\"maxlength\":\"50\",\"clearable\":\"\"},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.goGoodsList},slot:\"append\"})],1)],1),_c('div',{staticClass:\"shop-goods-cate\",class:{border:_vm.categoryList.length}},_vm._l((_vm.categoryList),function(item){return _c('div',{key:item.category_id,staticClass:\"item\"},[_c('div',{staticClass:\"menu-name\",on:{\"click\":function($event){return _vm.$router.push({ path: '/shop_list', query: { site_id: _vm.id, shop_category_id: item.category_id } })}}},[_vm._v(_vm._s(item.category_name))]),_vm._l((item.child_list),function(cate){return _c('div',{key:cate.category_id,staticClass:\"submenu\",on:{\"click\":function($event){return _vm.$router.push({ path: '/shop_list', query: { site_id: _vm.id, shop_category_id: item.category_id} })}}},[_vm._v(_vm._s(cate.category_name))])})],2)}),0)]),_c('div',{staticClass:\"shop-right\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"shop-banner\"},[_c('el-carousel',{attrs:{\"height\":\"406px\"}},_vm._l((_vm.adList),function(item){return _c('el-carousel-item',{key:item.adv_id},[_c('el-image',{attrs:{\"src\":_vm.$img(item.adv_image),\"fit\":\"cover\"},on:{\"click\":function($event){return _vm.$router.pushToTab(item.adv_url.url)}}})],1)}),1)],1),(_vm.goodsList.length)?_c('div',{staticClass:\"tj\"},[_c('h5',[_vm._v(\"本店推荐\")])]):_vm._e(),_c('div',{staticClass:\"goods-info\"},_vm._l((_vm.goodsList),function(item,index){return _c('div',{key:item.goods_id,staticClass:\"item\",on:{\"click\":function($event){return _vm.$router.pushToTab({ path: '/sku-' + item.sku_id })}}},[_c('img',{staticClass:\"img-wrap\",attrs:{\"src\":_vm.$img(item.sku_image, { size: 'mid' })},on:{\"error\":function($event){return _vm.imageError(index)}}}),_c('div',{staticClass:\"goods-name\"},[_vm._v(_vm._s(item.goods_name))]),_c('div',{staticClass:\"price-wrap\"},[_c('div',{staticClass:\"price\"},[_c('p',[_vm._v(\"￥\")]),_vm._v(\" \"+_vm._s(item.discount_price)+\" \")]),_c('div',{staticClass:\"market-price\"},[_vm._v(\"￥\"+_vm._s(item.market_price))])]),(item.promotion_type == 1)?_c('div',{staticClass:\"promotion_type\"},[_vm._v(\"限时折扣\")]):_vm._e()])}),0),_c('div',{staticClass:\"pager\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"pager-count\":5,\"total\":_vm.total,\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"hide-on-single-page\":\"\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:pageSize\":function($event){_vm.pageSize=$event},\"update:page-size\":function($event){_vm.pageSize=$event},\"size-change\":_vm.handlePageSizeChange,\"current-change\":_vm.handleCurrentPageChange}})],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"shop-index\" v-loading=\"loading\">\r\n            <div class=\"shop-left\">\r\n            <div class=\"shop-wrap\">\r\n                <div class=\"head-wrap\">\r\n                <div class=\"img-wrap\">\r\n                    <img\r\n                    class=\"img-responsive center-block\"\r\n                    :src=\"shopInfo.avatar ? $img(shopInfo.avatar) : $img(defaultShopImage)\"\r\n                    @error=\"shopInfo.avatar = defaultShopImage\"\r\n                    :alt=\"shopInfo.site_name\"\r\n                    />\r\n                </div>\r\n                <h5>\r\n                    <span class=\"ns-text-color\">{{ shopInfo.site_name }}</span>\r\n                    <el-tag class=\"tag\" size=\"small\" v-if=\"shopInfo.is_own == 1\">自营</el-tag>\r\n                </h5>\r\n                </div>\r\n                <div class=\"info-wrap\">\r\n                <div class=\"item\">\r\n                    描述相符\r\n                    <b>{{ shopInfo.shop_desccredit }}</b>分\r\n                </div>\r\n                <div class=\"item\">\r\n                    服务态度\r\n                    <b>{{ shopInfo.shop_servicecredit }}</b>分\r\n                </div>\r\n                <div class=\"item\">\r\n                    发货速度\r\n                    <b>{{ shopInfo.shop_deliverycredit }}</b>分\r\n                </div>\r\n                </div>\r\n                <div class=\"other-info\">\r\n                <div class=\"tell\" v-if=\"shopInfo.telephone\">\r\n                    <div class=\"tell-name\">电话:</div>\r\n                    <div class=\"tell-detail\">{{shopInfo.telephone}}</div>\r\n                </div>\r\n                <div class=\"item-info\" v-if=\"shopInfo.full_address\">\r\n                    <div class=\"item-name\">地址:</div>\r\n                    <div class=\"item-detail\">{{shopInfo.full_address}}{{shopInfo.address}}</div>\r\n                </div>\r\n                </div>\r\n                <div class=\"operation\">\r\n                <el-button size=\"medium\" @click=\"getIsFollow\" v-if=\"hasFollow\">取消关注</el-button>\r\n                <el-button size=\"medium\" @click=\"getIsFollow\" v-else>关注店铺</el-button>\r\n                </div>\r\n            </div>\r\n            <div class=\"shop-goods-search\">\r\n                <el-input\r\n                placeholder=\"搜索 商品\"\r\n                v-model=\"keyword\"\r\n                class=\"input-with-select\"\r\n                size=\"medium\"\r\n                maxlength=\"50\"\r\n                clearable\r\n                >\r\n                <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"goGoodsList\"></el-button>\r\n                </el-input>\r\n            </div>\r\n            <div class=\"shop-goods-cate\" :class=\"{border:categoryList.length}\">\r\n                <div class=\"item\" v-for=\"item in categoryList\" :key=\"item.category_id\">\r\n                <div\r\n                    class=\"menu-name\"\r\n                    @click=\"$router.push({ path: '/shop_list', query: { site_id: id, shop_category_id: item.category_id } })\"\r\n                >{{ item.category_name }}</div>\r\n                <div\r\n                    class=\"submenu\"\r\n                    v-for=\"cate in item.child_list\"\r\n                    :key=\"cate.category_id\"\r\n                    @click=\"$router.push({ path: '/shop_list', query: { site_id: id, shop_category_id: item.category_id} })\"\r\n                >{{ cate.category_name }}</div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n            <div class=\"shop-right\">\r\n            <div class=\"content\">\r\n                <div class=\"shop-banner\">\r\n                <el-carousel height=\"406px\">\r\n                    <el-carousel-item v-for=\"item in adList\" :key=\"item.adv_id\">\r\n                    <el-image :src=\"$img(item.adv_image)\" fit=\"cover\" @click=\"$router.pushToTab(item.adv_url.url)\" />\r\n                    </el-carousel-item>\r\n                </el-carousel>\r\n                </div>\r\n                <div class=\"tj\" v-if=\"goodsList.length\">\r\n                <h5>本店推荐</h5>\r\n                </div>\r\n                <div class=\"goods-info\">\r\n                <div\r\n                    class=\"item\"\r\n                    v-for=\"(item, index) in goodsList\"\r\n                    :key=\"item.goods_id\"\r\n                    @click=\"$router.pushToTab({ path: '/sku-' + item.sku_id })\"\r\n                >\r\n                    <img\r\n                    class=\"img-wrap\"\r\n                    :src=\"$img(item.sku_image, { size: 'mid' })\"\r\n                    @error=\"imageError(index)\"\r\n                    />\r\n\r\n                    <div class=\"goods-name\">{{ item.goods_name }}</div>\r\n                    <div class=\"price-wrap\">\r\n                    <div class=\"price\">\r\n                        <p>￥</p>\r\n                        {{ item.discount_price }}\r\n                    </div>\r\n                    <div class=\"market-price\">￥{{ item.market_price }}</div>\r\n                    </div>\r\n                    <div class=\"promotion_type\" v-if=\"item.promotion_type == 1\">限时折扣</div>\r\n                </div>\r\n                </div>\r\n                <div class=\"pager\">\r\n                <el-pagination\r\n                    background\r\n                    :pager-count=\"5\"\r\n                    :total=\"total\"\r\n                    prev-text=\"上一页\"\r\n                    next-text=\"下一页\"\r\n                    :current-page.sync=\"currentPage\"\r\n                    :page-size.sync=\"pageSize\"\r\n                    @size-change=\"handlePageSizeChange\"\r\n                    @current-change=\"handleCurrentPageChange\"\r\n                    hide-on-single-page\r\n                ></el-pagination>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { shopInfo, isFollow, unFollow, follow,tree } from \"@/api/shop/index\";\r\nimport { goodsSkuPage } from \"@/api/goods/goods\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { adList } from \"@/api/website\";\r\nexport default {\r\n  name: \"shop_index\",\r\n  components: {},\r\n  data: () => {\r\n    return {\r\n      id: 0,\r\n      currentPage: 1,\r\n      pageSize: 12,\r\n      shopInfo: {}, //店铺信息\r\n      hasFollow: false, //是否关注\r\n      searchContent: \"\",\r\n      categoryList: [],\r\n      goodsList: [],\r\n      total: 0,\r\n      loading: true,\r\n      keyword: \"\",\r\n      adList: []\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      \"token\",\r\n      \"defaultShopImage\",\r\n      \"addonIsExit\",\r\n      \"defaultGoodsImage\"\r\n    ])\r\n  },\r\n  created() {\r\n    this.id = this.$route.path.replace(\"/shop-\", \"\");\r\n    this.getAdList();\r\n    this.getShopInfo();\r\n    this.getCategoryList();\r\n    this.getGoodsList();\r\n    this.getfollow();\r\n  },\r\n  watch: {\r\n    $route(curr) {\r\n      this.id = curr.params.pathMatch;\r\n      this.getAdList();\r\n      this.getShopInfo();\r\n      this.getCategoryList();\r\n      this.getGoodsList();\r\n      this.getfollow();\r\n    }\r\n  },\r\n  methods: {\r\n    getAdList() {\r\n      adList({ keyword: \"NS_PC_SHOP_INDEX\" })\r\n        .then(res => {\r\n          this.adList = res.data.adv_list;\r\n          for (let i = 0; i < this.adList.length; i++) {\r\n            if (this.adList[i].adv_url)\r\n              this.adList[i].adv_url = JSON.parse(this.adList[i].adv_url);\r\n          }\r\n        })\r\n        .catch(err => err);\r\n    },\r\n    //获取店铺信息\r\n    getShopInfo() {\r\n      shopInfo({ site_id: this.id })\r\n        .then(res => {\r\n          if (res.code == 0) {\r\n            this.shopInfo = res.data;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false;\r\n          this.$message.error(err.message);\r\n        });\r\n    },\r\n    //获取店铺商品分类列表\r\n    getCategoryList() {\r\n      tree({ site_id: this.id })\r\n        .then(res => {\r\n          this.categoryList = res.data;\r\n        })\r\n        .catch(err => {\r\n          this.loading = false;\r\n          this.$message.error(err.message);\r\n        });\r\n    },\r\n    //获取店铺商品列表\r\n    getGoodsList() {\r\n      const params = {\r\n        page: this.currentPage,\r\n        page_size: this.pageSize,\r\n        site_id: this.id,\r\n        keyword: this.keyword,\r\n        sort: \"desc\"\r\n      };\r\n      goodsSkuPage(params || {})\r\n        .then(res => {\r\n          if (res.code == 0 && res.data) {\r\n            let data = res.data;\r\n            this.goodsList = data.list;\r\n            this.total = res.data.count;\r\n            this.loading = false;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false;\r\n          this.$message.error(err.message);\r\n        });\r\n    },\r\n    //获取店铺关注信息\r\n    getfollow() {\r\n      isFollow({\r\n        site_id: this.id\r\n      })\r\n        .then(res => {\r\n          this.hasFollow = res.data;\r\n        })\r\n        .catch(err => {\r\n        });\r\n    },\r\n    //关注与取消\r\n    getIsFollow() {\r\n      if (this.hasFollow) {\r\n        unFollow({ site_id: this.id }).then(res => {\r\n          if (res.code == 0 && res.data) {\r\n            this.hasFollow = !this.hasFollow;\r\n            this.$message({\r\n              message: \"取消关注成功\",\r\n              type: \"success\"\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        follow({ site_id: this.id }).then(res => {\r\n          if (res.code == 0 && res.data) {\r\n            this.hasFollow = !this.hasFollow;\r\n            this.$message({\r\n              message: \"关注成功\",\r\n              type: \"success\"\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    goGoodsList() {\r\n      this.$router.push({\r\n        path: \"/shop_list\",\r\n        query: { site_id: this.id, keyword: this.keyword }\r\n      });\r\n    },\r\n    handlePageSizeChange(num) {\r\n      this.pageSize = num;\r\n      this.getGoodsList();\r\n    },\r\n    handleCurrentPageChange(page) {\r\n      this.currentPage = page;\r\n      this.getGoodsList();\r\n    },\r\n    imageError(index) {\r\n      this.goodsList[index].sku_image = this.defaultGoodsImage;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.shop-index {\r\n  padding-top: 10px;\r\n  display: flex;\r\n  background-color: #ffffff;\r\n  .shop-left {\r\n    width: 234px;\r\n    .shop-wrap {\r\n      width: 191px;\r\n      float: right;\r\n      border: 1px solid #eeeeee;\r\n      padding: 0 21px;\r\n      .head-wrap {\r\n        text-align: center;\r\n        padding: 10px 0;\r\n        border-bottom: 1px solid #eeeeee;\r\n        .img-wrap {\r\n          width: 60px;\r\n          height: 60px;\r\n          line-height: 60px;\r\n          display: inline-block;\r\n        }\r\n        .tag {\r\n          margin-left: 5px;\r\n        }\r\n      }\r\n      .info-wrap {\r\n        padding: 10px;\r\n        color: #838383;\r\n        b {\r\n          color: #383838;\r\n        }\r\n        border-bottom: 1px solid #eeeeee;\r\n      }\r\n      .other-info {\r\n        padding: 10px;\r\n        color: #838383;\r\n        .item-info {\r\n          display: flex;\r\n          .item-name {\r\n            width: 75px;\r\n          }\r\n        }\r\n        .tell {\r\n          display: flex;\r\n          .tell-name {\r\n            width: 35px;\r\n          }\r\n        }\r\n      }\r\n      .operation {\r\n        border-top: 1px solid #eeeeee;\r\n        padding: 10px 0;\r\n        text-align: center;\r\n      }\r\n    }\r\n    .shop-goods-search {\r\n      .el-input {\r\n        margin: 10px 0;\r\n      }\r\n    }\r\n    .border{\r\n      border: 1px solid #f1f1ff;\r\n    }\r\n    .shop-goods-cate {\r\n      width: 100%;\r\n      .menu-name {\r\n        padding-left: 16px;\r\n        background: #f8f8f8;\r\n        font-size: $ns-font-size-base;\r\n        height: 40px;\r\n        cursor: pointer;\r\n        color: #666666;\r\n        display: flex;\r\n        align-items: center;\r\n      }\r\n      .submenu {\r\n        font-size: $ns-font-size-base;\r\n        line-height: 2;\r\n        border-top: 1px solid #f1f1f1;\r\n        padding-left: 26px;\r\n        cursor: pointer;\r\n        display: flex;\r\n        align-items: center;\r\n        height: 40px;\r\n        background: #ffffff;\r\n        color: #666666;\r\n      }\r\n    }\r\n  }\r\n  .shop-right {\r\n    margin-left: 26px;\r\n    width: 100%;\r\n    .shop-banner {\r\n      width: 100%;\r\n    }\r\n    .tj {\r\n      text-align: center;\r\n      font-size: 30px;\r\n      margin-top: 10px;\r\n    }\r\n    .goods-info {\r\n      margin-top: 5px;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      .item {\r\n        width: 200px;\r\n        margin: 10px 20px 0 0;\r\n        border: 1px solid #eeeeee;\r\n        padding: 10px;\r\n        position: relative;\r\n        &:nth-child(4n) {\r\n          margin-right: initial !important;\r\n        }\r\n        &:hover {\r\n          border: 1px solid $base-color;\r\n        }\r\n        .img-wrap {\r\n          width: 198px;\r\n          height: 198px;\r\n          cursor: pointer;\r\n        }\r\n        .goods-name {\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          cursor: pointer;\r\n          &:hover {\r\n            color: $base-color;\r\n          }\r\n        }\r\n        .price-wrap {\r\n          display: flex;\r\n          .price {\r\n            display: flex;\r\n            color: $base-color;\r\n            font-size: $ns-font-size-lg;\r\n            p {\r\n              font-size: $ns-font-size-base;\r\n              display: flex;\r\n              align-items: flex-end;\r\n            }\r\n          }\r\n          .market-price {\r\n            color: #838383;\r\n            text-decoration: line-through;\r\n            margin-left: 15px;\r\n          }\r\n        }\r\n        .promotion_type {\r\n          position: absolute;\r\n          top: 0;\r\n          right: 0;\r\n          color: #ffffff;\r\n          background: $base-color;\r\n          border-bottom-left-radius: 10px;\r\n          padding: 3px 8px;\r\n          line-height: 1;\r\n          font-size: $ns-font-size-sm;\r\n        }\r\n      }\r\n    }\r\n    .page {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-content: center;\r\n      padding-top: 20px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=749a3c4a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=749a3c4a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"749a3c4a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=749a3c4a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=749a3c4a&lang=scss&scoped=true&\"","import http from \"../../utils/http\"\r\n\r\n/**\r\n * 商品列表\r\n * @param {object} params\r\n */\r\nexport function goodsSkuPage(params) {\r\n    return http({\r\n        url: \"/api/goodssku/page\",\r\n        data: params\r\n    })\r\n}\r\n\r\nexport function goodsSkuList(params) {\r\n    return http({\r\n        url: \"/api/goodssku/lists\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 商品详情\r\n * @param {Object} params\r\n */\r\nexport function goodsSkuDetail(params) {\r\n    return http({\r\n        url: \"/api/goodssku/detail\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 商品信息\r\n * @param { Object } params\r\n */\r\nexport function goodsSkuInfo(params) {\r\n    return http({\r\n        url: \"/api/goodssku/info\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 商品信息\r\n * @param { Object } params\r\n */\r\nexport function goodsQrcode(params) {\r\n    return http({\r\n        url: \"/api/goodssku/goodsqrcode\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 获取满减信息\r\n * @param {Object} params\r\n */\r\nexport function manjian(params) {\r\n    return http({\r\n        url: \"/manjian/api/manjian/info\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 获取售后服务\r\n * @param {Object} params\r\n */\r\nexport function aftersale(params) {\r\n    return http({\r\n        url: \"/api/goods/aftersale\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 更新商品点击量\r\n * @param {Object} params\r\n */\r\nexport function modifyClicks(params) {\r\n    return http({\r\n        url: \"/api/goods/modifyclicks\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 添加商品足迹\r\n * @param {Object} params\r\n */\r\nexport function addGoodsbrowse(params) {\r\n    return http({\r\n        url: \"/api/goodsbrowse/add\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 商品推荐列表\r\n * @param {object} params\r\n */\r\nexport function goodsRecommend(params) {\r\n    return http({\r\n        url: \"/api/goodssku/recommend\",\r\n        data: params\r\n    })\r\n}\r\n/**\r\n * 品牌列表\r\n */\r\nexport function brandList(params) {\r\n    return http({\r\n        url: \"/api/goodsbrand/page\",\r\n        data: params\r\n    })\r\n}"],"sourceRoot":""}