(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-697fdebc"],{"0091":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i("751a");function n(t){return Object(s["a"])({url:"/api/goodsevaluate/page",data:t})}},"0dec":function(t,e,i){t.exports=i("f292")},1008:function(t,e,i){},1581:function(t,e,i){"use strict";var s=i("d51e"),n=i.n(s);n.a},"2f84":function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));var s=i("751a");function n(t){return Object(s["a"])({url:"/api/goodscollect/iscollect",data:t,forceLogin:!0})}function r(t){return Object(s["a"])({url:"/api/goodscollect/add",data:t,forceLogin:!0})}function o(t){return Object(s["a"])({url:"/api/goodscollect/delete",data:t,forceLogin:!0})}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var s=i("1d80"),n=i("5899"),r="["+n+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),c=function(t){return function(e){var i=String(s(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(a,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5d2e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAACEUlEQVRIS7WVsXEcMQxFQaZ24MC5FNoznpE7kK4KhXIJ6EB3FRwyp3IJrkC6Dk6hM5egQE6XnscBOFzerhx4jskOl+Tnx8cHmOSMI50RWyq4qt6IyOPKRQczY302VLWsETOzijuC/xCR392hb8wDXFWZX/j6VkQOIvLU7YfE9Rr4BrCU0sV+vz+oaj0IONGVUm5TSp8d7FpEdiynlK5KKc+IICL3b4Fze90wgCPDxszqhS4L4MyRFGLt7JIslbmIXALi4FcicnSWfC9FZO9AlbmIfPU9bzJ/WNCcvPCfEV+0v3fWo+Y3oyzcDAMGzEgayWIczUyJopTyPaX0y8yOHhV7PzjrltcwwInPVRUXtKT0dutz4LqzF6YnVm2ar/nVwXAFjokEt/nCxbO18Dnh3flmioZkbqdpes05f2GtA2dvaI/eGOBumqY/Oef3ToSIFit0Z2ZbtxruYTyuWHNmxbBpRDTT3GV4AnyUKi7rATw/VfNRwp45bsG7fF8GO8Y9O6/QTx76RlWrWzr3INFDEBh7CyUMeAwuCzsGuygYogPsxcsfK//sox7BW3m71VpvGecL5c+Wmq+Z5l3LnfWHBV/3jSxabmvJY42cMPdbSRKOAYxqRccdLXeapo8553fhNLcrc9o1Oahnl6z4r95Sws8B0EXdzkJkzeejC2vY3csze5mWXrFZ41or///9f9YH+i/YqE4ncfpLqwAAAABJRU5ErkJggg=="},"81b4":function(t,e,i){"use strict";var s=i("1008"),n=i.n(s);n.a},"86bd":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:t.id,staticClass:"magnifier-box",class:t.vertical?"vertical":"",on:{mousemove:t.mousemove,mouseover:t.mouseover,mouseleave:t.mouseleave}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.showImg,expression:"showImg"}],attrs:{src:t.imgUrl,alt:""}}),i("div",{staticClass:"mouse-cover"}),t.showEidt?i("div",{staticClass:"edit-wrap"},[i("span",{staticClass:"rotate-left",on:{click:function(e){return t.rotate("left")}}}),i("span",{staticClass:"rotate-right",on:{click:function(e){return t.rotate("right")}}})]):t._e()])},n=[],r=(i("c975"),i("a9e3"),i("d3b7"),i("25f0"),{props:{scale:{type:Number,default:2.5},url:{type:String,required:!0},bigUrl:{type:String,default:null},scroll:{type:Boolean,default:!1},showEidt:{type:Boolean,default:!1}},data:function(){return{id:null,cover:null,imgbox:null,imgwrap:null,orginUrl:null,bigImgUrl:null,bigOrginUrl:null,imgUrl:null,img:null,canvas:null,ctx:null,rectTimesX:0,rectTimesY:0,imgTimesX:0,imgTimesY:0,init:!1,step:0,bigStep:0,vertical:!1,showImg:!0}},created:function(){for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",e=t.length,i="",s=0;s<10;s++)i+=t.charAt(Math.floor(Math.random()*e));this.id=i,this.imgUrl=this.url,this.orginUrl=this.url,this.bigImgUrl=this.bigUrl,this.bigOrginUrl=this.bigUrl},watch:{url:function(t){this.imgUrl=t,this.orginUrl=t,this.initTime()},bigUrl:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){this.bigImgUrl=bigUrl,this.bigOrginUrl=bigUrl,this.initTime()}))},mounted:function(){var t=this;this.$nextTick((function(){t.initTime()}))},methods:{initTime:function(){var t=this;this.init=!1;var e,i=this.$refs[this.id];this.imgbox=i,this.cover=i.querySelector(".mouse-cover"),this.cover.style.width=this.imgbox.offsetWidth/this.scale+"px",this.cover.style.height=this.imgbox.offsetHeight/this.scale+"px",this.cover.style.left="-100%",this.cover.style.top="-100%",this.imgwrap=i.querySelector("img"),e=this.bigImgUrl?this.bigImgUrl:this.imgUrl,this.img=new Image,this.img.src=e,this.img.onload=function(){t.rectTimesX=t.imgbox.offsetWidth/t.scale/t.imgwrap.offsetWidth,t.rectTimesY=t.imgbox.offsetHeight/t.scale/t.imgwrap.offsetHeight,t.imgTimesX=t.img.width/t.imgwrap.offsetWidth,t.imgTimesY=t.img.height/t.imgwrap.offsetHeight,t.vertical=t.img.width<t.img.height,t.init=!0},this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),this.canvas=null),this.canvas=document.createElement("canvas"),this.canvas.className="mouse-cover-canvas",this.canvas.style.position="absolute",this.canvas.style.left=this.imgbox.offsetLeft+this.imgbox.offsetWidth+10+"px",this.canvas.style.top=this.imgbox.offsetTop+"px",this.canvas.style.border="1px solid #eee",this.canvas.style.zIndex="99999",this.canvas.height=this.imgbox.offsetHeight,this.canvas.width=this.imgbox.offsetWidth,this.canvas.style.display="none",document.body.append(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},initBox:function(){var t=this;this.showImg=!1,this.canvas.style.display="none";var e,i=this.$refs[this.id];e=this.bigImgUrl?this.bigImgUrl:this.imgUrl,this.img=new Image,this.img.src=e,this.img.onload=function(){t.vertical=t.img.width<t.img.height,t.showImg=!0;i.querySelector("img");setTimeout((function(){t.rectTimesX=t.imgbox.offsetWidth/t.scale/i.querySelector("img").offsetWidth,t.rectTimesY=t.imgbox.offsetHeight/t.scale/i.querySelector("img").offsetHeight}),20)}},mousemove:function(t){if(!this.init)return!1;var e=this;function i(t){var e=null,i=null,s=t.offsetParent;e+=t.offsetLeft,i+=t.offsetTop;while(s)-1===navigator.userAgent.indexOf("MSIE 8.0")&&(e+=s.clientLeft,i+=s.clientTop),e+=s.offsetLeft,i+=s.offsetTop,s=s.offsetParent;return{left:e,top:i}}function s(t){return{x:t.clientX-e.cover.offsetWidth/2,y:t.clientY-e.cover.offsetHeight/2}}var n=t||event,r=s(n),o=i(this.imgwrap),a={minX:o.left,maxX:o.left+this.imgwrap.offsetWidth-this.cover.offsetWidth,minY:o.top-document.documentElement.scrollTop,maxY:o.top-document.documentElement.scrollTop+this.imgwrap.offsetHeight-this.cover.offsetHeight};r.x>a.maxX&&(r.x=a.maxX),r.x<a.minX&&(r.x=a.minX),r.y>a.maxY&&(r.y=a.maxY),r.y<a.minY&&(r.y=a.minY),this.cover.style.left=r.x+"px",this.cover.style.top=r.y+"px",this.ctx.clearRect(0,0,this.imgwrap.offsetWidth,this.imgwrap.offsetHeight);var c=r.x-(o.left-document.documentElement.scrollLeft),u=r.y-(o.top-document.documentElement.scrollTop);this.ctx.drawImage(this.img,c*this.imgTimesX,u*this.imgTimesY,this.img.width*this.rectTimesX,this.img.height*this.rectTimesY,0,0,this.imgbox.offsetWidth,this.imgbox.offsetHeight)},mouseover:function(t){if(!this.init)return!1;t=t||event,this.scroll||(t.currentTarget.addEventListener("mousewheel",(function(t){t.preventDefault()}),!1),t.currentTarget.addEventListener("DOMMouseScroll",(function(t){t.preventDefault()}),!1)),this.cover.style.display="block",this.canvas.style.display="block"},mouseleave:function(){if(!this.init)return!1;this.cover.style.display="none",this.canvas.style.display="none"},rotate:function(t){var e=this,i=new Image;if(i.crossOrigin="Anonymous",i.src=this.orginUrl,i.onload=function(){e.rotateImg(i,t,e.step)},this.bigOrginUrl){var s=new Image;i.crossOrigin="Anonymous",s.src=this.bigOrginUrl,s.onload=function(){e.rotateImg(s,t,e.bigStep,!0)}}},rotateImg:function(t,e,i){var s=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=0,o=3;if(null!=t){var a=t.height,c=t.width;null==i&&(i=r),"right"==e?(i++,i>o&&(i=r)):(i--,i<r&&(i=o));var u=document.createElement("canvas"),h=90*i*Math.PI/180,l=u.getContext("2d");switch(u.width=a,u.height=c,l.rotate(h),l.drawImage(t,0,-a),i){case 0:u.width=c,u.height=a,l.drawImage(t,0,0);break;case 1:u.width=a,u.height=c,l.rotate(h),l.drawImage(t,0,-a);break;case 2:u.width=c,u.height=a,l.rotate(h),l.drawImage(t,-c,-a);break;case 3:u.width=a,u.height=c,l.rotate(h),l.drawImage(t,-c,0);break}var m=u.toDataURL();n?(this.bigImgUrl=m,this.bigStep=i,this.initBox()):(this.imgUrl=m,this.step=i,this.$nextTick((function(){s.initBox()})))}}}}),o=r,a=(i("1581"),i("2877")),c=Object(a["a"])(o,s,n,!1,null,"f9b02836",null);e["a"]=c.exports},a2a9:function(t,e,i){"use strict";i.d(e,"h",(function(){return n})),i.d(e,"f",(function(){return r})),i.d(e,"g",(function(){return o})),i.d(e,"d",(function(){return a})),i.d(e,"i",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"j",(function(){return h})),i.d(e,"a",(function(){return l})),i.d(e,"e",(function(){return m})),i.d(e,"c",(function(){return f}));var s=i("751a");function n(t){return Object(s["a"])({url:"/api/goodssku/page",data:t})}function r(t){return Object(s["a"])({url:"/api/goodssku/detail",data:t})}function o(t){return Object(s["a"])({url:"/api/goodssku/info",data:t})}function a(t){return Object(s["a"])({url:"/api/goodssku/goodsqrcode",data:t})}function c(t){return Object(s["a"])({url:"/manjian/api/manjian/info",data:t})}function u(t){return Object(s["a"])({url:"/api/goods/aftersale",data:t})}function h(t){return Object(s["a"])({url:"/api/goods/modifyclicks",data:t})}function l(t){return Object(s["a"])({url:"/api/goodsbrowse/add",data:t})}function m(t){return Object(s["a"])({url:"/api/goodssku/recommend",data:t})}function f(t){return Object(s["a"])({url:"/api/goodsbrand/page",data:t})}},a63f:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"goods-recommend"},[i("h4",[t._v("商品精选")]),t.list.length?i("ul",t._l(t.list,(function(e,s){return i("li",{key:s,on:{click:function(i){return t.$router.pushToTab({path:"/sku-"+e.sku_id})}}},[i("div",{staticClass:"img-wrap"},[i("img",{attrs:{src:t.$img(e["sku_image"],{size:"mid"})},on:{error:function(e){return t.imageError(s)}}})]),i("div",{staticClass:"price"},[t._v("￥"+t._s(e.discount_price))]),i("p",{staticClass:"sku-name"},[t._v(t._s(e.goods_name))]),i("div",{staticClass:"info-wrap"})])})),0):t._e()])},n=[],r=(i("a9e3"),i("5530")),o=i("2f62"),a=i("a2a9"),c={name:"goods_recommend",props:{page:{type:[Number,String],default:1},pageSize:{type:[Number,String],default:5}},data:function(){return{loading:!0,list:[]}},created:function(){this.getGoodsRecommend()},computed:Object(r["a"])({},Object(o["b"])(["defaultGoodsImage"])),methods:{getGoodsRecommend:function(){var t=this;Object(a["e"])({page:this.page,page_size:this.pageSize}).then((function(e){0==e.code&&(t.list=e.data.list),t.loading=!1})).catch((function(e){t.loading=!1}))},imageError:function(t){this.list[t].sku_image=this.defaultGoodsImage}}},u=c,h=(i("81b4"),i("2877")),l=Object(h["a"])(u,s,n,!1,null,"5d577949",null);e["a"]=l.exports},a9e3:function(t,e,i){"use strict";var s=i("83ab"),n=i("da84"),r=i("94ca"),o=i("6eeb"),a=i("5135"),c=i("c6b6"),u=i("7156"),h=i("c04e"),l=i("d039"),m=i("7c73"),f=i("241c").f,d=i("06cf").f,g=i("9bf2").f,p=i("58a8").trim,v="Number",b=n[v],T=b.prototype,w=c(m(T))==v,x=function(t){var e,i,s,n,r,o,a,c,u=h(t,!1);if("string"==typeof u&&u.length>2)if(u=p(u),e=u.charCodeAt(0),43===e||45===e){if(i=u.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+u}for(r=u.slice(2),o=r.length,a=0;a<o;a++)if(c=r.charCodeAt(a),c<48||c>n)return NaN;return parseInt(r,s)}return+u};if(r(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var y,I=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof I&&(w?l((function(){T.valueOf.call(i)})):c(i)!=v)?u(new b(x(e)),i,I):x(e)},_=s?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;_.length>O;O++)a(b,y=_[O])&&!a(I,y)&&g(I,y,d(b,y));I.prototype=T,T.constructor=I,o(n,v,I)}},d51e:function(t,e,i){},e692:function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a}));var s=i("751a");function n(t){return Object(s["a"])({url:"/api/shop/page",data:t})}function r(t){return Object(s["a"])({url:"/api/shopmember/issubscribe",data:t,forceLogin:!0})}function o(t){return Object(s["a"])({url:"/api/shopmember/add",data:t,forceLogin:!0})}function a(t){return Object(s["a"])({url:"/api/shopmember/delete",data:t,forceLogin:!0})}},f292:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.msTime.show?i("p",[t.msTime.day>0?i("span",[i("span",[t._v(t._s(t.msTime.day))]),i("i",[t._v(t._s(t.dayTxt))])]):t._e(),i("span",[t._v(t._s(t.msTime.hour))]),i("i",[t._v(t._s(t.hourTxt))]),i("span",[t._v(t._s(t.msTime.minutes))]),i("i",[t._v(t._s(t.minutesTxt))]),i("span",[t._v(t._s(t.msTime.seconds))]),i("i",[t._v(t._s(t.secondsTxt))])]):t._e()])},n=[],r=(i("a9e3"),i("b680"),i("d3b7"),i("25f0"),{replace:!0,data:function(){return{tipShow:!0,msTime:{show:!1,day:"",hour:"",minutes:"",seconds:""},star:"",end:"",current:""}},watch:{currentTime:function(t,e){this.gogogo()}},props:{tipText:{type:String,default:"距离开始"},tipTextEnd:{type:String,default:"距离结束"},id:{type:String,default:"1"},currentTime:{type:Number},startTime:{type:Number},endTime:{type:Number},endText:{type:String,default:"已结束"},dayTxt:{type:String,default:":"},hourTxt:{type:String,default:":"},minutesTxt:{type:String,default:":"},secondsTxt:{type:String,default:":"},secondsFixed:{type:Boolean,default:!1}},mounted:function(){console.log(this),this.gogogo()},methods:{gogogo:function(){var t=this;10==this.startTime.toString().length?this.star=1e3*this.startTime:this.star=this.startTime,10==this.endTime.toString().length?this.end=1e3*this.endTime:this.end=this.endTime,this.currentTime?10==this.currentTime.toString().length?this.current=1e3*this.currentTime:this.current=this.currentTime:this.current=(new Date).getTime(),this.end<this.current?(this.msTime.show=!1,this.end_message()):this.current<this.star?(this.$set(this,"tipShow",!0),setTimeout((function(){t.runTime(t.star,t.current,t.start_message)}),1)):(this.end>this.current&&this.star<this.current||this.star==this.current)&&(this.$set(this,"tipShow",!1),this.msTime.show=!0,this.$emit("start_callback",this.msTime.show),setTimeout((function(){t.runTime(t.end,t.star,t.end_message,!0)}),1))},runTime:function(t,e,i,s){var n=this,r=this.msTime,o=t-e;if(o>0){this.msTime.show=!0,r.day=Math.floor(o/864e5),o-=864e5*r.day,r.hour=Math.floor(o/36e5),o-=36e5*r.hour,r.minutes=Math.floor(o/6e4),o-=6e4*r.minutes,r.seconds=Math.floor(o/1e3).toFixed(0),o-=1e3*r.seconds,r.hour<10&&(r.hour="0"+r.hour),r.minutes<10&&(r.minutes="0"+r.minutes),r.seconds<10&&(r.seconds="0"+r.seconds);var a=Date.now(),c=Date.now(),u=c-a;setTimeout((function(){s?n.runTime(n.end,e+=1e3,i,!0):n.runTime(n.star,e+=1e3,i)}),1e3-u)}else i()},start_message:function(){var t=this;this.$set(this,"tipShow",!1),this.$emit("start_callback",this.msTime.show),setTimeout((function(){t.runTime(t.end,t.star,t.end_message,!0)}),1)},end_message:function(){this.msTime.show=!1,this.currentTime<=0||this.$emit("end_callback",this.msTime.show)}}}),o=r,a=i("2877"),c=Object(a["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-697fdebc.b4390290.js.map