{"version":3,"sources":["webpack:///./src/views/goods/cart/index.vue?8834","webpack:///./src/views/goods/cart/cart.js","webpack:///src/views/goods/cart/index.vue","webpack:///./src/views/goods/cart/index.vue?fa30","webpack:///./src/views/goods/cart/index.vue","webpack:///./src/views/goods/cart/index.vue?d1f9"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","cartList","length","invalidGoods","on","allElection","model","callback","$$v","checkAll","_v","_l","siteItem","siteIndex","key","$event","siteAllElection","$set","attrs","_s","siteName","is_own","_e","item","cartIndex","singleElection","$router","pushToTab","path","sku_id","$img","sku_image","size","imageError","sku_name","x","i","spec_name","spec_value_name","sku_spec_format","discount_price","modifyNum","stock","cartNumChange","num","deleteCart","goodsItem","goodsIndex","imageErrorInvalid","deleteCartSelected","clearInvalidGoods","totalCount","totalPrice","settlement","loading","staticRenderFns","data","created","getCartList","computed","mapGetters","methods","then","res","code","handleCartList","catch","temp","forEach","index","goods_state","verify_state","checked","undefined","site_id","push","siteId","site_name","Object","keys","calculationTotalPrice","v","k","JSON","parse","siteAllElectionCount","siteGoodsCount","toFixed","$confirm","confirmButtonText","cancelButtonText","type","$store","dispatch","cart_id","toString","splice","$message","message","err","error","cartIds","selectedItem","cartId","params","cart_ids","defaultGoodsImage","component"],"mappings":"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","file":"assets/js/chunk-5cd0051c.bd4a8afb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"cart\"},[(_vm.cartList.length || _vm.invalidGoods.length)?[_c('nav',[_c('li',[_c('el-checkbox',{on:{\"change\":_vm.allElection},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}})],1),_c('li',[_vm._v(\"商品信息\")]),_c('li',[_vm._v(\"价格\")]),_c('li',[_vm._v(\"数量\")]),_c('li',[_vm._v(\"小计\")]),_c('li',[_vm._v(\"操作\")])]),_vm._l((_vm.cartList),function(siteItem,siteIndex){return _c('div',{key:siteIndex,staticClass:\"list\"},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"head\"},[_c('el-checkbox',{on:{\"change\":function($event){return _vm.siteAllElection(siteIndex)}},model:{value:(siteItem.checked),callback:function ($$v) {_vm.$set(siteItem, \"checked\", $$v)},expression:\"siteItem.checked\"}}),_c('router-link',{attrs:{\"to\":\"/shop\",\"target\":\"_blank\"}},[_vm._v(_vm._s(siteItem.siteName))]),(siteItem.cartList[0].is_own == 1)?_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(\"自营\")]):_vm._e()],1),_vm._l((siteItem.cartList),function(item,cartIndex){return _c('ul',{key:cartIndex},[_c('li',[_c('el-checkbox',{on:{\"change\":function($event){return _vm.singleElection(siteIndex, cartIndex)}},model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}})],1),_c('li',{staticClass:\"goods-info-wrap\",on:{\"click\":function($event){return _vm.$router.pushToTab({ path: '/sku-' + item.sku_id })}}},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.$img(item.sku_image, { size: 'mid' })},on:{\"error\":function($event){return _vm.imageError(siteIndex, cartIndex)}}})]),_c('div',{staticClass:\"info-wrap\"},[_c('h5',[_vm._v(_vm._s(item.sku_name))]),(item.sku_spec_format)?_vm._l((item.sku_spec_format),function(x,i){return _c('span',{key:i},[_vm._v(\" \"+_vm._s(x.spec_name)+\"：\"+_vm._s(x.spec_value_name)+\" \"+_vm._s(i < item.sku_spec_format.length - 1 ? \"；\" : \"\")+\" \")])}):_vm._e()],2)]),_c('li',[_c('span',[_vm._v(\"￥\"+_vm._s(item.discount_price))])]),_c('li',[_c('el-input-number',{attrs:{\"step\":_vm.modifyNum,\"size\":\"mini\",\"min\":1,\"max\":item.stock},on:{\"change\":function($event){return _vm.cartNumChange($event, { siteIndex: siteIndex, cartIndex: cartIndex })}},model:{value:(item.num),callback:function ($$v) {_vm.$set(item, \"num\", $$v)},expression:\"item.num\"}})],1),_c('li',[_c('strong',{staticClass:\"subtotal ns-text-color\"},[_vm._v(\"￥\"+_vm._s(item.discount_price * item.num))])]),_c('li',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteCart(siteIndex, cartIndex)}}},[_vm._v(\"删除\")])],1)])})],2)])}),(_vm.invalidGoods.length)?_c('div',{staticClass:\"lose-list\"},[_c('div',{staticClass:\"head\"},[_vm._v(\" 失效商品 \"),_c('span',{staticClass:\"ns-text-color\"},[_vm._v(_vm._s(_vm.invalidGoods.length))]),_vm._v(\" 件 \")]),_vm._l((_vm.invalidGoods),function(goodsItem,goodsIndex){return _c('ul',{key:goodsIndex},[_c('li',[_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\"失效\")])],1),_c('li',{staticClass:\"goods-info-wrap\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.$img(goodsItem.sku_image, { size: 'mid' })},on:{\"error\":function($event){return _vm.imageErrorInvalid(goodsIndex)}}})]),_c('div',{staticClass:\"info-wrap\"},[_c('h5',[_vm._v(_vm._s(goodsItem.sku_name))]),(goodsItem.sku_spec_format)?_vm._l((goodsItem.sku_spec_format),function(x,i){return _c('span',{key:i},[_vm._v(\" \"+_vm._s(x.spec_name)+\"：\"+_vm._s(x.spec_value_name)+\" \"+_vm._s(i < goodsItem.sku_spec_format.length - 1 ? \"；\" : \"\")+\" \")])}):_vm._e()],2)]),_c('li',[_c('span',[_vm._v(\"￥\"+_vm._s(goodsItem.discount_price))])]),_c('li',[_vm._v(_vm._s(goodsItem.num))]),_c('li',[_c('strong',{staticClass:\"subtotal\"},[_vm._v(\"￥\"+_vm._s(goodsItem.discount_price * goodsItem.num))])])])})],2):_vm._e(),_c('footer',[_c('el-checkbox',{on:{\"change\":_vm.allElection},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"全选\")]),_c('ul',{staticClass:\"operation\"},[_c('li',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.deleteCartSelected}},[_vm._v(\"删除\")])],1),_c('li',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.clearInvalidGoods}},[_vm._v(\"清除失效宝贝\")])],1)]),_c('div',{staticClass:\"sum-wrap\"},[_c('div',{staticClass:\"selected-sum\"},[_c('span',[_vm._v(\"已选商品\")]),_c('em',{staticClass:\"total-count\"},[_vm._v(_vm._s(_vm.totalCount))]),_c('span',[_vm._v(\"件\")])]),_c('div',{staticClass:\"price-wrap\"},[_c('span',[_vm._v(\"合计（不含运费）：\")]),_c('strong',{staticClass:\"ns-text-color\"},[_vm._v(\"￥\"+_vm._s(_vm.totalPrice))])]),(_vm.totalCount != 0)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.settlement}},[_vm._v(\"结算\")]):_c('el-button',{attrs:{\"type\":\"info\",\"disabled\":\"\"},on:{\"click\":_vm.settlement}},[_vm._v(\"结算\")])],1)],1)]:(!_vm.loading && (!_vm.cartList.length || !_vm.invalidGoods.length))?_c('div',{staticClass:\"empty-wrap\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"您的购物车是空的，赶快去逛逛，挑选商品吧！\")])],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\r\n\tmapGetters\r\n} from \"vuex\"\r\nimport {\r\n\tcartList\r\n} from \"@/api/goods/cart\"\r\nexport default {\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\tcartList: [], // 购物车\r\n\t\t\tcheckAll: false,\r\n\t\t\ttotalPrice: \"0.00\",\r\n\t\t\ttotalCount: 0,\r\n\t\t\tinvalidGoods: [], // 失效商品集合\r\n\t\t\tloading: true,\r\n\t\t\tmodifyNum: 1, // 防止数量跳动\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getCartList()\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"defaultGoodsImage\"])\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取购物车数据\r\n\t\tgetCartList() {\r\n\t\t\tcartList({})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code >= 0 && res.data.length) {\r\n\t\t\t\t\t\tthis.handleCartList(res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t\t\t.catch(res => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t// 处理购物车数据结构\r\n\t\thandleCartList(data) {\r\n\t\t\tthis.invalidGoods = []\r\n\t\t\tthis.cartList = []\r\n\t\t\tvar temp = {}\r\n\t\t\tdata.forEach((item, index) => {\r\n\t\t\t\tif (item.goods_state == 1 && item.verify_state == 1) {\r\n\t\t\t\t\titem.checked = true\r\n\t\t\t\t\tif (temp[\"site_\" + item.site_id] != undefined) {\r\n\t\t\t\t\t\ttemp[\"site_\" + item.site_id].cartList.push(item)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttemp[\"site_\" + item.site_id] = {\r\n\t\t\t\t\t\t\tsiteId: item.site_id,\r\n\t\t\t\t\t\t\tsiteName: item.site_name,\r\n\t\t\t\t\t\t\tchecked: true,\r\n\t\t\t\t\t\t\tcartList: [item]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.invalidGoods.push(item)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tObject.keys(temp).forEach(key => {\r\n\t\t\t\tthis.cartList.push(temp[key])\r\n\t\t\t})\r\n\t\t\tthis.calculationTotalPrice()\r\n\t\t\tthis.cartList.forEach(v => {\r\n\t\t\t\tv.cartList.forEach(k => {\r\n\t\t\t\t\tif (k.sku_spec_format) {\r\n\t\t\t\t\t\tk.sku_spec_format = JSON.parse(k.sku_spec_format)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tk.sku_spec_format = []\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 单选\r\n\t\tsingleElection(siteIndex, index) {\r\n\t\t\tthis.calculationTotalPrice()\r\n\t\t},\r\n\t\t// 店铺全选\r\n\t\tsiteAllElection(index) {\r\n\t\t\tthis.cartList[index].cartList.forEach(item => {\r\n\t\t\t\titem.checked = this.cartList[index].checked\r\n\t\t\t})\r\n\t\t\tthis.calculationTotalPrice()\r\n\t\t},\r\n\t\t// 全选\r\n\t\tallElection() {\r\n\t\t\tif (this.cartList.length) {\r\n\t\t\t\tthis.cartList.forEach(siteItem => {\r\n\t\t\t\t\tsiteItem.checked = this.checkAll\r\n\t\t\t\t\tsiteItem.cartList.forEach(item => {\r\n\t\t\t\t\t\titem.checked = this.checkAll\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.calculationTotalPrice()\r\n\t\t},\r\n\t\t// 计算购物车总价\r\n\t\tcalculationTotalPrice() {\r\n\t\t\tif (this.cartList.length) {\r\n\t\t\t\tlet totalPrice = 0,\r\n\t\t\t\t\ttotalCount = 0,\r\n\t\t\t\t\tsiteAllElectionCount = 0\r\n\r\n\t\t\t\tthis.cartList.forEach(siteItem => {\r\n\t\t\t\t\tlet siteGoodsCount = 0\r\n\t\t\t\t\tsiteItem.cartList.forEach(item => {\r\n\t\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\t\tsiteGoodsCount += 1\r\n\t\t\t\t\t\t\ttotalCount += 1\r\n\t\t\t\t\t\t\ttotalPrice += item.discount_price * item.num\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (siteItem.cartList.length == siteGoodsCount) {\r\n\t\t\t\t\t\tsiteItem.checked = true\r\n\t\t\t\t\t\tsiteAllElectionCount += 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsiteItem.checked = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.totalPrice = totalPrice.toFixed(2)\r\n\t\t\t\tthis.totalCount = totalCount\r\n\t\t\t\tthis.checkAll = this.cartList.length == siteAllElectionCount\r\n\t\t\t} else {\r\n\t\t\t\tthis.totalPrice = \"0.00\"\r\n\t\t\t\tthis.totalCount = 0\r\n\t\t\t}\r\n\t\t\tthis.modifyNum = 1;\r\n\t\t},\r\n\t\t// 删除单个\r\n\t\tdeleteCart(siteIndex, cartIndex) {\r\n\t\t\tthis.$confirm(\"确定要删除该商品吗？\", \"提示信息\", {\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\"\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.$store\r\n\t\t\t\t\t.dispatch(\"cart/delete_cart\", {\r\n\t\t\t\t\t\tcart_id: this.cartList[siteIndex].cartList[cartIndex].cart_id.toString()\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\tthis.cartList[siteIndex].cartList.splice(cartIndex, 1)\r\n\t\t\t\t\t\t\tif (this.cartList[siteIndex].cartList.length == 0) this.cartList.splice(siteIndex, 1)\r\n\t\t\t\t\t\t\tthis.calculationTotalPrice()\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\tmessage: \"删除成功\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: res.message,\r\n\t\t\t\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.$message.error(err.message)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 删除选择的购物车\r\n\t\tdeleteCartSelected() {\r\n\t\t\tvar cartIds = []\r\n\t\t\tvar selectedItem = []\r\n\t\t\tthis.cartList.forEach((siteItem, siteIndex) => {\r\n\t\t\t\tsiteItem.cartList.forEach((item, cartIndex) => {\r\n\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\tcartIds.push(item.cart_id)\r\n\t\t\t\t\t\tselectedItem.push({\r\n\t\t\t\t\t\t\tsiteIndex: siteIndex,\r\n\t\t\t\t\t\t\tcartIndex: cartIndex,\r\n\t\t\t\t\t\t\tsiteId: siteItem.siteId,\r\n\t\t\t\t\t\t\tcartId: item.cart_id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tif (cartIds.length == 0) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: \"请选择要删除的商品\",\r\n\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.$confirm(\"确定要删除选择的商品吗？\", \"提示信息\", {\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\"\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.$store\r\n\t\t\t\t\t.dispatch(\"cart/delete_cart\", {\r\n\t\t\t\t\t\tcart_id: cartIds.toString()\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\tselectedItem.forEach(selectedItem => {\r\n\t\t\t\t\t\t\t\tthis.cartList.forEach((siteItem, siteIndex) => {\r\n\t\t\t\t\t\t\t\t\tsiteItem.cartList.forEach((item, cartIndex) => {\r\n\t\t\t\t\t\t\t\t\t\tif (selectedItem.cartId == item.cart_id) {\r\n\t\t\t\t\t\t\t\t\t\t\tsiteItem.cartList.splice(cartIndex, 1)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (siteItem.cartList.length == 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.cartList.splice(siteIndex, 1)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.calculationTotalPrice()\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\tmessage: \"删除成功\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: res.message,\r\n\t\t\t\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.$message.error(err.message)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 清空失效商品\r\n\t\tclearInvalidGoods() {\r\n\t\t\tthis.$confirm(\"确认要清空这些商品吗？\", \"提示信息\", {\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\"\r\n\t\t\t}).then(() => {\r\n\t\t\t\tvar cartIds = []\r\n\t\t\t\tthis.invalidGoods.forEach(goodsItem => {\r\n\t\t\t\t\tcartIds.push(goodsItem.cart_id)\r\n\t\t\t\t})\r\n\t\t\t\tif (cartIds.length) {\r\n\t\t\t\t\tthis.$store\r\n\t\t\t\t\t\t.dispatch(\"cart/delete_cart\", {\r\n\t\t\t\t\t\t\tcart_id: cartIds.toString()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\t\tthis.invalidGoods = []\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\t\tmessage: \"删除成功\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: res.message,\r\n\t\t\t\t\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tthis.$message.error(err.message)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 变更购物车数量\r\n\t\tcartNumChange(num, params) {\r\n\t\t\tif (num < 1) num = 1;\r\n\t\t\t// 防止数量跳动\r\n\t\t\tthis.modifyNum = 0;\r\n\t\t\tthis.$store\r\n\t\t\t\t.dispatch(\"cart/edit_cart_num\", {\r\n\t\t\t\t\tnum,\r\n\t\t\t\t\tcart_id: this.cartList[params.siteIndex].cartList[params.cartIndex].cart_id\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tthis.cartList[params.siteIndex].cartList[params.cartIndex].num = num;\r\n\t\t\t\t\t\tthis.calculationTotalPrice();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: res.message,\r\n\t\t\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.modifyNum = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.$message.error(err.message);\r\n\t\t\t\t\tthis.modifyNum = 1;\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t// 结算\r\n\t\tsettlement() {\r\n\t\t\tif (this.totalCount > 0) {\r\n\t\t\t\tlet cart_ids = []\r\n\t\t\t\tthis.cartList.forEach(siteItem => {\r\n\t\t\t\t\tsiteItem.cartList.forEach(item => {\r\n\t\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\t\tcart_ids.push(item.cart_id)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tcart_ids: cart_ids.toString()\r\n\t\t\t\t}\r\n\t\t\t\tthis.$store.dispatch(\"order/setOrderCreateData\", data)\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: \"/payment\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\timageError(siteIndex, cartIndex) {\r\n\t\t\tthis.cartList[siteIndex].cartList[cartIndex].sku_image = this.defaultGoodsImage\r\n\t\t},\r\n\t\timageErrorInvalid(index) {\r\n\t\t\tthis.invalidGoods[index].sku_image = this.defaultGoodsImage\r\n\t\t}\r\n\t}\r\n}\r\n","<template>\r\n    <div class=\"cart\" v-loading=\"loading\">\r\n        <template v-if=\"cartList.length || invalidGoods.length\">\r\n            <nav>\r\n                <li><el-checkbox v-model=\"checkAll\" @change=\"allElection\"></el-checkbox></li>\r\n                <li>商品信息</li>\r\n                <li>价格</li>\r\n                <li>数量</li>\r\n                <li>小计</li>\r\n                <li>操作</li>\r\n            </nav>\r\n            <div class=\"list\" v-for=\"(siteItem, siteIndex) in cartList\" :key=\"siteIndex\">\r\n                <div class=\"item\">\r\n                    <div class=\"head\">\r\n                        <el-checkbox v-model=\"siteItem.checked\" @change=\"siteAllElection(siteIndex)\"></el-checkbox>\r\n                        <router-link to=\"/shop\" target=\"_blank\">{{ siteItem.siteName }}</router-link>\r\n                        <el-tag size=\"small\" v-if=\"siteItem.cartList[0].is_own == 1\">自营</el-tag>\r\n                    </div>\r\n                    <ul v-for=\"(item, cartIndex) in siteItem.cartList\" :key=\"cartIndex\">\r\n                        <li><el-checkbox v-model=\"item.checked\" @change=\"singleElection(siteIndex, cartIndex)\"></el-checkbox></li>\r\n                        <li class=\"goods-info-wrap\" @click=\"$router.pushToTab({ path: '/sku-' + item.sku_id })\">\r\n                            <div class=\"img-wrap\"><img class=\"img-thumbnail\" :src=\"$img(item.sku_image, { size: 'mid' })\" @error=\"imageError(siteIndex, cartIndex)\" /></div>\r\n                            <div class=\"info-wrap\">\r\n                                <h5>{{ item.sku_name }}</h5>\r\n                                <template v-if=\"item.sku_spec_format\">\r\n                                    <span v-for=\"(x, i) in item.sku_spec_format\" :key=\"i\"> {{ x.spec_name }}：{{ x.spec_value_name }} {{ i < item.sku_spec_format.length - 1 ? \"；\" : \"\" }} </span>\r\n                                </template>\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <span>￥{{ item.discount_price }}</span>\r\n                        </li>\r\n                        <li>\r\n                            <el-input-number v-model=\"item.num\" :step=\"modifyNum\" size=\"mini\" :min=\"1\" :max=\"item.stock\" @change=\"cartNumChange($event, { siteIndex, cartIndex })\"></el-input-number>\r\n                        </li>\r\n                        <li>\r\n                            <strong class=\"subtotal ns-text-color\">￥{{ item.discount_price * item.num }}</strong>\r\n                        </li>\r\n                        <li><el-button type=\"text\" @click=\"deleteCart(siteIndex, cartIndex)\">删除</el-button></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"lose-list\" v-if=\"invalidGoods.length\">\r\n                <div class=\"head\">\r\n                    失效商品\r\n                    <span class=\"ns-text-color\">{{ invalidGoods.length }}</span>\r\n                    件\r\n                </div>\r\n                <ul v-for=\"(goodsItem, goodsIndex) in invalidGoods\" :key=\"goodsIndex\">\r\n                    <li><el-tag size=\"small\" type=\"info\">失效</el-tag></li>\r\n                    <li class=\"goods-info-wrap\">\r\n                        <div class=\"img-wrap\"><img class=\"img-thumbnail\" :src=\"$img(goodsItem.sku_image, { size: 'mid' })\" @error=\"imageErrorInvalid(goodsIndex)\" /></div>\r\n                        <div class=\"info-wrap\">\r\n                            <h5>{{ goodsItem.sku_name }}</h5>\r\n                            <template v-if=\"goodsItem.sku_spec_format\">\r\n                                <span v-for=\"(x, i) in goodsItem.sku_spec_format\" :key=\"i\"> {{ x.spec_name }}：{{ x.spec_value_name }} {{ i < goodsItem.sku_spec_format.length - 1 ? \"；\" : \"\" }} </span>\r\n                            </template>\r\n                        </div>\r\n                    </li>\r\n                    <li>\r\n                        <span>￥{{ goodsItem.discount_price }}</span>\r\n                    </li>\r\n                    <li>{{ goodsItem.num }}</li>\r\n                    <li>\r\n                        <strong class=\"subtotal\">￥{{ goodsItem.discount_price * goodsItem.num }}</strong>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <footer>\r\n                <el-checkbox v-model=\"checkAll\" @change=\"allElection\">全选</el-checkbox>\r\n                <ul class=\"operation\">\r\n                    <li><el-button type=\"text\" @click=\"deleteCartSelected\">删除</el-button></li>\r\n                    <li><el-button type=\"text\" @click=\"clearInvalidGoods\">清除失效宝贝</el-button></li>\r\n                </ul>\r\n                <div class=\"sum-wrap\">\r\n                    <div class=\"selected-sum\">\r\n                        <span>已选商品</span>\r\n                        <em class=\"total-count\">{{ totalCount }}</em>\r\n                        <span>件</span>\r\n                    </div>\r\n                    <div class=\"price-wrap\">\r\n                        <span>合计（不含运费）：</span>\r\n                        <strong class=\"ns-text-color\">￥{{ totalPrice }}</strong>\r\n                    </div>\r\n\r\n                    <el-button type=\"primary\" v-if=\"totalCount != 0\" @click=\"settlement\">结算</el-button>\r\n                    <el-button type=\"info\" v-else disabled @click=\"settlement\">结算</el-button>\r\n                </div>\r\n            </footer>\r\n        </template>\r\n        <div class=\"empty-wrap\" v-else-if=\"!loading && (!cartList.length || !invalidGoods.length)\"><router-link to=\"/\">您的购物车是空的，赶快去逛逛，挑选商品吧！</router-link></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import cart from \"./cart\"\r\n    export default {\r\n        name: \"cart\",\r\n        mixins: [cart]\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    @import \"./cart.scss\";\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=434e0034&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=434e0034&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"434e0034\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=434e0034&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=434e0034&lang=scss&scoped=true&\""],"sourceRoot":""}