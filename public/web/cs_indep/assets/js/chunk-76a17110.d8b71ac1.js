(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76a17110"],{9095:function(e,t,o){},a17e:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"newCategory"},[o("div",{staticClass:"categoryLink"},[o("ul",{class:1==e.categoryFixed?"category-fixed":"",attrs:{id:"categoryUl"}},e._l(e.goodsCategory,(function(t,a){return o("li",{key:a,class:a==e.clickIndex?"selected":"",on:{click:function(t){return e.changeCate(a,"#category"+a)}}},[o("a",[o("span",[e._v(e._s(t.category_name))])])])})),0)]),o("div",{staticClass:"categoryCon"},e._l(e.goodsCategory,(function(t,a){return o("div",{key:a,ref:"category"+a,refInFor:!0,staticClass:"items",class:"items-"+a,attrs:{id:"category"+a}},[o("h2",[o("router-link",{attrs:{to:{path:"/list",query:{category_id:t.category_id,level:t.level}},target:"_blank"}},[e._v(e._s(t.category_name))])],1),e._l(t.child_list,(function(t,a){return o("dl",{key:a},[o("dt",[o("router-link",{attrs:{to:{path:"/list",query:{category_id:t.category_id,level:t.level}},target:"_blank"}},[e._v(" "+e._s(t.category_name)+" ")])],1),o("dd",e._l(t.child_list,(function(t,a){return o("router-link",{key:a,attrs:{to:{path:"/list",query:{category_id:t.category_id,level:t.level}},target:"_blank"}},[e._v(" "+e._s(t.category_name)+" ")])})),1)])}))],2)})),0),e.goodsCategory.length<=0?o("div",{staticClass:"empty-wrap"},[o("div",{staticClass:"ns-text-align"},[e._v("暂无商品分类")])]):e._e()])])},n=[],r=o("8894"),c={name:"category",components:{},data:function(){return{goodsCategory:[],categoryFixed:!1,clickIndex:0,loading:!0}},created:function(){this.getGoodsCategory()},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{getGoodsCategory:function(){var e=this;Object(r["c"])({level:3,template:2}).then((function(t){0==t.code&&(e.goodsCategory=t.data),e.loading=!1})).catch((function(t){e.$message.error(t.message),e.loading=!1}))},handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=document.querySelector(".newCategory").offsetTop;this.categoryFixed=e>t;for(var o=[],a=0;a<this.goodsCategory.length;a++){var n=this.$refs["category"+a][0].offsetTop;o.push(n);var r=e-t;r<o[o.length-1]?r>=o[a]&&r<o[a+1]&&(this.clickIndex=a):this.clickIndex=o.length-1}},changeCate:function(e,t){this.clickIndex=e,document.querySelector(t).scrollIntoView(!0)}},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},i=c,l=(o("d497"),o("2877")),s=Object(l["a"])(i,a,n,!1,null,"147e8230",null);t["default"]=s.exports},d497:function(e,t,o){"use strict";var a=o("9095"),n=o.n(a);n.a}}]);
//# sourceMappingURL=chunk-76a17110.d8b71ac1.js.map