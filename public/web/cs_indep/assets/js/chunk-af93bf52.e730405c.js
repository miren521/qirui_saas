(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af93bf52"],{"0f6b":function(e,t,s){"use strict";var a=s("f38d"),n=s.n(a);n.a},f38d:function(e,t,s){},fa4b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.yes,expression:"yes"}],staticClass:"null-page"}),s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("收货地址")])]),s("div",[s("div",{staticClass:"ns-member-address-list"},[s("div",{staticClass:"text item ns-add-address",on:{click:function(t){return e.addAddress("add")}}},[s("span",[e._v("+ 添加收货地址")])]),e._l(e.addressList,(function(t,a){return s("div",{key:a,staticClass:"text item"},[s("div",{staticClass:"text-name"},[s("span",[e._v(e._s(t.name))]),1==t.is_default?s("span",{staticClass:"text-default"},[e._v("默认")]):e._e()]),s("div",{staticClass:"text-content"},[s("p",[e._v(e._s(t.mobile))]),s("p",{staticClass:"ns-address-detail",attrs:{title:t.full_address+t.address}},[e._v(e._s(t.full_address)+e._s(t.address))])]),s("div",{staticClass:"text-operation"},[1!=t.is_default?s("span",{on:{click:function(s){return e.setDefault(t.id)}}},[e._v("设为默认")]):e._e(),s("span",{on:{click:function(s){return e.addAddress("edit",t.id)}}},[e._v("编辑")]),1!=t.is_default?s("span",{on:{click:function(s){return e.delAddress(t.id,t.is_default)}}},[e._v("删除")]):e._e()])])}))],2),s("div",{staticClass:"pager"},[s("el-pagination",{attrs:{background:"","pager-count":5,total:e.total,"prev-text":"上一页","next-text":"下一页","current-page":e.currentPage,"page-size":e.pageSize,"hide-on-single-page":""},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handlePageSizeChange,"current-change":e.handleCurrentPageChange}})],1)])])],1)},n=[],i=s("69f9"),r={name:"delivery_address",components:{},data:function(){return{addressList:[],total:0,currentPage:1,pageSize:8,loading:!0,yes:!0}},created:function(){this.getListData()},mounted:function(){var e=this;setTimeout((function(){e.yes=!1}),300)},methods:{getListData:function(){var e=this;Object(i["e"])({page:this.currentPage,page_size:this.pageSize}).then((function(t){var s=t.data,a=s.count,n=(s.page_count,s.list);e.total=a,e.addressList=n,e.loading=!1})).catch((function(t){e.loading=!1,e.$message.error(t.message)}))},handlePageSizeChange:function(e){this.pageSize=e,this.refresh()},handleCurrentPageChange:function(e){this.currentPage=e,this.refresh()},refresh:function(){this.loading=!0,this.getListData()},setDefault:function(e){var t=this;Object(i["n"])({id:e}).then((function(e){t.refresh(),t.$message({message:"修改默认地址成功",type:"success"})})).catch((function(e){t.$message.error(e.message)}))},addAddress:function(e,t){"edit"==e?this.$router.push({path:"/member/address_edit",query:{id:t}}):this.$router.push({path:"/member/address_edit"})},delAddress:function(e,t){var s=this;this.$confirm("确定要删除该地址吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){1!=t?Object(i["i"])({id:e}).then((function(e){s.refresh(),s.$message({message:e.message,type:"success"})})).catch((function(e){s.$message.error(e.message)})):s.$message({type:"warning",message:"默认地址，不能删除!"})}))}}},d=r,c=(s("0f6b"),s("2877")),u=Object(c["a"])(d,a,n,!1,null,"4ce683da",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-af93bf52.e730405c.js.map