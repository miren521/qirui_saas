{"version":3,"sources":["webpack:///./src/views/member/delivery_address.vue?f429","webpack:///./src/views/member/delivery_address.vue?1c87","webpack:///src/views/member/delivery_address.vue","webpack:///./src/views/member/delivery_address.vue?9257","webpack:///./src/views/member/delivery_address.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","slot","_v","on","$event","addAddress","_l","item","index","key","_s","is_default","_e","mobile","full_address","address","setDefault","id","delAddress","total","currentPage","pageSize","handlePageSizeChange","handleCurrentPageChange","staticRenderFns","component"],"mappings":"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","file":"assets/js/chunk-af93bf52.e730405c.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delivery_address.vue?vue&type=style&index=0&id=4ce683da&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delivery_address.vue?vue&type=style&index=0&id=4ce683da&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"box\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.yes),expression:\"yes\"}],staticClass:\"null-page\"}),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"收货地址\")])]),_c('div',[_c('div',{staticClass:\"ns-member-address-list\"},[_c('div',{staticClass:\"text item ns-add-address\",on:{\"click\":function($event){return _vm.addAddress('add')}}},[_c('span',[_vm._v(\"+ 添加收货地址\")])]),_vm._l((_vm.addressList),function(item,index){return _c('div',{key:index,staticClass:\"text item\"},[_c('div',{staticClass:\"text-name\"},[_c('span',[_vm._v(_vm._s(item.name))]),(item.is_default == 1)?_c('span',{staticClass:\"text-default\"},[_vm._v(\"默认\")]):_vm._e()]),_c('div',{staticClass:\"text-content\"},[_c('p',[_vm._v(_vm._s(item.mobile))]),_c('p',{staticClass:\"ns-address-detail\",attrs:{\"title\":item.full_address + item.address}},[_vm._v(_vm._s(item.full_address)+_vm._s(item.address))])]),_c('div',{staticClass:\"text-operation\"},[(item.is_default != 1)?_c('span',{on:{\"click\":function($event){return _vm.setDefault(item.id)}}},[_vm._v(\"设为默认\")]):_vm._e(),_c('span',{on:{\"click\":function($event){return _vm.addAddress('edit', item.id)}}},[_vm._v(\"编辑\")]),(item.is_default != 1)?_c('span',{on:{\"click\":function($event){return _vm.delAddress(item.id, item.is_default)}}},[_vm._v(\"删除\")]):_vm._e()])])})],2),_c('div',{staticClass:\"pager\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"pager-count\":5,\"total\":_vm.total,\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"hide-on-single-page\":\"\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:pageSize\":function($event){_vm.pageSize=$event},\"update:page-size\":function($event){_vm.pageSize=$event},\"size-change\":_vm.handlePageSizeChange,\"current-change\":_vm.handleCurrentPageChange}})],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"box\" v-loading=\"loading\">\r\n\t\t<div class=\"null-page\" v-show=\"yes\"></div>\r\n\t\t\r\n\t\t<el-card class=\"box-card\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t<span>收货地址</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"ns-member-address-list\">\r\n\t\t\t\t\t<div class=\"text item ns-add-address\" @click=\"addAddress('add')\">\r\n\t\t\t\t\t\t<span>+ 添加收货地址</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"text item\" v-for=\"(item, index) in addressList\" :key=\"index\">\r\n\t\t\t\t\t\t<div class=\"text-name\">\r\n\t\t\t\t\t\t\t<span>{{ item.name }}</span>\r\n\t\t\t\t\t\t\t<span v-if=\"item.is_default == 1\" class=\"text-default\">默认</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"text-content\">\r\n\t\t\t\t\t\t\t<p>{{ item.mobile }}</p>\r\n\t\t\t\t\t\t\t<p :title=\"item.full_address + item.address\" class=\"ns-address-detail\">{{ item.full_address }}{{ item.address }}</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"text-operation\">\r\n\t\t\t\t\t\t\t<span v-if=\"item.is_default != 1\" @click=\"setDefault(item.id)\">设为默认</span>\r\n\t\t\t\t\t\t\t<span @click=\"addAddress('edit', item.id)\">编辑</span>\r\n\t\t\t\t\t\t\t<span v-if=\"item.is_default != 1\" @click=\"delAddress(item.id, item.is_default)\">删除</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"pager\">\r\n\t\t\t\t\t<el-pagination \r\n\t\t\t\t\t\tbackground \r\n\t\t\t\t\t\t:pager-count=\"5\" \r\n\t\t\t\t\t\t:total=\"total\" \r\n\t\t\t\t\t\tprev-text=\"上一页\" \r\n\t\t\t\t\t\tnext-text=\"下一页\" \r\n\t\t\t\t\t\t:current-page.sync=\"currentPage\" \r\n\t\t\t\t\t\t:page-size.sync=\"pageSize\" \r\n\t\t\t\t\t\t@size-change=\"handlePageSizeChange\" \r\n\t\t\t\t\t\t@current-change=\"handleCurrentPageChange\" \r\n\t\t\t\t\t\thide-on-single-page\r\n\t\t\t\t\t></el-pagination>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n    import { addressList, setDefault, deleteAddress } from \"@/api/member/member\"\r\n\r\n    export default {\r\n        name: \"delivery_address\",\r\n        components: {},\r\n        data: () => {\r\n            return {\r\n                addressList: [],\r\n                total: 0,\r\n                currentPage: 1,\r\n                pageSize: 8,\r\n                loading: true,\r\n\t\t\t\tyes: true\r\n            }\r\n        },\r\n        created() {\r\n            this.getListData()\r\n        },\r\n\t\tmounted() {\r\n\t\t\tlet self = this;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tself.yes = false\r\n\t\t\t}, 300)\r\n\t\t},\r\n        methods: {\r\n            getListData() {\r\n                addressList({\r\n                    page: this.currentPage,\r\n                    page_size: this.pageSize\r\n                })\r\n                    .then(res => {\r\n                        const { count, page_count, list } = res.data\r\n                        this.total = count\r\n                        this.addressList = list\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        this.loading = false\r\n                        this.$message.error(err.message)\r\n                    })\r\n            },\r\n            handlePageSizeChange(size) {\r\n                this.pageSize = size\r\n                this.refresh()\r\n            },\r\n            handleCurrentPageChange(page) {\r\n                this.currentPage = page\r\n                this.refresh()\r\n            },\r\n            refresh() {\r\n                this.loading = true\r\n                this.getListData()\r\n            },\r\n            /**\r\n             * 设为默认\r\n             */\r\n            setDefault(id) {\r\n                setDefault({\r\n                    id: id\r\n                })\r\n                    .then(res => {\r\n                        this.refresh()\r\n                        this.$message({\r\n                            message: \"修改默认地址成功\",\r\n                            type: \"success\"\r\n                        })\r\n                    })\r\n                    .catch(err => {\r\n                        this.$message.error(err.message)\r\n                    })\r\n            },\r\n\r\n            /**\r\n             * 添加/编辑地址\r\n             */\r\n            addAddress(type, id) {\r\n                if (type == \"edit\") {\r\n                    this.$router.push({ path: \"/member/address_edit\", query: { id: id } })\r\n                } else {\r\n                    this.$router.push({ path: \"/member/address_edit\" })\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 删除地址\r\n             */\r\n            delAddress(id, is_default) {\r\n                this.$confirm(\"确定要删除该地址吗?\", \"提示\", {\r\n                    confirmButtonText: \"确定\",\r\n                    cancelButtonText: \"取消\",\r\n                    type: \"warning\"\r\n                }).then(() => {\r\n                    if (is_default == 1) {\r\n                        this.$message({\r\n                            type: \"warning\",\r\n                            message: \"默认地址，不能删除!\"\r\n                        })\r\n                        return\r\n                    }\r\n\r\n                    deleteAddress({\r\n                        id: id\r\n                    })\r\n                        .then(res => {\r\n                            this.refresh()\r\n                            this.$message({ message: res.message, type: \"success\" })\r\n                        })\r\n                        .catch(err => {\r\n                            this.$message.error(err.message)\r\n                        })\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.box {\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.null-page {\r\n\t\twidth: 100%;\r\n\t\theight: 730px;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 9;\r\n\t}\r\n\t\r\n    .el-card.is-always-shadow,\r\n    .el-card.is-hover-shadow:focus,\r\n    .el-card.is-hover-shadow:hover {\r\n        box-shadow: unset;\r\n    }\r\n\r\n    .el-card {\r\n        border: 0;\r\n    }\r\n\r\n    .ns-member-address-list {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n\r\n        .text {\r\n            width: 32%;\r\n            height: 140px;\r\n            margin-right: 2%;\r\n            border-radius: 5px;\r\n            border: 1px solid #d8d8d8;\r\n            margin-bottom: 20px;\r\n            padding: 0 15px;\r\n            box-sizing: border-box;\r\n\r\n            .text-name {\r\n                height: 37px;\r\n                line-height: 40px;\r\n                padding: 0 10px;\r\n                border-bottom: 1px solid #eeeeee;\r\n            }\r\n\r\n            .text-default {\r\n                display: inline-block;\r\n                margin-left: 10px;\r\n                background: $base-color;\r\n                color: #ffffff;\r\n                width: 35px;\r\n                height: 20px;\r\n                line-height: 20px;\r\n                text-align: center;\r\n                border-radius: 3px;\r\n            }\r\n\r\n            .text-content {\r\n                padding: 10px;\r\n            }\r\n\r\n            .ns-address-detail {\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                white-space: nowrap;\r\n            }\r\n\r\n            .text-operation {\r\n                // 操作\r\n                text-align: right;\r\n\r\n                span {\r\n                    margin: 0 5px;\r\n                    color: #999999;\r\n                    cursor: pointer;\r\n                }\r\n\r\n                span:hover {\r\n                    color: $base-color;\r\n                }\r\n            }\r\n        }\r\n\r\n        .text:nth-child(3n) {\r\n            margin-right: 0;\r\n        }\r\n\r\n        .ns-add-address {\r\n            border: 1px dashed #d8d8d8;\r\n            text-align: center;\r\n            color: #999999;\r\n            line-height: 140px;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .ns-add-address:hover {\r\n            border-color: $base-color;\r\n            color: $base-color;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delivery_address.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delivery_address.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./delivery_address.vue?vue&type=template&id=4ce683da&scoped=true&\"\nimport script from \"./delivery_address.vue?vue&type=script&lang=js&\"\nexport * from \"./delivery_address.vue?vue&type=script&lang=js&\"\nimport style0 from \"./delivery_address.vue?vue&type=style&index=0&id=4ce683da&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ce683da\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}