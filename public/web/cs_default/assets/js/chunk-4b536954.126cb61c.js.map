{"version":3,"sources":["webpack:///./src/views/member/coupon.vue?1eaf","webpack:///./src/views/member/coupon.vue?5c67","webpack:///./src/views/member/coupon.vue?118c","webpack:///src/views/member/coupon.vue","webpack:///./src/views/member/coupon.vue?26ff","webpack:///./src/views/member/coupon.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","slot","_v","on","handleClickSource","model","callback","$$v","couponsource","handleClickStatus","couponstatus","_l","item","index","key","class","state","$event","useCoupon","discount","_s","money","coupon_name","platformcoupon_name","site_name","_e","at_least","fixed_term","$timeStampTurnTime","end_time","couponList","length","text","total","currentPage","pageSize","handlePageSizeChange","handleCurrentPageChange","staticRenderFns","component"],"mappings":"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","file":"assets/js/chunk-4b536954.126cb61c.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=style&index=1&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=style&index=0&id=39bf2c70&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=style&index=0&id=39bf2c70&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.yes),expression:\"yes\"}],staticClass:\"null-page\"}),_c('el-card',{staticClass:\"box-card member-coupon\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"我的优惠券\")])]),_c('div',[_c('el-tabs',{on:{\"tab-click\":_vm.handleClickSource},model:{value:(_vm.couponsource),callback:function ($$v) {_vm.couponsource=$$v},expression:\"couponsource\"}},[_c('el-tab-pane',{attrs:{\"label\":\"店铺优惠券\",\"name\":\"1\"}}),_c('el-tab-pane',{attrs:{\"label\":\"平台优惠券\",\"name\":\"2\"}})],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClickStatus},model:{value:(_vm.couponstatus),callback:function ($$v) {_vm.couponstatus=$$v},expression:\"couponstatus\"}},[_c('el-tab-pane',{attrs:{\"label\":\"未使用\",\"name\":\"1\"}}),_c('el-tab-pane',{attrs:{\"label\":\"已使用\",\"name\":\"2\"}}),_c('el-tab-pane',{attrs:{\"label\":\"已过期\",\"name\":\"3\"}})],1),_c('div',{staticClass:\"coupon-wrap\"},[_vm._l((_vm.couponList),function(item,index){return _c('div',{key:index,staticClass:\"text item\",class:_vm.state == '1' ? 'coupon-not-used' : _vm.state == '2' ? 'coupon-used' : 'coupon-expire',on:{\"click\":function($event){return _vm.useCoupon(item)}}},[[(item.discount == '0.00' || !item.discount)?_c('p',{staticClass:\"coupon-wrap-money\"},[_vm._v(\" ￥ \"),_c('span',[_vm._v(_vm._s(item.money))])]):_c('p',{staticClass:\"coupon-wrap-money\"},[_c('span',[_vm._v(_vm._s(item.discount))]),_vm._v(\" 折 \")])],_c('p',{staticClass:\"coupon-wrap-name\"},[_vm._v(_vm._s(_vm.couponsource == '1' ? item.coupon_name : item.platformcoupon_name))]),(_vm.couponsource == '1')?_c('p',{staticClass:\"coupon-wrap-site coupon-wrap-info\"},[_vm._v(\"使用店铺：\"+_vm._s(item.site_name))]):_vm._e(),[(item.at_least > 0)?_c('p',{staticClass:\"coupon-wrap-least coupon-wrap-info\"},[_vm._v(\"满\"+_vm._s(item.at_least)+\"元可用\")]):_c('p',{staticClass:\"coupon-wrap-least coupon-wrap-info\"},[_vm._v(\"无门槛优惠券\")])],[(item.validity_type)?_c('p',{staticClass:\"coupon-wrap-time coupon-wrap-info\"},[_vm._v(\"领取之日起\"+_vm._s(item.fixed_term)+\"日内有效\")]):_c('p',{staticClass:\"coupon-wrap-time coupon-wrap-info\"},[_vm._v(\"有效期至\"+_vm._s(_vm.$timeStampTurnTime(item.end_time)))])]],2)}),(_vm.couponList.length == 0)?_c('div',{staticClass:\"empty-text\"},[_vm._v(_vm._s(_vm.text))]):_vm._e()],2),_c('div',{staticClass:\"pager\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"pager-count\":5,\"total\":_vm.total,\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"hide-on-single-page\":\"\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:pageSize\":function($event){_vm.pageSize=$event},\"update:page-size\":function($event){_vm.pageSize=$event},\"size-change\":_vm.handlePageSizeChange,\"current-change\":_vm.handleCurrentPageChange}})],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"box\">\r\n\t\t<div class=\"null-page\" v-show=\"yes\"></div>\r\n\t\t\r\n\t\t<el-card class=\"box-card member-coupon\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\"><span>我的优惠券</span></div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<el-tabs v-model=\"couponsource\" @tab-click=\"handleClickSource\">\r\n\t\t\t\t\t<el-tab-pane label=\"店铺优惠券\" name=\"1\"></el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"平台优惠券\" name=\"2\"></el-tab-pane>\r\n\t\t\t\t</el-tabs>\r\n\r\n\t\t\t\t<div v-loading=\"loading\">\r\n\t\t\t\t\t<el-tabs v-model=\"couponstatus\" @tab-click=\"handleClickStatus\">\r\n\t\t\t\t\t\t<el-tab-pane label=\"未使用\" name=\"1\"></el-tab-pane>\r\n\t\t\t\t\t\t<el-tab-pane label=\"已使用\" name=\"2\"></el-tab-pane>\r\n\t\t\t\t\t\t<el-tab-pane label=\"已过期\" name=\"3\"></el-tab-pane>\r\n\t\t\t\t\t</el-tabs>\r\n\r\n\t\t\t\t\t<div class=\"coupon-wrap\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"text item\"\r\n\t\t\t\t\t\t\t:class=\"state == '1' ? 'coupon-not-used' : state == '2' ? 'coupon-used' : 'coupon-expire'\"\r\n\t\t\t\t\t\t\tv-for=\"(item, index) in couponList\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"useCoupon(item)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-money\" v-if=\"item.discount == '0.00' || !item.discount\">\r\n\t\t\t\t\t\t\t\t\t￥\r\n\t\t\t\t\t\t\t\t\t<span>{{ item.money }}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-money\" v-else>\r\n\t\t\t\t\t\t\t\t\t<span>{{ item.discount }}</span>\r\n\t\t\t\t\t\t\t\t\t折\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<p class=\"coupon-wrap-name\">{{ couponsource == '1' ? item.coupon_name : item.platformcoupon_name }}</p>\r\n\t\t\t\t\t\t\t<p class=\"coupon-wrap-site coupon-wrap-info\" v-if=\"couponsource == '1'\">使用店铺：{{ item.site_name }}</p>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-least coupon-wrap-info\" v-if=\"item.at_least > 0\">满{{ item.at_least }}元可用</p>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-least coupon-wrap-info\" v-else>无门槛优惠券</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-time coupon-wrap-info\" v-if=\"item.validity_type\">领取之日起{{ item.fixed_term }}日内有效</p>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-time coupon-wrap-info\" v-else>有效期至{{ $timeStampTurnTime(item.end_time) }}</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"empty-text\" v-if=\"couponList.length == 0\">{{ text }}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"pager\">\r\n\t\t\t\t\t\t<el-pagination \r\n\t\t\t\t\t\t\tbackground \r\n\t\t\t\t\t\t\t:pager-count=\"5\" \r\n\t\t\t\t\t\t\t:total=\"total\" \r\n\t\t\t\t\t\t\tprev-text=\"上一页\" \r\n\t\t\t\t\t\t\tnext-text=\"下一页\" \r\n\t\t\t\t\t\t\t:current-page.sync=\"currentPage\" \r\n\t\t\t\t\t\t\t:page-size.sync=\"pageSize\" \r\n\t\t\t\t\t\t\t@size-change=\"handlePageSizeChange\" \r\n\t\t\t\t\t\t\t@current-change=\"handleCurrentPageChange\" \r\n\t\t\t\t\t\t\thide-on-single-page\r\n\t\t\t\t\t\t></el-pagination>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\t\r\n</template>\r\n\r\n<script>\r\nimport { couponList } from '@/api/member/member';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n\tname: 'my_coupon',\r\n\tcomponents: {},\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\ttotal: 0,\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tpageSize: 9,\r\n\t\t\tcouponsource: '1',\r\n\t\t\tcouponstatus: '1',\r\n\t\t\tcouponList: [],\r\n\t\t\ttype: '',\r\n\t\t\tstate: 1,\r\n\t\t\ttext: '您还没有优惠券哦',\r\n\t\t\tloading: true,\r\n\t\t\tyes: true\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tif (this.addonIsExit && this.addonIsExit.coupon != 1) {\r\n\t\t\tthis.$message({\r\n\t\t\t\tmessage: '优惠券插件未安装',\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tduration: 2000,\r\n\t\t\t\tonClose: () => {\r\n\t\t\t\t\tthis.$route.push('/member/index');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.getListData();\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tlet self = this;\r\n\t\tsetTimeout(function() {\r\n\t\t\tself.yes = false\r\n\t\t}, 300)\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['addonIsExit'])\r\n\t},\r\n\twatch: {\r\n\t\taddonIsExit() {\r\n\t\t\tif (this.addonIsExit.coupon != 1) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '优惠券插件未安装',\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\tthis.$route.push('/member/index');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 优惠券来源(店铺/平台)\r\n\t\t */\r\n\t\thandleClickSource(tab, event) {\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\t\t/**\r\n\t\t * 优惠券状态(未使用/已使用/已过期)\r\n\t\t */\r\n\t\thandleClickStatus(tab, event) {\r\n\t\t\tif (tab.name == '1') {\r\n\t\t\t\tthis.state = 1;\r\n\t\t\t\tthis.text = '您还没有优惠券哦';\r\n\t\t\t} else if (tab.name == '2') {\r\n\t\t\t\tthis.state = 2;\r\n\t\t\t\tthis.text = '您还没有使用过优惠券哦';\r\n\t\t\t} else {\r\n\t\t\t\tthis.state = 3;\r\n\t\t\t\tthis.text = '您还没有过期优惠券哦';\r\n\t\t\t}\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\t\thandlePageSizeChange(size) {\r\n\t\t\tthis.pageSize = size;\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\t\thandleCurrentPageChange(page) {\r\n\t\t\tthis.currentPage = page;\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\t\trefresh() {\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.getListData();\r\n\t\t},\r\n\t\t// 获取优惠券列表\r\n\t\tgetListData() {\r\n\t\t\tcouponList({\r\n\t\t\t\tpage: this.currentPage,\r\n\t\t\t\tpage_size: this.pageSize,\r\n\t\t\t\tstate: this.state,\r\n\t\t\t\tis_own: this.type,\r\n\t\t\t\tcouponsource: this.couponsource\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tthis.total = res.data.count;\r\n\t\t\t\t\t\tthis.couponList = res.data.list;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tthis.$message.error(err.message);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 去使用优惠券\r\n\t\tuseCoupon(item) {\r\n\t\t\tif (item.state == 1) {\r\n\t\t\t\tif (this.couponsource == '1') {\r\n\t\t\t\t\tif (item.goods_type != 1) {\r\n\t\t\t\t\t\tthis.$router.push({ path: '/shop_list', query: { site_id: item.site_id, couponId: item.coupon_type_id } });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$router.push({ path: '/shop_list', query: { site_id: item.site_id } });\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (item.use_scenario != 1) {\r\n\t\t\t\t\t\tthis.$router.push({ path: '/list', query: { platform_coupon_type: item.platformcoupon_type_id } });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$router.push('/list');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.box {\r\n\twidth: 100%;\r\n\tposition: relative;\r\n}\r\n\r\n.null-page {\r\n\twidth: 100%;\r\n\theight: 730px;\r\n\tbackground-color: #FFFFFF;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 9;\r\n}\r\n\r\n.el-card.is-always-shadow,\r\n.el-card.is-hover-shadow:focus,\r\n.el-card.is-hover-shadow:hover {\r\n\tbox-shadow: unset;\r\n}\r\n\r\n.el-card {\r\n\tborder: 0;\r\n}\r\n\r\n.coupon-wrap {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tflex-wrap: wrap;\r\n\r\n\t.text {\r\n\t\twidth: 32%;\r\n\t\theight: 140px;\r\n\t\tmargin-right: 2%;\r\n\t\tborder-radius: 5px;\r\n\t\tborder: 1px dashed #fff;\r\n\t\tmargin-bottom: 20px;\r\n\t\tpadding: 0 15px;\r\n\t\tbox-sizing: border-box;\r\n\t\tcolor: #ffffff;\r\n\r\n\t\t.coupon-wrap-money {\r\n\t\t\tspan {\r\n\t\t\t\tfont-size: 30px;\r\n\t\t\t\tmargin-right: 5px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.coupon-wrap-info {\r\n\t\t\tfont-size: 12px;\r\n\t\t\tline-height: 18px;\r\n\t\t}\r\n\t}\r\n\r\n\t.text:nth-child(3n) {\r\n\t\tmargin-right: 0;\r\n\t}\r\n\r\n\t.coupon-not-used {\r\n\t\tbackground-color: $base-color;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.coupon-used {\r\n\t\tbackground-color: hsl(360, 50%, 70%);\r\n\t}\r\n\r\n\t.coupon-expire {\r\n\t\tbackground-color: #d0d0d0;\r\n\t}\r\n\r\n\t.coupon-wrap-info {\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 20px;\r\n\t}\r\n\r\n\t.empty-text {\r\n\t\tmargin: 0 auto;\r\n\t}\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.member-coupon {\r\n\t.el-tabs__active-bar,\r\n\t.el-tabs__nav-wrap::after {\r\n\t\t/* 清除tab标签底部横线 */\r\n\t\theight: 0;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./coupon.vue?vue&type=template&id=39bf2c70&scoped=true&\"\nimport script from \"./coupon.vue?vue&type=script&lang=js&\"\nexport * from \"./coupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./coupon.vue?vue&type=style&index=0&id=39bf2c70&lang=scss&scoped=true&\"\nimport style1 from \"./coupon.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39bf2c70\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}